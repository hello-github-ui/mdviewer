"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[8401],{83420:(e,t,n)=>{n.d(t,{A:()=>l});var s=n(96540),a=n(90699),i=n(40961),o=n(74848);function r(e){var t=e.src,n=e.alt,a=e.onClose,r=(0,s.useState)(!0),l=r[0],d=r[1],c=(0,s.useState)({width:0,height:0}),u=c[0],m=c[1],g=(0,s.useCallback)(function(e){"Escape"===e.key&&a()},[a]);return(0,s.useEffect)(function(){return document.addEventListener("keydown",g),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",g),document.body.style.overflow="unset"}},[g]),"undefined"==typeof window?null:(0,i.createPortal)((0,o.jsx)("div",{className:"image-modal-backdrop",onClick:function(e){e.target===e.currentTarget&&a()},children:(0,o.jsxs)("div",{className:"image-modal-container",children:[l&&(0,o.jsxs)("div",{className:"image-modal-loading",children:[(0,o.jsx)("div",{className:"loading-spinner"}),(0,o.jsx)("p",{children:"\u52a0\u8f7d\u4e2d..."})]}),(0,o.jsx)("img",{src:t,alt:n,className:"image-modal-img "+(l?"hidden":"visible"),onLoad:function(e){d(!1);var t=e.target,n=t.naturalWidth,s=t.naturalHeight;m({width:n,height:s})},draggable:!1}),(0,o.jsx)("button",{className:"image-modal-close",onClick:a,"aria-label":"\u5173\u95ed\u56fe\u7247\u9884\u89c8",children:"\u2715"}),!l&&(0,o.jsxs)("div",{className:"image-modal-info",children:[(0,o.jsx)("span",{children:n||"\u56fe\u7247"}),(0,o.jsxs)("span",{className:"image-dimensions",children:[u.width," \xd7 ",u.height]})]})]})}),document.body)}const l=Object.assign({},a.A,{img:function(e){var t=(0,s.useState)(!1),n=t[0],a=t[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",Object.assign({},e,{onClick:function(e){e.preventDefault(),a(!0)},style:Object.assign({},e.style,{cursor:"zoom-in",borderRadius:"8px",transition:"box-shadow 0.2s ease, filter 0.2s ease",imageRendering:"auto"}),onMouseEnter:function(e){e.target.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.15)",e.target.style.filter="brightness(1.05)"},onMouseLeave:function(e){e.target.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.04)",e.target.style.filter="brightness(1)"},title:"\u70b9\u51fb\u67e5\u770b\u5927\u56fe"})),n&&(0,o.jsx)(r,{src:e.src,alt:e.alt,onClose:function(){a(!1)}})]})}})}}]);