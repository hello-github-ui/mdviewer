"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[3007],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>d});var s=t(96540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}},42018:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","title":"03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","description":"1\u3001\u5b9a\u4e49data\u6570\u636e","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":3,"frontMatter":{"id":"03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","title":"03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1"},"next":{"title":"04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1"}}');var r=t(74848),i=t(28453);const a={id:"03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0",title:"03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0",tags:["\u5c1a\u7845\u8c37"]},d="\u4e00\u3001\u5b9a\u4e49api",l={},o=[{value:"1\u3001\u5b9a\u4e49data\u6570\u636e",id:"1\u5b9a\u4e49data\u6570\u636e",level:2},{value:"2\u3001\u6dfb\u52a0\u7ae0\u8282\u6309\u94ae",id:"2\u6dfb\u52a0\u7ae0\u8282\u6309\u94ae",level:2},{value:"3\u3001\u7ae0\u8282\u8868\u5355dialog",id:"3\u7ae0\u8282\u8868\u5355dialog",level:2},{value:"4\u3001\u6dfb\u52a0\u7ae0\u8282methods",id:"4\u6dfb\u52a0\u7ae0\u8282methods",level:2},{value:"1\u3001\u7f16\u8f91\u7ae0\u8282\u6309\u94ae",id:"1\u7f16\u8f91\u7ae0\u8282\u6309\u94ae",level:2},{value:"2\u3001\u5b9a\u4e49\u7f16\u8f91\u65b9\u6cd5",id:"2\u5b9a\u4e49\u7f16\u8f91\u65b9\u6cd5",level:2},{value:"3\u3001\u5b9a\u4e49\u66f4\u65b0\u65b9\u6cd5",id:"3\u5b9a\u4e49\u66f4\u65b0\u65b9\u6cd5",level:2},{value:"1\u3001\u6309\u94ae",id:"1\u6309\u94ae",level:2},{value:"2\u3001\u5b9a\u4e49\u5220\u9664\u65b9\u6cd5",id:"2\u5b9a\u4e49\u5220\u9664\u65b9\u6cd5",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4e00\u5b9a\u4e49api",children:"\u4e00\u3001\u5b9a\u4e49api"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"  removeById(id) {\n    return request({\n      url: `${api_name}/${id}`,\n      method: 'delete'\n    })\n  },\n\n  save(chapter) {\n    return request({\n      url: api_name,\n      method: 'post',\n      data: chapter\n    })\n  },\n\n  getById(id) {\n    return request({\n      url: `${api_name}/${id}`,\n      method: 'get'\n    })\n  },\n\n  updateById(chapter) {\n    return request({\n      url: `${api_name}/${chapter.id}`,\n      method: 'put',\n      data: chapter\n    })\n  }\n"})}),"\n",(0,r.jsx)(n.h1,{id:"\u4e8c\u65b0\u589e\u7ae0\u8282\u9875\u9762\u529f\u80fd",children:"\u4e8c\u3001\u65b0\u589e\u7ae0\u8282\u9875\u9762\u529f\u80fd"}),"\n",(0,r.jsx)(n.h2,{id:"1\u5b9a\u4e49data\u6570\u636e",children:"1\u3001\u5b9a\u4e49data\u6570\u636e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"dialogChapterFormVisible: false, //\u662f\u5426\u663e\u793a\u7ae0\u8282\u8868\u5355\nchapter: {// \u7ae0\u8282\u5bf9\u8c61\n  title: '',\n  sort: 0\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2\u6dfb\u52a0\u7ae0\u8282\u6309\u94ae",children:"2\u3001\u6dfb\u52a0\u7ae0\u8282\u6309\u94ae"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'<el-button type="text" @click="dialogChapterFormVisible = true">\u6dfb\u52a0\u7ae0\u8282</el-button>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3\u7ae0\u8282\u8868\u5355dialog",children:"3\u3001\u7ae0\u8282\u8868\u5355dialog"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\x3c!-- \u6dfb\u52a0\u548c\u4fee\u6539\u7ae0\u8282\u8868\u5355 --\x3e\n<el-dialog :visible.sync="dialogChapterFormVisible" title="\u6dfb\u52a0\u7ae0\u8282">\n    <el-form :model="chapter" label-width="120px">\n        <el-form-item label="\u7ae0\u8282\u6807\u9898">\n            <el-input v-model="chapter.title"/>\n        </el-form-item>\n        <el-form-item label="\u7ae0\u8282\u6392\u5e8f">\n            <el-input-number v-model="chapter.sort" :min="0" controls-position="right"/>\n        </el-form-item>\n    </el-form>\n    <div slot="footer" class="dialog-footer">\n        <el-button @click="dialogChapterFormVisible = false">\u53d6 \u6d88</el-button>\n        <el-button type="primary" @click="saveOrUpdate">\u786e \u5b9a</el-button>\n    </div>\n</el-dialog>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"4\u6dfb\u52a0\u7ae0\u8282methods",children:"4\u3001\u6dfb\u52a0\u7ae0\u8282methods"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"saveOrUpdate() {\n  this.saveBtnDisabled = true\n  if (!this.chapter.id) {\n    this.saveData()\n  } else {\n    this.updateData()\n  }\n},\n\nsaveData() {\n  this.chapter.courseId = this.courseId\n  chapter.save(this.chapter).then(response => {\n    this.$message({\n      type: 'success',\n      message: '\u4fdd\u5b58\u6210\u529f!'\n    })\n    this.helpSave()\n  }).catch((response) => {\n    this.$message({\n      type: 'error',\n      message: response.message\n    })\n  })\n},\n\nupdateData() {\n\n},\n    \nhelpSave(){\n  this.dialogChapterFormVisible = false// \u5982\u679c\u4fdd\u5b58\u6210\u529f\u5219\u5173\u95ed\u5bf9\u8bdd\u6846\n  this.fetchChapterNestedListByCourseId()// \u5237\u65b0\u5217\u8868\n  this.chapter.title = ''// \u91cd\u7f6e\u7ae0\u8282\u6807\u9898\n  this.chapter.sort = 0// \u91cd\u7f6e\u7ae0\u8282\u6807\u9898\n  this.saveBtnDisabled = false\n},\n"})}),"\n",(0,r.jsx)(n.h1,{id:"\u4e09\u4fee\u6539\u7ae0\u8282\u4fe1\u606f",children:"\u4e09\u3001\u4fee\u6539\u7ae0\u8282\u4fe1\u606f"}),"\n",(0,r.jsx)(n.h2,{id:"1\u7f16\u8f91\u7ae0\u8282\u6309\u94ae",children:"1\u3001\u7f16\u8f91\u7ae0\u8282\u6309\u94ae"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'<el-button type="text" @click="editChapter(chapter.id)">\u7f16\u8f91</el-button>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2\u5b9a\u4e49\u7f16\u8f91\u65b9\u6cd5",children:"2\u3001\u5b9a\u4e49\u7f16\u8f91\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"editChapter(chapterId) {\n    this.dialogChapterFormVisible = true\n    chapter.getById(chapterId).then(response => {\n        this.chapter = response.data.item\n    })\n},\n"})}),"\n",(0,r.jsx)(n.h2,{id:"3\u5b9a\u4e49\u66f4\u65b0\u65b9\u6cd5",children:"3\u3001\u5b9a\u4e49\u66f4\u65b0\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"updateData() {\n  chapter.updateById(this.chapter).then(response => {\n    this.$message({\n      type: 'success',\n      message: '\u4fee\u6539\u6210\u529f!'\n    })\n    this.helpSave()\n  }).catch((response) => {\n    // console.log(response)\n    this.$message({\n      type: 'error',\n      message: response.message\n    })\n  })\n},\n"})}),"\n",(0,r.jsx)(n.h1,{id:"\u56db\u5220\u9664\u7ae0\u8282",children:"\u56db\u3001\u5220\u9664\u7ae0\u8282"}),"\n",(0,r.jsx)(n.h2,{id:"1\u6309\u94ae",children:"1\u3001\u6309\u94ae"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'<el-button type="text" @click="removeChapter(chapter.id)">\u5220\u9664</el-button>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2\u5b9a\u4e49\u5220\u9664\u65b9\u6cd5",children:"2\u3001\u5b9a\u4e49\u5220\u9664\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"removeChapter(chapterId) {\n  this.$confirm('\u6b64\u64cd\u4f5c\u5c06\u6c38\u4e45\u5220\u9664\u8be5\u8bb0\u5f55, \u662f\u5426\u7ee7\u7eed?', '\u63d0\u793a', {\n    confirmButtonText: '\u786e\u5b9a',\n    cancelButtonText: '\u53d6\u6d88',\n    type: 'warning'\n  }).then(() => {\n    return chapter.removeById(chapterId)\n  }).then(() => {\n    this.fetchChapterNestedListByCourseId()// \u5237\u65b0\u5217\u8868\n    this.$message({\n      type: 'success',\n      message: '\u5220\u9664\u6210\u529f!'\n    })\n  }).catch((response) => { // \u5931\u8d25\n    if (response === 'cancel') {\n      this.$message({\n        type: 'info',\n        message: '\u5df2\u53d6\u6d88\u5220\u9664'\n      })\n    } else {\n      this.$message({\n        type: 'error',\n        message: response.message\n      })\n    }\n  })\n},\n"})})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);