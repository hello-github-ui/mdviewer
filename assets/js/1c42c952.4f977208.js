"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[7104],{6892:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>c,toc:()=>d});const c=JSON.parse('{"id":"\u4e2a\u4eba\u535a\u5ba2/\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b","title":"\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b","description":"\u5728\u8bf4\u591a\u7ebf\u7a0b\u4e4b\u524d\uff0c\u5148\u8bf4\u4e24\u4e2a\u6982\u5ff5\uff1a\u5e76\u884c\u548c\u5e76\u53d1\u3002","source":"@site/docs/\u4e2a\u4eba\u535a\u5ba2/\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b.md","sourceDirName":"\u4e2a\u4eba\u535a\u5ba2","slug":"/\u4e2a\u4eba\u535a\u5ba2/\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b","permalink":"/mdviewer/docs/\u4e2a\u4eba\u535a\u5ba2/\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/docs/\u4e2a\u4eba\u535a\u5ba2/\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b.md","tags":[{"inline":true,"label":"\u4e2a\u4eba\u535a\u5ba2","permalink":"/mdviewer/docs/tags/\u4e2a\u4eba\u535a\u5ba2"}],"version":"current","frontMatter":{"id":"\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b","title":"\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b","tags":["\u4e2a\u4eba\u535a\u5ba2"]},"sidebar":"tutorialSidebar","previous":{"title":"\u5408\u5e76\u591a\u4e2a\u6709\u5e8f\u6570\u7ec4","permalink":"/mdviewer/docs/\u4e2a\u4eba\u535a\u5ba2/\u5408\u5e76\u591a\u4e2a\u6709\u5e8f\u6570\u7ec4"},"next":{"title":"\u66f4\u597d\u5730\u4f7f\u7528\u641c\u7d22\u5f15\u64ce","permalink":"/mdviewer/docs/\u4e2a\u4eba\u535a\u5ba2/\u66f4\u597d\u5730\u4f7f\u7528\u641c\u7d22\u5f15\u64ce"}}');var i=t(4848),r=t(8453);const l={id:"\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b",title:"\u591a\u7ebf\u7a0b\u5b89\u5168\u5b66\u4e60\u4e4b\u552e\u7968\u6848\u4f8b",tags:["\u4e2a\u4eba\u535a\u5ba2"]},a=void 0,s={},d=[{value:"\u552e\u7968\u7684\u7b80\u5355\u4f8b\u5b50",id:"\u552e\u7968\u7684\u7b80\u5355\u4f8b\u5b50",level:2},{value:"\u89e3\u51b3\u591a\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898",id:"\u89e3\u51b3\u591a\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898",level:2},{value:"\u540c\u6b65\u4ee3\u7801\u5757",id:"\u540c\u6b65\u4ee3\u7801\u5757",level:3},{value:"\u540c\u6b65\u65b9\u6cd5",id:"\u540c\u6b65\u65b9\u6cd5",level:3},{value:"\u4f7f\u7528Lock\u9501\u7684\u5b50\u7c7b\u5b9e\u73b0",id:"\u4f7f\u7528lock\u9501\u7684\u5b50\u7c7b\u5b9e\u73b0",level:3}];function o(n){const e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"\u5728\u8bf4\u591a\u7ebf\u7a0b\u4e4b\u524d\uff0c\u5148\u8bf4\u4e24\u4e2a\u6982\u5ff5\uff1a\u5e76\u884c\u548c\u5e76\u53d1\u3002"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u5e76\u884c\uff1a\u6307\u4e24\u4e2a\u6216\u591a\u4e2a\u4e8b\u4ef6\u5728\u540c\u4e00\u65f6\u523b\u53d1\u751f\uff08\u540c\u65f6\u53d1\u751f\uff09\u3002\n\u5e76\u53d1\uff1a\u6307\u4e24\u4e2a\u6216\u591a\u4e2a\u4e8b\u4ef6\u5728\u540c\u4e00\u4e2a\u65f6\u95f4\u6bb5\u5185\u53d1\u751f\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u4ece\u4e0a\u9762\u7684\u6982\u5ff5\u53ef\u77e5\uff0c\u73b0\u5728\u7ecf\u5e38\u63d0\u8d77\u7684\u9ad8\u5e76\u53d1\uff0c\u5e76\u4e0d\u662f\u6307\u77ac\u65f6\u540c\u65f6\u53d1\u751f\uff0c\u800c\u662f\u4e00\u79cdCPU\u7684\u77ac\u65f6\u5927\u91cf\u5207\u6362\u5904\u7406\u7ebf\u7a0b\u7684\u60c5\u5f62\u3002CPU\u5728\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u6765\u56de\u5207\u6362\uff0c\u6765\u5904\u7406\u76f8\u5e94\u7684\u4efb\u52a1\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u73b0\u5728\u6211\u4eec\u5728\u8d2d\u4e70\u7535\u8111\u65f6\uff0c\u5bfc\u8d2d\u5458\u7ecf\u5e38\u4f1a\u8ddf\u6211\u4eec\u8bf4\u662f\u56db\u6838\u516b\u7ebf\u7a0b\u7b49\u7b49\u3002\u6307\u7684\u5c31\u662fCPU\u7684\u6838\u6570\uff0c\u8fd9\u6837\u5728\u5904\u7406\u591a\u7ebf\u7a0b\u4efb\u52a1\u65f6\uff0c\u5c31\u53ef\u4ee5\u66f4\u9ad8\u6548\u5730\u5e76\u884c\u6267\u884c\u4efb\u52a1\u4e86\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u518d\u6765\u8bf4\u4e00\u4e2a\u6982\u5ff5\uff1a\u591a\u4e2aCPU\u548c\u591a\u6838CPU\u7684\u533a\u522b\uff1f"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["\u591a\u4e2aCPU\uff0c\u90a3\u5c31\u662f\u591a\u4e2a\u7269\u7406CPU\uff0c\u5404\u4e2aCPU\u4e4b\u95f4\u662f\u901a\u8fc7",(0,i.jsx)(e.code,{children:"\u603b\u7ebf"}),"\u8fdb\u884c\u901a\u4fe1\u7684\uff0c\u6548\u7387\u6bd4\u8f83\u4f4e\u3002\n\u591a\u6838CPU\uff1a\u4e0d\u540c\u7684\u6838\u901a\u8fc7",(0,i.jsx)(e.code,{children:"L2 Cache"}),"\u8fdb\u884c\u901a\u4fe1\uff0c\u5b58\u50a8\u548c\u5916\u8bbe\u901a\u8fc7\u603b\u7ebf\u4e0eCPU\u901a\u4fe1\u3002\n\u8fd9\u4e8c\u8005\u7684\u6548\u7387\u80af\u5b9a\u662f\uff1a",(0,i.jsx)(e.code,{children:"\u591a\u6838CPU"}),">",(0,i.jsx)(e.code,{children:"\u591a\u4e2aCPU"}),"\uff0c\u4f46\u662f\u591a\u6838\u7684\u5b83\u8d35\u554a\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u73b0\u5728\u8ba9\u6211\u4eec\u4e00\u4e2a\u7b80\u5355\u552e\u7968\u7684\u5c0f\u4f8b\u5b50\u6765\u770b\u4e00\u4e0b\u7ebf\u7a0b\u5b89\u5168\u7684\u95ee\u9898\u53ca\u89e3\u51b3\u65b9\u6848\u5427\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u552e\u7968\u7684\u7b80\u5355\u4f8b\u5b50",children:"\u552e\u7968\u7684\u7b80\u5355\u4f8b\u5b50"}),"\n",(0,i.jsx)(e.p,{children:"\u6a21\u62df\u4e00\u4e0b\u552e\u7968\u7684\u4f8b\u5b50\uff0c\u4f7f\u7528\u4e09\u4e2a\u7ebf\u7a0b\u53bb\u552e\u7968\uff08\u603b\u5171\u7968\u6570\u8bbe\u7f6e\u4e3a100\u5f20\uff09\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'/**\n * @author 030\n * @date 14:45 2021/11/4\n * @description \u5b9e\u73b0\u5356\u7968\u6848\u4f8b\n */\npublic class SaleTicketImpl implements Runnable {\n    /*\u5b9a\u4e49\u4e00\u4e2a\u591a\u7ebf\u7a0b\u5171\u4eab\u7684\u8d44\u6e90*/\n    private int ticket = 100;\n\n    /*\u5b9e\u73b0\u591a\u7ebf\u7a0b\u4efb\u52a1\uff1a\u5356\u7968*/\n    @Override\n    public void run() {\n        // \u4f7f\u7528\u6b7b\u5faa\u73af\uff0c\u91cd\u590d\u5356\u7968\n        while (true) {\n            if (ticket > 0) {\n                try {\n                    // \u4e3a\u4e86\u63d0\u9ad8\u5b89\u5168\u95ee\u9898\u51fa\u73b0\u7684\u6982\u7387\uff0c \u8ba9\u7a0b\u5e8f\u5728\u8fd9\u91cc\u7761\u7720\u4e00\u4f1a\n                    Thread.sleep(10);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                // \u7968\u5b58\u5728\uff0c\u5356\u7968\uff0cticket--\n                System.out.println(Thread.currentThread().getName() + "\u6b63\u5728\u51fa\u552e\u7b2c" + ticket + "\u5f20\u7968");\n                ticket--;\n            }\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u6d4b\u8bd5\u7c7b\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'/**\n * @author 030\n * @date 14:58 2021/11/4\n * @description \u6a21\u62df\u5356\u7968\u6848\u4f8b\uff1a\u521b\u5efa3\u4e2a\u7ebf\u7a0b\uff0c\u540c\u65f6\u5f00\u542f\uff0c\u5bf9\u5171\u4eab\u7968\u8fdb\u884c\u51fa\u552e\n */\npublic class SaleTicketTest {\n    public static void main(String[] args) {\t// main\u7ebf\u7a0b\uff0c\u5373\u4e3b\u7ebf\u7a0b\n        // \u521b\u5efaRunnable\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u5bf9\u8c61\n        /*\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684\u552e\u7968\u7c7b*/\n        SaleTicketImpl saleImpl = new SaleTicketImpl();\n        try {\n            // \u56e0\u4e3a Runnable \u63a5\u53e3\u4e2d\u6ca1\u6709\u63d0\u4f9b start\u5f00\u542f\u7ebf\u7a0b\u65b9\u6cd5\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u901a\u8fc7 Thread \u7c7b\u5b9e\u4f8b\u5bf9\u8c61\u6765\u5b9e\u73b0\u3002\n            // \u521b\u5efaThread\u7c7b\u5bf9\u8c61\uff0c\u6784\u9020\u65b9\u6cd5\u4e2d\u4f20\u9012Runnable\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u3002\n            Thread t1 = new Thread(saleImpl);\n            t1.setName("\u4e00\u53f7\u7a97\u53e3"); // \u8bbe\u7f6e\u7ebf\u7a0b\u7684\u540d\u5b57\uff0c\u9ed8\u8ba4\u7684\u7ebf\u7a0b\u540d\u53ebThread-0\n            Thread t2 = new Thread(saleImpl);\n            t2.setName("\u4e8c\u53f7\u7a97\u53e3");\n            Thread t3 = new Thread(saleImpl);\n            t3.setName("\u4e09\u53f7\u7a97\u53e3");\n\n            // \u8c03\u7528 start \u65b9\u6cd5\u5f00\u542f\u591a\u7ebf\u7a0b\n            t1.start();\t// \u5f00\u542f\u4e86\u4e00\u4e2a\u65b0\u7684\u7ebf\u7a0b\n            t2.start();\n            t3.start();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u7ecf\u8fc7\u6d4b\u8bd5\u53d1\u73b0\uff0c\u8fd9\u79cd\u4ee3\u7801\u4f1a\u51fa\u73b0\u91cd\u590d\u552e\u7968\u4ee5\u53ca\u552e\u51fa\u8d1f\u6570\u7968\u7684\u60c5\u51b5\u3002"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8bf4\u660e\u4e0a\u9762\u7684\u552e\u7968\u7ebf\u7a0b\u5b9e\u73b0\u7c7b\u5b58\u5728\u591a\u7ebf\u7a0b\u4e0b\u5b89\u5168\u95ee\u9898\uff0c\u591a\u7ebf\u7a0b\u4e4b\u6240\u4ee5\u4f1a\u51fa\u73b0\u5b89\u5168\u95ee\u9898\uff0c\u7a76\u5176\u672c\u8d28\u662f\u56e0\u4e3a\u591a\u4e2a\u7ebf\u7a0b\u64cd\u4f5c\u4e86\u5171\u4eab\u6570\u636e\u8d44\u6e90\u5bfc\u81f4\u7684\u3002"})}),"\n",(0,i.jsx)(e.p,{children:"\u90a3\u4e48\u6211\u4eec\u8be5\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u591a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u7684\u5b89\u5168\u95ee\u9898\u5462\uff1f"}),"\n",(0,i.jsxs)(e.p,{children:["\u6765\u770b\u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\uff0c\u4f7f\u7528",(0,i.jsx)(e.code,{children:"\u540c\u6b65\u4ee3\u7801\u5757"})]}),"\n",(0,i.jsx)(e.h2,{id:"\u89e3\u51b3\u591a\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898",children:"\u89e3\u51b3\u591a\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"}),"\n",(0,i.jsx)(e.h3,{id:"\u540c\u6b65\u4ee3\u7801\u5757",children:"\u540c\u6b65\u4ee3\u7801\u5757"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'/**\n * @author 030\n * @date 14:57 2021/11/4\n * @description \u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u65b9\u5f0f\u4e00\uff1a\u4f7f\u7528 synchronized \u540c\u6b65\u4ee3\u7801\u5757\n */\npublic class SaleTicketImpl implements Runnable{\n    /*\u5b9a\u4e49\u4e00\u4e2a\u591a\u7ebf\u7a0b\u5171\u4eab\u7684\u8d44\u6e90*/\n    private int ticket = 100;\n\n    // \u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u7684\u7b2c\u4e00\u79cd\u65b9\u6848\uff1a\u4f7f\u7528\u540c\u6b65\u4ee3\u7801\u5757\n    /**\n     * \u683c\u5f0f\uff1a\n     *  synchronized(\u9501\u5bf9\u8c61){\n     *      // \u8fd9\u91cc\u5199\u53ef\u80fd\u4f1a\u51fa\u73b0\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u7684\u4ee3\u7801\uff08\u8bbf\u95ee\u4e86\u5171\u4eab\u6570\u636e\u7684\u4ee3\u7801\uff09\n     *  }\n     *\n     *  \u6ce8\u610f\uff1a\n     *      1. \u540c\u6b65\u4ee3\u7801\u5757\u4e2d\u7684\u9501\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7684\u5bf9\u8c61\u3002\n     *      2. \u4f46\u662f\u5fc5\u987b\u4fdd\u8bc1\u591a\u4e2a\u7ebf\u7a0b\u4f7f\u7528\u7684\u9501\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a\n     *      3. \u9501\u5bf9\u8c61\u4f5c\u7528\uff1a\u628a\u540c\u6b65\u4ee3\u7801\u5757\u9501\u4f4f\uff0c\u53ea\u8ba9\u4e00\u4e2a\u7ebf\u7a0b\u5728\u540c\u6b65\u4ee3\u7801\u5757\u4e2d\u6267\u884c\u3002\n     */\n    // \u6784\u9020 Object \u9501\u5bf9\u8c61\n    Object obj = new Object();\n\n    /*\u5b9e\u73b0\u591a\u7ebf\u7a0b\u4efb\u52a1\uff1a\u5356\u7968*/\n    @Override\n    public void run() {\n        // \u4f7f\u7528\u6b7b\u5faa\u73af\uff0c\u91cd\u590d\u5356\u7968\n        while (true) {\n            synchronized (obj) {\n                if (ticket > 0) {\n                    try {\n                        // \u4e3a\u4e86\u63d0\u9ad8\u5b89\u5168\u95ee\u9898\u51fa\u73b0\u7684\u6982\u7387\uff0c \u8ba9\u7a0b\u5e8f\u5728\u8fd9\u91cc\u7761\u7720\u4e00\u4f1a\n                        Thread.sleep(10);\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                    // \u7968\u5b58\u5728\uff0c\u5356\u7968\uff0cticket--\n                    System.out.println(Thread.currentThread().getName() + "\u6b63\u5728\u51fa\u552e\u7b2c" + ticket + "\u5f20\u7968");\n                    ticket--;\n                }\n            }\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u540c\u6b65\u65b9\u6cd5",children:"\u540c\u6b65\u65b9\u6cd5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'/**\n * @author 030\n * @date 15:03 2021/11/4\n * @description \u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u65b9\u5f0f\u4e8c\uff1a\u4f7f\u7528 \u540c\u6b65\u65b9\u6cd5\n *  \u4f7f\u7528\u6b65\u9aa4\uff1a\n *      1. \u628a\u8bbf\u95ee\u4e86\u5171\u4eab\u6570\u636e\u7684\u4ee3\u7801\u62bd\u53d6\u51fa\u6765\uff0c\u653e\u5230\u4e00\u4e2a\u65b9\u6cd5\u4e2d\n *      2. \u5728\u65b9\u6cd5\u4e0a\u6dfb\u52a0 synchronized \u4fee\u9970\u7b26\n */\npublic class SaleTicketImpl implements Runnable{\n    /*\u5b9a\u4e49\u4e00\u4e2a\u591a\u7ebf\u7a0b\u5171\u4eab\u7684\u8d44\u6e90*/\n    private int ticket = 100;\n\n    /*\u5b9e\u73b0\u591a\u7ebf\u7a0b\u4efb\u52a1\uff1a\u5356\u7968*/\n    @Override\n    public void run() {\n        // \u4f7f\u7528\u6b7b\u5faa\u73af\uff0c\u91cd\u590d\u5356\u7968\n        while (true) {\n            saleTicket();\n        }\n    }\n\n    /**\n     * \u5b9a\u4e49\u4e00\u4e2a\u540c\u6b65\u65b9\u6cd5\n     * \u540c\u6b65\u65b9\u6cd5\u4e5f\u4f1a\u628a\u65b9\u6cd5\u5185\u90e8\u7684\u4ee3\u7801\u9501\u4f4f\uff0c\u53ea\u8ba9\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\n     * \u540c\u6b65\u65b9\u6cd5\u7684\u9501\u5bf9\u8c61\u662f\u8c01\uff1f\n     *  \u5c31\u662f\u5b9e\u73b0\u7c7b\u5bf9\u8c61 new SaleTicketImpl()\uff0c\u4e5f\u5c31\u662f This\n     */\n    public synchronized void saleTicket(){\n        if (ticket > 0) {\n            try {\n                // \u4e3a\u4e86\u63d0\u9ad8\u5b89\u5168\u95ee\u9898\u51fa\u73b0\u7684\u6982\u7387\uff0c \u8ba9\u7a0b\u5e8f\u5728\u8fd9\u91cc\u7761\u7720\u4e00\u4f1a\n                Thread.sleep(10);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            // \u7968\u5b58\u5728\uff0c\u5356\u7968\uff0cticket--\n            System.out.println(Thread.currentThread().getName() + "\u6b63\u5728\u51fa\u552e\u7b2c" + ticket + "\u5f20\u7968");\n            ticket--;\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u4f7f\u7528lock\u9501\u7684\u5b50\u7c7b\u5b9e\u73b0",children:"\u4f7f\u7528Lock\u9501\u7684\u5b50\u7c7b\u5b9e\u73b0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'/**\n * @author 030\n * @date 15:21 2021/11/4\n * @description \u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u65b9\u5f0f\u4e09\uff1a\u4f7f\u7528 Lock\u9501\uff08jdk1.5\u4e4b\u540e\u624d\u6709\u7684\u63a5\u53e3\uff0c\u5e38\u89c1\u7684\u8be5\u63a5\u53e3\u5b9e\u73b0\u7c7b ReentrantLock\uff09\n * \u4f7f\u7528\u6b65\u9aa4\uff1a\n *  1. \u5728\u6210\u5458\u4f4d\u7f6e\u521b\u5efa\u4e00\u4e2a ReentrantLock \u5bf9\u8c61\n *  2. \u5728\u53ef\u80fd\u4f1a\u51fa\u73b0\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u7684\u4ee3\u7801\u524d\u8c03\u7528 Lock \u63a5\u53e3\u4e2d\u7684 lock() \u65b9\u6cd5\u83b7\u53d6\u9501\n *  3. \u5728\u53ef\u80fd\u4f1a\u51fa\u73b0\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u7684\u4ee3\u4e70\u540e\u8c03\u7528 Lock \u63a5\u53e3\u4e2d\u7684 unLock() \u65b9\u6cd5\u91ca\u653e\u9501\n */\npublic class SaleTicketImpl implements Runnable{\n    /*\u5b9a\u4e49\u4e00\u4e2a\u591a\u7ebf\u7a0b\u5171\u4eab\u7684\u8d44\u6e90*/\n    private int ticket = 100;\n\n    /*1. \u5728\u6210\u5458\u4f4d\u7f6e\u521b\u5efa\u4e00\u4e2a ReentrantLock \u5bf9\u8c61*/\n    Lock lock = new ReentrantLock();\n\n    /*\u5b9e\u73b0\u591a\u7ebf\u7a0b\u4efb\u52a1\uff1a\u5356\u7968*/\n    @Override\n    public void run() {\n        // \u4f7f\u7528\u6b7b\u5faa\u73af\uff0c\u91cd\u590d\u5356\u7968\n        while (true) {\n            /*2. \u5728\u53ef\u80fd\u4f1a\u51fa\u73b0\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u7684\u4ee3\u7801\u524d\u8c03\u7528 Lock \u63a5\u53e3\u4e2d\u7684 lock() \u65b9\u6cd5\u83b7\u53d6\u9501*/\n            lock.lock();\n            if (ticket > 0) {\n                try {\n                    // \u4e3a\u4e86\u63d0\u9ad8\u5b89\u5168\u95ee\u9898\u51fa\u73b0\u7684\u6982\u7387\uff0c \u8ba9\u7a0b\u5e8f\u5728\u8fd9\u91cc\u7761\u7720\u4e00\u4f1a\n                    Thread.sleep(10);\n                    // \u7968\u5b58\u5728\uff0c\u5356\u7968\uff0cticket--\n                    System.out.println(Thread.currentThread().getName() + "\u6b63\u5728\u51fa\u552e\u7b2c" + ticket + "\u5f20\u7968");\n                    ticket--;\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }finally {\n                    /*3. \u5728\u53ef\u80fd\u4f1a\u51fa\u73b0\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u7684\u4ee3\u4e70\u540e\u8c03\u7528 Lock \u63a5\u53e3\u4e2d\u7684 unLock() \u65b9\u6cd5\u91ca\u653e\u9501*/\n                    lock.unlock();\n                }\n\n            }\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u4ee5\u4e0a\u4e09\u79cd\u65b9\u5f0f\u90fd\u53ef\u4ee5\u89e3\u51b3\u591a\u7ebf\u7a0b\u5bf9\u5171\u4eab\u8d44\u6e90\u64cd\u4f5c\u5e26\u6765\u7684\u5b89\u5168\u95ee\u9898\u3002"})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>l,x:()=>a});var c=t(6540);const i={},r=c.createContext(i);function l(n){const e=c.useContext(r);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),c.createElement(r.Provider,{value:e},n.children)}}}]);