"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[4645],{28453:(e,n,l)=>{l.d(n,{R:()=>o,x:()=>a});var r=l(96540);const i={},c=r.createContext(i);function o(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(c.Provider,{value:n},e.children)}},57977:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>r,toc:()=>s});const r=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02/10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406","title":"10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406","description":"1\u3001\u914d\u7f6e\u65e5\u5fd7\u7ea7\u522b","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02/10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02/10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02/10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02/10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":10,"frontMatter":{"id":"10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406","title":"10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"09-\u7edf\u4e00\u5f02\u5e38\u5904\u7406","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02/09-\u7edf\u4e00\u5f02\u5e38\u5904\u7406"},"next":{"title":"11-\u968f\u5802\u7b14\u8bb0","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day02/11-\u968f\u5802\u7b14\u8bb0"}}');var i=l(74848),c=l(28453);const o={id:"10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406",title:"10-\u7edf\u4e00\u65e5\u5fd7\u5904\u7406",tags:["\u5c1a\u7845\u8c37"]},a="\u4e00\u3001\u65e5\u5fd7",t={},s=[{value:"1\u3001\u914d\u7f6e\u65e5\u5fd7\u7ea7\u522b",id:"1\u914d\u7f6e\u65e5\u5fd7\u7ea7\u522b",level:2},{value:"1\u3001\u914d\u7f6elogback\u65e5\u5fd7",id:"1\u914d\u7f6elogback\u65e5\u5fd7",level:2},{value:"2\u3001\u5c06\u9519\u8bef\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6",id:"2\u5c06\u9519\u8bef\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6",level:2},{value:"3\u3001\u5c06\u65e5\u5fd7\u5806\u6808\u4fe1\u606f\u8f93\u51fa\u5230\u6587\u4ef6",id:"3\u5c06\u65e5\u5fd7\u5806\u6808\u4fe1\u606f\u8f93\u51fa\u5230\u6587\u4ef6",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u4e00\u65e5\u5fd7",children:"\u4e00\u3001\u65e5\u5fd7"})}),"\n",(0,i.jsx)(n.h2,{id:"1\u914d\u7f6e\u65e5\u5fd7\u7ea7\u522b",children:"1\u3001\u914d\u7f6e\u65e5\u5fd7\u7ea7\u522b"}),"\n",(0,i.jsx)(n.p,{children:"\u65e5\u5fd7\u8bb0\u5f55\u5668\uff08Logger\uff09\u7684\u884c\u4e3a\u662f\u5206\u7b49\u7ea7\u7684\u3002\u5982\u4e0b\u8868\u6240\u793a\uff1a"}),"\n",(0,i.jsx)(n.p,{children:"\u5206\u4e3a\uff1aOFF\u3001FATAL\u3001ERROR\u3001WARN\u3001INFO\u3001DEBUG\u3001ALL"}),"\n",(0,i.jsx)(n.p,{children:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cspring boot\u4ece\u63a7\u5236\u53f0\u6253\u5370\u51fa\u6765\u7684\u65e5\u5fd7\u7ea7\u522b\u53ea\u6709INFO\u53ca\u4ee5\u4e0a\u7ea7\u522b\uff0c\u53ef\u4ee5\u914d\u7f6e\u65e5\u5fd7\u7ea7\u522b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\nlogging.level.root=WARN\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u79cd\u65b9\u5f0f\u53ea\u80fd\u5c06\u65e5\u5fd7\u6253\u5370\u5728\u63a7\u5236\u53f0\u4e0a"}),"\n",(0,i.jsx)(n.h1,{id:"\u4e8clogback\u65e5\u5fd7",children:"\u4e8c\u3001Logback\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.h2,{id:""}),"\n",(0,i.jsx)(n.p,{children:"spring boot\u5185\u90e8\u4f7f\u7528Logback\u4f5c\u4e3a\u65e5\u5fd7\u5b9e\u73b0\u7684\u6846\u67b6\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Logback\u548clog4j\u975e\u5e38\u76f8\u4f3c\uff0c\u5982\u679c\u4f60\u5bf9log4j\u5f88\u719f\u6089\uff0c\u90a3\u5bf9logback\u5f88\u5feb\u5c31\u4f1a\u5f97\u5fc3\u5e94\u624b\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["logback\u76f8\u5bf9\u4e8elog4j\u7684\u4e00\u4e9b\u4f18\u70b9\uff1a",(0,i.jsx)(n.a,{href:"https://blog.csdn.net/caisini_vc/article/details/48551287",children:"https://blog.csdn.net/caisini_vc/article/details/48551287"})]}),"\n",(0,i.jsx)(n.h2,{id:"1\u914d\u7f6elogback\u65e5\u5fd7",children:"1\u3001\u914d\u7f6elogback\u65e5\u5fd7"}),"\n",(0,i.jsx)(n.p,{children:"\u5220\u9664application.properties\u4e2d\u7684\u65e5\u5fd7\u914d\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:"\u5b89\u88c5idea\u5f69\u8272\u65e5\u5fd7\u63d2\u4ef6\uff1agrep-console"}),"\n",(0,i.jsx)(n.p,{children:"resources \u4e2d\u521b\u5efa logback-spring.xml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<?xml version="1.0" encoding="UTF-8"?>\n<configuration  scan="true" scanPeriod="10 seconds">\n    \x3c!-- \u65e5\u5fd7\u7ea7\u522b\u4ece\u4f4e\u5230\u9ad8\u5206\u4e3aTRACE < DEBUG < INFO < WARN < ERROR < FATAL\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3aWARN\uff0c\u5219\u4f4e\u4e8eWARN\u7684\u4fe1\u606f\u90fd\u4e0d\u4f1a\u8f93\u51fa --\x3e\n    \x3c!-- scan:\u5f53\u6b64\u5c5e\u6027\u8bbe\u7f6e\u4e3atrue\u65f6\uff0c\u914d\u7f6e\u6587\u4ef6\u5982\u679c\u53d1\u751f\u6539\u53d8\uff0c\u5c06\u4f1a\u88ab\u91cd\u65b0\u52a0\u8f7d\uff0c\u9ed8\u8ba4\u503c\u4e3atrue --\x3e\n    \x3c!-- scanPeriod:\u8bbe\u7f6e\u76d1\u6d4b\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6709\u4fee\u6539\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5982\u679c\u6ca1\u6709\u7ed9\u51fa\u65f6\u95f4\u5355\u4f4d\uff0c\u9ed8\u8ba4\u5355\u4f4d\u662f\u6beb\u79d2\u3002\u5f53scan\u4e3atrue\u65f6\uff0c\u6b64\u5c5e\u6027\u751f\u6548\u3002\u9ed8\u8ba4\u7684\u65f6\u95f4\u95f4\u9694\u4e3a1\u5206\u949f\u3002 --\x3e\n    \x3c!-- debug:\u5f53\u6b64\u5c5e\u6027\u8bbe\u7f6e\u4e3atrue\u65f6\uff0c\u5c06\u6253\u5370\u51falogback\u5185\u90e8\u65e5\u5fd7\u4fe1\u606f\uff0c\u5b9e\u65f6\u67e5\u770blogback\u8fd0\u884c\u72b6\u6001\u3002\u9ed8\u8ba4\u503c\u4e3afalse\u3002 --\x3e\n\n    <contextName>logback</contextName>\n    \x3c!-- name\u7684\u503c\u662f\u53d8\u91cf\u7684\u540d\u79f0\uff0cvalue\u7684\u503c\u65f6\u53d8\u91cf\u5b9a\u4e49\u7684\u503c\u3002\u901a\u8fc7\u5b9a\u4e49\u7684\u503c\u4f1a\u88ab\u63d2\u5165\u5230logger\u4e0a\u4e0b\u6587\u4e2d\u3002\u5b9a\u4e49\u53d8\u91cf\u540e\uff0c\u53ef\u4ee5\u4f7f\u201c${}\u201d\u6765\u4f7f\u7528\u53d8\u91cf\u3002 --\x3e\n    <property name="log.path" value="D:/guli_log/edu" />\n\n    \x3c!-- \u5f69\u8272\u65e5\u5fd7 --\x3e\n    \x3c!-- \u914d\u7f6e\u683c\u5f0f\u53d8\u91cf\uff1aCONSOLE_LOG_PATTERN \u5f69\u8272\u65e5\u5fd7\u683c\u5f0f --\x3e\n    \x3c!-- magenta:\u6d0b\u7ea2 --\x3e\n    \x3c!-- boldMagenta:\u7c97\u7ea2--\x3e\n    \x3c!-- cyan:\u9752\u8272 --\x3e\n    \x3c!-- white:\u767d\u8272 --\x3e\n    \x3c!-- magenta:\u6d0b\u7ea2 --\x3e\n    <property name="CONSOLE_LOG_PATTERN"\n              value="%yellow(%date{yyyy-MM-dd HH:mm:ss}) |%highlight(%-5level) |%blue(%thread) |%blue(%file:%line) |%green(%logger) |%cyan(%msg%n)"/>\n\n\n    \x3c!--\u8f93\u51fa\u5230\u63a7\u5236\u53f0--\x3e\n    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">\n        \x3c!--\u6b64\u65e5\u5fd7appender\u662f\u4e3a\u5f00\u53d1\u4f7f\u7528\uff0c\u53ea\u914d\u7f6e\u6700\u5e95\u7ea7\u522b\uff0c\u63a7\u5236\u53f0\u8f93\u51fa\u7684\u65e5\u5fd7\u7ea7\u522b\u662f\u5927\u4e8e\u6216\u7b49\u4e8e\u6b64\u7ea7\u522b\u7684\u65e5\u5fd7\u4fe1\u606f--\x3e\n        \x3c!-- \u4f8b\u5982\uff1a\u5982\u679c\u6b64\u5904\u914d\u7f6e\u4e86INFO\u7ea7\u522b\uff0c\u5219\u540e\u9762\u5176\u4ed6\u4f4d\u7f6e\u5373\u4f7f\u914d\u7f6e\u4e86DEBUG\u7ea7\u522b\u7684\u65e5\u5fd7\uff0c\u4e5f\u4e0d\u4f1a\u88ab\u8f93\u51fa --\x3e\n        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">\n            <level>INFO</level>\n        </filter>\n        <encoder>\n            <Pattern>${CONSOLE_LOG_PATTERN}</Pattern>\n            \x3c!-- \u8bbe\u7f6e\u5b57\u7b26\u96c6 --\x3e\n            <charset>UTF-8</charset>\n        </encoder>\n    </appender>\n\n\n    \x3c!--\u8f93\u51fa\u5230\u6587\u4ef6--\x3e\n\n    \x3c!-- \u65f6\u95f4\u6eda\u52a8\u8f93\u51fa level\u4e3a INFO \u65e5\u5fd7 --\x3e\n    <appender name="INFO_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">\n        \x3c!-- \u6b63\u5728\u8bb0\u5f55\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84\u53ca\u6587\u4ef6\u540d --\x3e\n        <file>${log.path}/log_info.log</file>\n        \x3c!--\u65e5\u5fd7\u6587\u4ef6\u8f93\u51fa\u683c\u5f0f--\x3e\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n            <charset>UTF-8</charset>\n        </encoder>\n        \x3c!-- \u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u6eda\u52a8\u7b56\u7565\uff0c\u6309\u65e5\u671f\uff0c\u6309\u5927\u5c0f\u8bb0\u5f55 --\x3e\n        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            \x3c!-- \u6bcf\u5929\u65e5\u5fd7\u5f52\u6863\u8def\u5f84\u4ee5\u53ca\u683c\u5f0f --\x3e\n            <fileNamePattern>${log.path}/info/log-info-%d{yyyy-MM-dd}.%i.log</fileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">\n                <maxFileSize>100MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n            \x3c!--\u65e5\u5fd7\u6587\u4ef6\u4fdd\u7559\u5929\u6570--\x3e\n            <maxHistory>15</maxHistory>\n        </rollingPolicy>\n        \x3c!-- \u6b64\u65e5\u5fd7\u6587\u4ef6\u53ea\u8bb0\u5f55info\u7ea7\u522b\u7684 --\x3e\n        <filter class="ch.qos.logback.classic.filter.LevelFilter">\n            <level>INFO</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    \x3c!-- \u65f6\u95f4\u6eda\u52a8\u8f93\u51fa level\u4e3a WARN \u65e5\u5fd7 --\x3e\n    <appender name="WARN_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">\n        \x3c!-- \u6b63\u5728\u8bb0\u5f55\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84\u53ca\u6587\u4ef6\u540d --\x3e\n        <file>${log.path}/log_warn.log</file>\n        \x3c!--\u65e5\u5fd7\u6587\u4ef6\u8f93\u51fa\u683c\u5f0f--\x3e\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n            <charset>UTF-8</charset> \x3c!-- \u6b64\u5904\u8bbe\u7f6e\u5b57\u7b26\u96c6 --\x3e\n        </encoder>\n        \x3c!-- \u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u6eda\u52a8\u7b56\u7565\uff0c\u6309\u65e5\u671f\uff0c\u6309\u5927\u5c0f\u8bb0\u5f55 --\x3e\n        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            <fileNamePattern>${log.path}/warn/log-warn-%d{yyyy-MM-dd}.%i.log</fileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">\n                <maxFileSize>100MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n            \x3c!--\u65e5\u5fd7\u6587\u4ef6\u4fdd\u7559\u5929\u6570--\x3e\n            <maxHistory>15</maxHistory>\n        </rollingPolicy>\n        \x3c!-- \u6b64\u65e5\u5fd7\u6587\u4ef6\u53ea\u8bb0\u5f55warn\u7ea7\u522b\u7684 --\x3e\n        <filter class="ch.qos.logback.classic.filter.LevelFilter">\n            <level>warn</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n\n    \x3c!-- \u65f6\u95f4\u6eda\u52a8\u8f93\u51fa level\u4e3a ERROR \u65e5\u5fd7 --\x3e\n    <appender name="ERROR_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">\n        \x3c!-- \u6b63\u5728\u8bb0\u5f55\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84\u53ca\u6587\u4ef6\u540d --\x3e\n        <file>${log.path}/log_error.log</file>\n        \x3c!--\u65e5\u5fd7\u6587\u4ef6\u8f93\u51fa\u683c\u5f0f--\x3e\n        <encoder>\n            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>\n            <charset>UTF-8</charset> \x3c!-- \u6b64\u5904\u8bbe\u7f6e\u5b57\u7b26\u96c6 --\x3e\n        </encoder>\n        \x3c!-- \u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u6eda\u52a8\u7b56\u7565\uff0c\u6309\u65e5\u671f\uff0c\u6309\u5927\u5c0f\u8bb0\u5f55 --\x3e\n        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            <fileNamePattern>${log.path}/error/log-error-%d{yyyy-MM-dd}.%i.log</fileNamePattern>\n            <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">\n                <maxFileSize>100MB</maxFileSize>\n            </timeBasedFileNamingAndTriggeringPolicy>\n            \x3c!--\u65e5\u5fd7\u6587\u4ef6\u4fdd\u7559\u5929\u6570--\x3e\n            <maxHistory>15</maxHistory>\n        </rollingPolicy>\n        \x3c!-- \u6b64\u65e5\u5fd7\u6587\u4ef6\u53ea\u8bb0\u5f55ERROR\u7ea7\u522b\u7684 --\x3e\n        <filter class="ch.qos.logback.classic.filter.LevelFilter">\n            <level>ERROR</level>\n            <onMatch>ACCEPT</onMatch>\n            <onMismatch>DENY</onMismatch>\n        </filter>\n    </appender>\n\n    \x3c!--\n        <logger>\u7528\u6765\u8bbe\u7f6e\u67d0\u4e00\u4e2a\u5305\u6216\u8005\u5177\u4f53\u7684\u67d0\u4e00\u4e2a\u7c7b\u7684\u65e5\u5fd7\u6253\u5370\u7ea7\u522b\u3001\u4ee5\u53ca\u6307\u5b9a<appender>\u3002\n        <logger>\u4ec5\u6709\u4e00\u4e2aname\u5c5e\u6027\uff0c\n        \u4e00\u4e2a\u53ef\u9009\u7684level\u548c\u4e00\u4e2a\u53ef\u9009\u7684addtivity\u5c5e\u6027\u3002\n        name:\u7528\u6765\u6307\u5b9a\u53d7\u6b64logger\u7ea6\u675f\u7684\u67d0\u4e00\u4e2a\u5305\u6216\u8005\u5177\u4f53\u7684\u67d0\u4e00\u4e2a\u7c7b\u3002\n        level:\u7528\u6765\u8bbe\u7f6e\u6253\u5370\u7ea7\u522b\uff0c\u5927\u5c0f\u5199\u65e0\u5173\uff1aTRACE, DEBUG, INFO, WARN, ERROR, ALL \u548c OFF\uff0c\n              \u5982\u679c\u672a\u8bbe\u7f6e\u6b64\u5c5e\u6027\uff0c\u90a3\u4e48\u5f53\u524dlogger\u5c06\u4f1a\u7ee7\u627f\u4e0a\u7ea7\u7684\u7ea7\u522b\u3002\n    --\x3e\n    \x3c!--\n        \u4f7f\u7528mybatis\u7684\u65f6\u5019\uff0csql\u8bed\u53e5\u662fdebug\u4e0b\u624d\u4f1a\u6253\u5370\uff0c\u800c\u8fd9\u91cc\u6211\u4eec\u53ea\u914d\u7f6e\u4e86info\uff0c\u6240\u4ee5\u60f3\u8981\u67e5\u770bsql\u8bed\u53e5\u7684\u8bdd\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u64cd\u4f5c\uff1a\n        \u7b2c\u4e00\u79cd\u628a<root level="INFO">\u6539\u6210<root level="DEBUG">\u8fd9\u6837\u5c31\u4f1a\u6253\u5370sql\uff0c\u4e0d\u8fc7\u8fd9\u6837\u65e5\u5fd7\u90a3\u8fb9\u4f1a\u51fa\u73b0\u5f88\u591a\u5176\u4ed6\u6d88\u606f\n        \u7b2c\u4e8c\u79cd\u5c31\u662f\u5355\u72ec\u7ed9mapper\u4e0b\u76ee\u5f55\u914d\u7f6eDEBUG\u6a21\u5f0f\uff0c\u4ee3\u7801\u5982\u4e0b\uff0c\u8fd9\u6837\u914d\u7f6esql\u8bed\u53e5\u4f1a\u6253\u5370\uff0c\u5176\u4ed6\u8fd8\u662f\u6b63\u5e38DEBUG\u7ea7\u522b\uff1a\n     --\x3e\n    \x3c!--\u5f00\u53d1\u73af\u5883:\u6253\u5370\u63a7\u5236\u53f0--\x3e\n    <springProfile name="dev">\n        \x3c!--\u53ef\u4ee5\u8f93\u51fa\u9879\u76ee\u4e2d\u7684debug\u65e5\u5fd7\uff0c\u5305\u62ecmybatis\u7684sql\u65e5\u5fd7--\x3e\n        <logger name="com.guli" level="INFO" />\n\n        \x3c!--\n            root\u8282\u70b9\u662f\u5fc5\u9009\u8282\u70b9\uff0c\u7528\u6765\u6307\u5b9a\u6700\u57fa\u7840\u7684\u65e5\u5fd7\u8f93\u51fa\u7ea7\u522b\uff0c\u53ea\u6709\u4e00\u4e2alevel\u5c5e\u6027\n            level:\u7528\u6765\u8bbe\u7f6e\u6253\u5370\u7ea7\u522b\uff0c\u5927\u5c0f\u5199\u65e0\u5173\uff1aTRACE, DEBUG, INFO, WARN, ERROR, ALL \u548c OFF\uff0c\u9ed8\u8ba4\u662fDEBUG\n            \u53ef\u4ee5\u5305\u542b\u96f6\u4e2a\u6216\u591a\u4e2aappender\u5143\u7d20\u3002\n        --\x3e\n        <root level="INFO">\n            <appender-ref ref="CONSOLE" />\n            <appender-ref ref="INFO_FILE" />\n            <appender-ref ref="WARN_FILE" />\n            <appender-ref ref="ERROR_FILE" />\n        </root>\n    </springProfile>\n\n\n    \x3c!--\u751f\u4ea7\u73af\u5883:\u8f93\u51fa\u5230\u6587\u4ef6--\x3e\n    <springProfile name="pro">\n\n        <root level="INFO">\n            <appender-ref ref="CONSOLE" />\n            <appender-ref ref="DEBUG_FILE" />\n            <appender-ref ref="INFO_FILE" />\n            <appender-ref ref="ERROR_FILE" />\n            <appender-ref ref="WARN_FILE" />\n        </root>\n    </springProfile>\n\n</configuration>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"2\u5c06\u9519\u8bef\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6",children:"2\u3001\u5c06\u9519\u8bef\u65e5\u5fd7\u8f93\u51fa\u5230\u6587\u4ef6"}),"\n",(0,i.jsx)(n.p,{children:"GlobalExceptionHandler.java \u4e2d"}),"\n",(0,i.jsx)(n.p,{children:"\u7c7b\u4e0a\u6dfb\u52a0\u6ce8\u89e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:" @Slf4j\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f02\u5e38\u8f93\u51fa\u8bed\u53e5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:" log.error(e.getMessage());\n"})}),"\n",(0,i.jsx)(n.h2,{id:"3\u5c06\u65e5\u5fd7\u5806\u6808\u4fe1\u606f\u8f93\u51fa\u5230\u6587\u4ef6",children:"3\u3001\u5c06\u65e5\u5fd7\u5806\u6808\u4fe1\u606f\u8f93\u51fa\u5230\u6587\u4ef6"}),"\n",(0,i.jsx)(n.p,{children:"\u5b9a\u4e49\u5de5\u5177\u7c7b"}),"\n",(0,i.jsx)(n.p,{children:"guli-framework-common\u4e0b\u521b\u5efautil\u5305\uff0c\u521b\u5efaExceptionUtil.java\u5de5\u5177\u7c7b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"package com.guli.common.util;\n\npublic class ExceptionUtil {\n\n    public static String getMessage(Exception e) {\n        StringWriter sw = null;\n        PrintWriter pw = null;\n        try {\n            sw = new StringWriter();\n            pw = new PrintWriter(sw);\n            // \u5c06\u51fa\u9519\u7684\u6808\u4fe1\u606f\u8f93\u51fa\u5230printWriter\u4e2d\n            e.printStackTrace(pw);\n            pw.flush();\n            sw.flush();\n        } finally {\n            if (sw != null) {\n                try {\n                    sw.close();\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n            }\n            if (pw != null) {\n                pw.close();\n            }\n        }\n        return sw.toString();\n    }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8c03\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"log.error(ExceptionUtil.getMessage(e));\n"})}),"\n",(0,i.jsx)(n.p,{children:"GuliException\u4e2d\u521b\u5efatoString\u65b9\u6cd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'@Override\npublic String toString() {\n    return "GuliException{" +\n        "message=" + this.getMessage() +\n        ", code=" + code +\n        \'}\';\n}\n'})})]})}function g(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);