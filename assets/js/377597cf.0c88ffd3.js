"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[4698],{26088:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20","title":"07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20","description":"\u4e00\u3001\u914d\u7f6enginx\u53cd\u5411\u4ee3\u7406","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":7,"frontMatter":{"id":"07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20","title":"07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"06-\u89c6\u9891\u70b9\u64ad\u5fae\u670d\u52a1\u7684\u521b\u5efa","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/06-\u89c6\u9891\u70b9\u64ad\u5fae\u670d\u52a1\u7684\u521b\u5efa"},"next":{"title":"08-\u5220\u9664\u4e91\u7aef\u89c6\u9891","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/08-\u5220\u9664\u4e91\u7aef\u89c6\u9891"}}');var d=i(74848),o=i(28453);const s={id:"07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20",title:"07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20",tags:["\u5c1a\u7845\u8c37"]},l=void 0,r={},c=[{value:"\u4e00\u3001\u914d\u7f6enginx\u53cd\u5411\u4ee3\u7406",id:"\u4e00\u914d\u7f6enginx\u53cd\u5411\u4ee3\u7406",level:2},{value:"1\u3001\u6570\u636e\u5b9a\u4e49",id:"1\u6570\u636e\u5b9a\u4e49",level:2},{value:"2\u3001\u6574\u5408\u4e0a\u4f20\u7ec4\u4ef6",id:"2\u6574\u5408\u4e0a\u4f20\u7ec4\u4ef6",level:2},{value:"3\u3001\u65b9\u6cd5\u5b9a\u4e49",id:"3\u65b9\u6cd5\u5b9a\u4e49",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"\u4e00\u914d\u7f6enginx\u53cd\u5411\u4ee3\u7406",children:"\u4e00\u3001\u914d\u7f6enginx\u53cd\u5411\u4ee3\u7406"}),"\n",(0,d.jsx)(n.p,{children:"\u5c06\u63a5\u53e3\u5730\u5740\u52a0\u5165nginx\u914d\u7f6e"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"location ~ /vod/ {           \n    proxy_pass http://localhost:8003;\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u914d\u7f6enginx\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\uff0c\u5426\u5219\u4e0a\u4f20\u65f6\u4f1a\u6709 413 (Request Entity Too Large) \u5f02\u5e38"}),"\n",(0,d.jsxs)(n.p,{children:["\u6253\u5f00nginx\u4e3b\u914d\u7f6e\u6587\u4ef6nginx.conf\uff0c\u627e\u5230http","\uff0c\u6dfb\u52a0"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"client_max_body_size 1024m;\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u91cd\u542fnginx"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"nginx -s reload\n"})}),"\n",(0,d.jsx)(n.h1,{id:"\u4e8c\u524d\u7aef\u5b9e\u73b0",children:"\u4e8c\u3001\u524d\u7aef\u5b9e\u73b0"}),"\n",(0,d.jsx)(n.h2,{id:"1\u6570\u636e\u5b9a\u4e49",children:"1\u3001\u6570\u636e\u5b9a\u4e49"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"fileList: [],//\u4e0a\u4f20\u6587\u4ef6\u5217\u8868\nBASE_API: process.env.BASE_API // \u63a5\u53e3API\u5730\u5740\n"})}),"\n",(0,d.jsx)(n.h2,{id:"2\u6574\u5408\u4e0a\u4f20\u7ec4\u4ef6",children:"2\u3001\u6574\u5408\u4e0a\u4f20\u7ec4\u4ef6"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'<el-form-item label="\u4e0a\u4f20\u89c6\u9891">\n    <el-upload\n           :on-success="handleVodUploadSuccess"\n           :on-remove="handleVodRemove"\n           :before-remove="beforeVodRemove"\n           :on-exceed="handleUploadExceed"\n           :file-list="fileList"\n           :action="BASE_API+\'/admin/vod/video/upload\'"\n           :limit="1"\n           class="upload-demo">\n    <el-button size="small" type="primary">\u4e0a\u4f20\u89c6\u9891</el-button>\n    <el-tooltip placement="right-end">\n        <div slot="content">\u6700\u5927\u652f\u63011G\uff0c<br>\n            \u652f\u63013GP\u3001ASF\u3001AVI\u3001DAT\u3001DV\u3001FLV\u3001F4V\u3001<br>\n            GIF\u3001M2T\u3001M4V\u3001MJ2\u3001MJPEG\u3001MKV\u3001MOV\u3001MP4\u3001<br>\n            MPE\u3001MPG\u3001MPEG\u3001MTS\u3001OGG\u3001QT\u3001RM\u3001RMVB\u3001<br>\n            SWF\u3001TS\u3001VOB\u3001WMV\u3001WEBM \u7b49\u89c6\u9891\u683c\u5f0f\u4e0a\u4f20</div>\n        <i class="el-icon-question"/>\n    </el-tooltip>\n    </el-upload>\n</el-form-item>\n'})}),"\n",(0,d.jsx)(n.h2,{id:"3\u65b9\u6cd5\u5b9a\u4e49",children:"3\u3001\u65b9\u6cd5\u5b9a\u4e49"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"//\u6210\u529f\u56de\u8c03\nhandleVodUploadSuccess(response, file, fileList) {\n  this.video.videoSourceId = response.data.videoId\n},\n//\u89c6\u56fe\u4e0a\u4f20\u591a\u4e8e\u4e00\u4e2a\u89c6\u9891\nhandleUploadExceed(files, fileList) {\n  this.$message.warning('\u60f3\u8981\u91cd\u65b0\u4e0a\u4f20\u89c6\u9891\uff0c\u8bf7\u5148\u5220\u9664\u5df2\u4e0a\u4f20\u7684\u89c6\u9891')\n},\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var t=i(96540);const d={},o=t.createContext(d);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);