"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[5022],{28453:(A,e,n)=>{n.d(e,{R:()=>d,x:()=>s});var i=n(96540);const r={},t=i.createContext(r);function d(A){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof A?A(e):{...e,...A}},[e,A])}function s(A){let e;return e=A.disableParentContext?"function"==typeof A.components?A.components(r):A.components||r:d(A.components),i.createElement(t.Provider,{value:e},A.children)}},77969:(A,e,n)=>{n.d(e,{A:()=>i});const i="data:image/png;base64,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"},89001:(A,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10/04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1","title":"04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1","description":"\u9700\u6c42","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10/04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10/04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10/04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10/04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":4,"frontMatter":{"id":"04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1","title":"04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"03-\u670d\u52a1\u8c03\u7528-Feign","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10/03-\u670d\u52a1\u8c03\u7528-Feign"},"next":{"title":"05-\u7194\u65ad\u5668","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day10/05-\u7194\u65ad\u5668"}}');var r=n(74848),t=n(28453);const d={id:"04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1",title:"04-\u5b8c\u5584\u5220\u9664\u8bfe\u7a0b\u4e1a\u52a1",tags:["\u5c1a\u7845\u8c37"]},s="\u4e00\u3001vod\u670d\u52a1",o={},c=[{value:"1\u3001\u4e1a\u52a1",id:"1\u4e1a\u52a1",level:2},{value:"2\u3001web\u5c42\u63a5\u53e3",id:"2web\u5c42\u63a5\u53e3",level:2},{value:"3\u3001Swagger\u6d4b\u8bd5",id:"3swagger\u6d4b\u8bd5",level:2},{value:"1\u3001client",id:"1client",level:2},{value:"2\u3001\u4e1a\u52a1",id:"2\u4e1a\u52a1",level:2}];function I(A){const e={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...A.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u9700\u6c42"})}),"\n",(0,r.jsx)(e.p,{children:"\u5220\u9664\u8bfe\u7a0b\u7684\u540c\u65f6\u5220\u9664\u4e91\u7aef\u89c6\u9891"}),"\n",(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"\u4e00vod\u670d\u52a1",children:"\u4e00\u3001vod\u670d\u52a1"})}),"\n",(0,r.jsx)(e.h2,{id:"1\u4e1a\u52a1",children:"1\u3001\u4e1a\u52a1"}),"\n",(0,r.jsx)(e.p,{children:"\u4e1a\u52a1\u63a5\u53e3\uff1aVideoService.java"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"void removeVideoList(List<String> videoIdList);\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e1a\u52a1\u5b9e\u73b0\uff1aVideoServiceImpl.java"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'@Override\npublic void removeVideoList(List<String> videoIdList) {\n    try {\n        //\u521d\u59cb\u5316\n        DefaultAcsClient client = AliyunVodSDKUtils.initVodClient(\n            ConstantPropertiesUtil.ACCESS_KEY_ID,\n            ConstantPropertiesUtil.ACCESS_KEY_SECRET);\n\n        //\u521b\u5efa\u8bf7\u6c42\u5bf9\u8c61\n        //\u4e00\u6b21\u53ea\u80fd\u6279\u91cf\u522020\u4e2a\n        String str = org.apache.commons.lang.StringUtils.join(videoIdList.toArray(), ",");\n        DeleteVideoRequest request = new DeleteVideoRequest();\n        request.setVideoIds(str);\n\n        //\u83b7\u53d6\u54cd\u5e94\n        DeleteVideoResponse response = client.getAcsResponse(request);\n\n        System.out.print("RequestId = " + response.getRequestId() + "\\n");\n\n    } catch (ClientException e) {\n        throw new GuliException(20001, "\u89c6\u9891\u5220\u9664\u5931\u8d25");\n    }\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"2web\u5c42\u63a5\u53e3",children:"2\u3001web\u5c42\u63a5\u53e3"}),"\n",(0,r.jsx)(e.p,{children:"controller\uff1aVideoAdminController.java"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'/**\n     * \u6279\u91cf\u5220\u9664\u89c6\u9891\n     * @param videoIdList\n     * @return\n     */\n@DeleteMapping("delete-batch")\npublic R removeVideoList(\n    @ApiParam(name = "videoIdList", value = "\u4e91\u7aef\u89c6\u9891id", required = true)\n    @RequestParam("videoIdList") List videoIdList){\n\n    videoService.removeVideoList(videoIdList);\n    return R.ok().message("\u89c6\u9891\u5220\u9664\u6210\u529f");\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"3swagger\u6d4b\u8bd5",children:"3\u3001Swagger\u6d4b\u8bd5"}),"\n",(0,r.jsx)(e.p,{children:"\u8f93\u5165\u591a\u4e2aid\uff0c\u6bcf\u4e2a\u4e00\u884c"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"img",src:n(77969).A+"",width:"517",height:"181"})}),"\n",(0,r.jsx)(e.h1,{id:"\u4e8cedu\u670d\u52a1",children:"\u4e8c\u3001edu\u670d\u52a1"}),"\n",(0,r.jsx)(e.h2,{id:"1client",children:"1\u3001client"}),"\n",(0,r.jsx)(e.p,{children:"VodClient.java"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'@DeleteMapping(value = "/admin/vod/video/delete-batch")\npublic R removeVideoList(@RequestParam("videoIdList") List<String> videoIdList);\n'})}),"\n",(0,r.jsx)(e.h2,{id:"2\u4e1a\u52a1",children:"2\u3001\u4e1a\u52a1"}),"\n",(0,r.jsx)(e.p,{children:"VideoServiceImpl.java"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'@Override\npublic boolean removeByCourseId(String courseId) {\n\n    //\u6839\u636e\u8bfe\u7a0bid\u67e5\u8be2\u6240\u6709\u89c6\u9891\u5217\u8868\n    QueryWrapper<Video> queryWrapper = new QueryWrapper<>();\n    queryWrapper.eq("course_id", courseId);\n    queryWrapper.select("video_source_id");\n    List<Video> videoList = baseMapper.selectList(queryWrapper);\n\n    //\u5f97\u5230\u6240\u6709\u89c6\u9891\u5217\u8868\u7684\u4e91\u7aef\u539f\u59cb\u89c6\u9891id\n    List<String> videoSourceIdList = new ArrayList<>();\n    for (int i = 0; i < videoList.size(); i++) {\n        Video video = videoList.get(i);\n        String videoSourceId = video.getVideoSourceId();\n        if(!StringUtils.isEmpty(videoSourceId)){\n            videoSourceIdList.add(videoSourceId);\n        }\n    }\n\n    //\u8c03\u7528vod\u670d\u52a1\u5220\u9664\u8fdc\u7a0b\u89c6\u9891\n    if(videoSourceIdList.size() > 0){\n        vodClient.removeVideoList(videoSourceIdList);\n    }\n\n    //\u5220\u9664video\u8868\u793a\u7684\u8bb0\u5f55\n    QueryWrapper<Video> queryWrapper2 = new QueryWrapper<>();\n    queryWrapper2.eq("course_id", courseId);\n    Integer count = baseMapper.delete(queryWrapper2);\n    return null != count && count > 0;\n}\n\n'})}),"\n",(0,r.jsx)(e.p,{children:"CourseServiceImpl.java"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"@Override\npublic boolean removeCourseById(String id) {\n\n    //\u6839\u636eid\u5220\u9664\u6240\u6709\u89c6\u9891\n    videoService.removeByCourseId(id);\n\n    //\u6839\u636eid\u5220\u9664\u6240\u6709\u7ae0\u8282\n    chapterService.removeByCourseId(id);\n\n    //\u6839\u636eid\u5220\u9664\u6240\u6709\u8bfe\u7a0b\u8be6\u60c5\n    courseDescriptionService.removeById(id);\n\n    //\u5220\u9664\u5c01\u9762 TODO \u72ec\u7acb\u5b8c\u6210\n\n    Integer result = baseMapper.deleteById(id);\n    return null != result && result > 0;\n}\n\n"})})]})}function p(A={}){const{wrapper:e}={...(0,t.R)(),...A.components};return e?(0,r.jsx)(e,{...A,children:(0,r.jsx)(I,{...A})}):I(A)}}}]);