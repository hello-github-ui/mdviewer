"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[6418],{28453:(e,s,i)=>{i.d(s,{R:()=>a,x:()=>r});var n=i(96540);const t={},d=n.createContext(t);function a(e){const s=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(d.Provider,{value:s},e.children)}},33800:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/image-20250301000935120-9e1a513e95e521aacd47bea105a7f553.png"},51147:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>f,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"\u4e66\u7b7e/03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891","title":"03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891","description":"User","source":"@site/docs/\u4e66\u7b7e/03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891.md","sourceDirName":"\u4e66\u7b7e","slug":"/\u4e66\u7b7e/03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891","permalink":"/mdviewer/docs/\u4e66\u7b7e/03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u4e66\u7b7e/03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891.md","tags":[{"inline":true,"label":"\u4e66\u7b7e","permalink":"/mdviewer/docs/tags/\u4e66\u7b7e"}],"version":"current","sidebarPosition":3,"frontMatter":{"id":"03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891","title":"03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891","tags":["\u4e66\u7b7e"]},"sidebar":"tutorialSidebar","previous":{"title":"02-Mac\u7981\u7528\u81ea\u52a8\u66f4\u65b0\u8bbe\u7f6e","permalink":"/mdviewer/docs/\u4e66\u7b7e/02-Mac\u7981\u7528\u81ea\u52a8\u66f4\u65b0\u8bbe\u7f6e"},"next":{"title":"04-AlmaLinux8\u5b89\u88c5\u8f6f\u4ef6","permalink":"/mdviewer/docs/\u4e66\u7b7e/04-AlmaLinux8\u5b89\u88c5\u8f6f\u4ef6"}}');var t=i(74848),d=i(28453);const a={id:"03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891",title:"03-\u4f7f\u7528ffmpeg\u4e0b\u8f7d\u6296\u97f3\u89c6\u9891",tags:["\u4e66\u7b7e"]},r="ChatGPT \u5bf9\u8bdd\u8bb0\u5f55",c={},l=[{value:"User",id:"user",level:2},{value:"Assistant",id:"assistant",level:2},{value:"User",id:"user-1",level:2},{value:"Assistant",id:"assistant-1",level:2},{value:"User",id:"user-2",level:2},{value:"Assistant",id:"assistant-2",level:2},{value:"User",id:"user-3",level:2},{value:"Assistant",id:"assistant-3",level:2},{value:"User",id:"user-4",level:2},{value:"Assistant",id:"assistant-4",level:2},{value:"User",id:"user-5",level:2},{value:"Assistant",id:"assistant-5",level:2},{value:"User",id:"user-6",level:2},{value:"Assistant",id:"assistant-6",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"chatgpt-\u5bf9\u8bdd\u8bb0\u5f55",children:"ChatGPT \u5bf9\u8bdd\u8bb0\u5f55"})}),"\n",(0,t.jsx)(s.h2,{id:"user",children:"User"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u4f7f\u7528python\u7f16\u5199\u7a0b\u5e8f\uff0c\u8981\u6c42\u53ef\u4ee5\u4e0b\u8f7d\u8fd9\u4e2a\u94fe\u63a5\u7684\u89c6\u9891\uff1ahttps://v3-web.douyinvod.com/b16f5f0f0f0af989e1f09f24e47ad96d/67c31981/video/tos/cn/tos-cn-vd-0026/owe6C5CGgA7eIeNHIbA7dEAAAsLvQQev4APGfI/media-video-hvc1/?a=6383&ch=0&cr=8&dr=0&er=1&lr=default&cd=0%7C0%7C0%7C3&cv=1&br=285&bt=285&cs=4&ds=3&mime_type=video_mp4&qs=15&rc=PDc2ZjlpaGk0ODQ7N2ZpNkBpMzRpcHg5cnVoeDMzNGkzM0BjLjYwNS8yNTQxX2JfNTRjYSNjcnI2MmRjc3FgLS1kLS9zcw%3D%3D&btag=80000e00030000&dy_q=1740752388&l=20250228221948E6D6F8955946274B407C\uff0c"})}),"\n",(0,t.jsx)(s.h2,{id:"assistant",children:"Assistant"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u8fd9\u662f\u4e00\u4e2a\u89c6\u9891\u76f4\u94fe\uff0cPython \u4e0b\u8f7d\u8fd9\u79cd\u8d44\u6e90\u975e\u5e38\u7b80\u5355\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u5b8c\u6574\u7684 Python \u811a\u672c\uff0c\u53ef\u4ee5\u628a\u8fd9\u4e2a\u89c6\u9891\u4e0b\u8f7d\u4e0b\u6765\uff1aDownload Douyin Video\u8fd9\u4e2a\u811a\u672c\u4f1a\u628a\u89c6\u9891\u4fdd\u5b58\u4e3a douyin_video.mp4\u3002\u8fd0\u884c\u524d\u786e\u4fdd\u5df2\u5b89\u88c5 requests \u5e93\uff0c\u53ef\u4ee5\u7528\u547d\u4ee4 pip install requests \u5b89\u88c5\u3002\u8fd0\u884c\u65f6\u5982\u679c\u51fa\u73b0403\u9519\u8bef\uff0c\u5f88\u53ef\u80fd\u662f\u8fd9\u4e2a\u94fe\u63a5\u9700\u8981\u5e26\u8bf7\u6c42\u5934\u3002\u9700\u8981\u52a0\u4e0a\u4e00\u4e2a\u7b80\u5355\u7684 headers\uff0c\u6bd4\u5982\u5e26\u4e0a User-Agent\uff0c\u544a\u8bc9\u670d\u52a1\u5668\u662f\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u7684\u3002\u8981\u4e0d\u8981\u52a0\u8fd9\u4e2a\u90e8\u5206\uff0c\u4f60\u53ef\u4ee5\u5148\u8bd5\u8bd5\u4e0a\u9762\u4ee3\u7801\uff0c\u4e0d\u884c\u7684\u8bdd\u518d\u544a\u8bc9\u6211\uff0c\u6211\u4eec\u52a0\u8bf7\u6c42\u5934\u89e3\u51b3\uff01\ud83d\ude80"})}),"\n",(0,t.jsx)(s.h2,{id:"user-1",children:"User"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u6267\u884c\u62a5\u9519\uff1a \u4e0b\u8f7d\u5931\u8d25: 403 Client Error: Forbidden for url: https://v3-web.douyinvod.com/b16f5f0f0f0af989e1f09f24e47ad96d/67c31981/video/tos/cn/tos-cn-vd-0026/owe6C5CGgA7eIeNHIbA7dEAAAsLvQQev4APGfI/media-video-hvc1/?a=6383&ch=0&cr=8&dr=0&er=1&lr=default&cd=0%7C0%7C0%7C3&cv=1&br=285&bt=285&cs=4&ds=3&mime_type=video_mp4&qs=15&rc=PDc2ZjlpaGk0ODQ7N2ZpNkBpMzRpcHg5cnVoeDMzNGkzM0BjLjYwNS8yNTQxX2JfNTRjYSNjcnI2MmRjc3FgLS1kLS9zcw%3D%3D&btag=80000e00030000&dy_q=1740752388&l=20250228221948E6D6F8955946274B407C"})}),"\n",(0,t.jsx)(s.h2,{id:"assistant-1",children:"Assistant"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u8fd9\u662f\u56e0\u4e3a\u89c6\u9891\u5730\u5740\u9700\u8981\u5e26\u8bf7\u6c42\u5934\u6765\u4f2a\u88c5\u6210\u6d4f\u89c8\u5668\u8bbf\u95ee\uff0c403 \u5c31\u662f\u670d\u52a1\u5668\u62d2\u7edd\u4e86\u76f4\u63a5\u8bbf\u95ee\u3002\u6211\u4eec\u52a0\u4e0a\u4e00\u4e2a User-Agent \u548c Referer \u8bd5\u8bd5\u3002\u66f4\u65b0\u4e0b\u4ee3\u7801\uff1a\u5df2\u8fdb\u884c 1 \u5904\u7f16\u8f91\u8fd9\u6b21\u52a0\u4e86\u4e00\u4e2a\u6a21\u62df\u6d4f\u89c8\u5668\u7684 User-Agent\uff0c\u4ee5\u53ca\u5e26\u4e0a Referer\uff08\u901a\u5e38\u6296\u97f3\u89c6\u9891\u9700\u8981\u8fd9\u4e2a\uff09\u3002\u518d\u8bd5\u8bd5\uff0c\u6709\u95ee\u9898\u518d\u544a\u8bc9\u6211\uff01\ud83d\ude80"})}),"\n",(0,t.jsx)(s.h2,{id:"user-2",children:"User"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u521a\u624d\u4e0a\u9762\u4e0b\u8f7d\u7684\u89c6\u9891\u6587\u4ef6\u6ca1\u6709\u58f0\u97f3\uff0c\u6296\u97f3\u8fd8\u6709\u4e00\u4e2a\u8fd9\u4e2a\u94fe\u63a5\u662f\u97f3\u9891\u6587\u4ef6\uff0c\u8981i\u6c42\u53ef\u4ee5\u628a\u89c6\u9891\u548c\u97f3\u9891\u5408\u5728\u4e00\u8d77\u3002\u97f3\u9891\u6587\u4ef6\u94fe\u63a5\u4e3a\uff1ahttps://v3-web.douyinvod.com/0faa0e88b0c9558987ee835b530008ae/67c31b59/video/tos/cn/tos-cn-vd-0026/owes56ICPANZo7Q3HvfbGqAIGeAzLEACeIAe7g/media-audio-und-mp4a/?a=6383&ch=0&cr=8&dr=0&er=1&lr=default&cd=0%7C0%7C0%7C3&cv=1&br=63&bt=63&cs=4&mime_type=video_mp4&qs=11&rc=Ozc6NWQ0ZmY4NjUzZzY5Z0BpMzRpcHg5cnVoeDMzNGkzM0BjMDY2XmAxLTYtYjAwY2A2YSNjcnI2MmRjc3FgLS1kLS9zcw%3D%3D&btag=80000e00030000&dy_q=1740752860&l=2025022822274043D7988F4503D34C2460"})}),"\n",(0,t.jsx)(s.h2,{id:"assistant-2",children:"Assistant"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u4e0b\u8f7d\u97f3\u9891\u548c\u89c6\u9891\uff0c\u7136\u540e\u7528 ffmpeg \u5408\u6210\u4e00\u4e2a\u5b8c\u6574\u7684\u89c6\u9891\u6587\u4ef6\u3002\u6211\u5e2e\u4f60\u6539\u4e0b\u4ee3\u7801\uff0c\u628a\u97f3\u9891\u548c\u89c6\u9891\u5408\u5728\u4e00\u8d77\u3002\u5df2\u8fdb\u884c 1 \u5904\u7f16\u8f91\u8fd9\u4e2a\u7248\u672c\u4f1a\u540c\u65f6\u4e0b\u8f7d\u89c6\u9891\u548c\u97f3\u9891\u6587\u4ef6\uff0c\u5e76\u4f7f\u7528 ffmpeg \u5c06\u5b83\u4eec\u5408\u6210\u5e26\u58f0\u97f3\u7684\u89c6\u9891\u3002\u786e\u4fdd\u4f60\u7684\u7cfb\u7edf\u91cc\u5df2\u7ecf\u5b89\u88c5\u4e86 ffmpeg\uff0c\u53ef\u4ee5\u7528 ffmpeg -version \u6765\u68c0\u67e5\u3002\ud83c\udfa5\ud83c\udfb6"})}),"\n",(0,t.jsx)(s.h2,{id:"user-3",children:"User"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u5982\u4f55\u5b89\u88c5 ffmpeg \u5462\uff1f"})}),"\n",(0,t.jsx)(s.h2,{id:"assistant-3",children:"Assistant"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u5728\u4e0d\u540c\u7cfb\u7edf\u4e0a\u5b89\u88c5 ffmpeg \u7684\u65b9\u6cd5\u4e0d\u592a\u4e00\u6837\uff0c\u6309\u7167\u4f60\u7684\u73af\u5883\u6765\u9009\uff1aWindows\uff1a\u53bb ffmpeg [\u5b98\u7f51](https://github.com/BtbN/FFmpeg-Builds/releases) \u4e0b\u8f7d Windows \u7248\u672c\u3002\u89e3\u538b\u540e\uff0c\u628a\u89e3\u538b\u76ee\u5f55\u4e0b\u7684 bin \u6587\u4ef6\u5939\u8def\u5f84\uff08\u6bd4\u5982 C:\\\\ffmpeg\\\\bin\uff09\u52a0\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf Path \u4e2d\u3002\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\uff0c\u8fd0\u884c ffmpeg -version \u9a8c\u8bc1\u662f\u5426\u6210\u529f\u5b89\u88c5\u3002CentOS / AlmaLinux\uff08\u5728 Docker \u5bb9\u5668\u91cc\uff09\uff1abash\u590d\u5236\u7f16\u8f91sudo yum install epel-release -y sudo yum install ffmpeg -y Ubuntu / Debian\uff1abash\u590d\u5236\u7f16\u8f91sudo apt update sudo apt install ffmpeg -y \u5b89\u88c5\u597d\u540e\uff0c\u8fd0\u884c ffmpeg -version \u786e\u8ba4\u5b89\u88c5\u6210\u529f\u3002\u8bd5\u8bd5\u770b\uff0c\u5408\u6210\u6548\u679c\u5e94\u8be5\u5c31\u6709\u58f0\u97f3\u4e86\uff01\ud83d\ude80\ud83c\udfb6"})}),"\n",(0,t.jsx)(s.h2,{id:"user-4",children:"User"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u4e0d\u5bf9\u4e86\uff0c\u53ea\u6709\u58f0\u97f3\uff0c\u6ca1\u6709\u4eba\u7269\u4e86\u3002"})}),"\n",(0,t.jsx)(s.h2,{id:"assistant-4",children:"Assistant"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u770b\u8d77\u6765\u53ef\u80fd\u662f\u5408\u5e76\u53c2\u6570\u7684\u95ee\u9898\uff0c\u5bfc\u81f4\u53ea\u4fdd\u7559\u4e86\u97f3\u9891\u3002\u6211\u4eec\u53ef\u4ee5\u660e\u786e\u6307\u5b9a\u628a\u89c6\u9891\u548c\u97f3\u9891\u90fd\u4fdd\u7559\u3002\u8bd5\u8bd5\u8fd9\u4e2a\u547d\u4ee4\u4fee\u6b63\uff1abash\u590d\u5236\u7f16\u8f91ffmpeg -i video.mp4 -i audio.mp4 -map 0:v:0 -map 1:a:0 -c:v copy -c:a aac -strict experimental output.mp4 \u6211\u5e2e\u4f60\u6539\u8fdb\u4ee3\u7801\u5427\uff01\u5df2\u8fdb\u884c 1 \u5904\u7f16\u8f91\u73b0\u5728\u5e94\u8be5\u4f1a\u4fdd\u7559\u89c6\u9891\u548c\u97f3\u9891\u4e86\uff01\u8bd5\u8bd5\u770b\u6709\u6ca1\u6709\u58f0\u97f3\u548c\u753b\u9762\u90fd\u6b63\u5e38\uff1f\ud83c\udfa5\ud83c\udfb6"})}),"\n",(0,t.jsx)(s.h2,{id:"user-5",children:"User"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"\u8fd8\u662f\u4e0d\u884c\u554a\uff0c\u4e00\u4e2a\u53ea\u6709\u58f0\u97f3\uff0c\u4e00\u4e2a\u53ea\u6709\u89c6\u9891\uff0c\u6ca1\u6709\u751f\u6210douyin_final_video.mp4\u6587\u4ef6\u3002\u5e76\u4e14\u63a7\u5236\u53f0\u8fd8\u6709\u8fd9\u6837\u7684\u4e71\u7801\u8f93\u51fa\uff1a \u4e0b\u8f7d\u5b8c\u6210: douyin_video.mp4 \u4e0b\u8f7d\u5b8c\u6210: douyin_audio.mp4 'ffmpeg' \ufffd\ufffd\ufffd\ufffd\ufffd\u06b2\ufffd\ufffd\ufffd\ufffd\u2cbf\ufffd\ufffd\ufffd\ue8ec\u04b2\ufffd\ufffd\ufffd\u01ff\ufffd\ufffd\ufffd\ufffd\u0435\u0133\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u013c\ufffd\ufffd\ufffd \u5408\u6210\u5b8c\u6210\uff0c\u4fdd\u5b58\u4e3a douyin_final_video.mp4 \u3002"})}),"\n",(0,t.jsx)(s.h2,{id:"assistant-5",children:"Assistant"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:'\u770b\u8d77\u6765\u4f60\u7684\u7cfb\u7edf\u6ca1\u8bc6\u522b\u5230 ffmpeg\uff0c\u6240\u4ee5\u547d\u4ee4\u6ca1\u6267\u884c\u6210\u529f\u3002\u8ba9\u6211\u4eec\u4e00\u6b65\u4e00\u6b65\u6765\u89e3\u51b3\uff1a\u786e\u8ba4 ffmpeg \u5b89\u88c5\u662f\u5426\u6210\u529f\uff08Windows\uff09\uff1a \u6253\u5f00 \u547d\u4ee4\u63d0\u793a\u7b26\uff08cmd\uff09\uff0c\u8f93\u5165\uff1acmd\u590d\u5236\u7f16\u8f91ffmpeg -version ffmpeg -\u7248\u672c\u5982\u679c\u63d0\u793a \'ffmpeg\' \u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4\uff0c\u8bf4\u660e\u73af\u5883\u53d8\u91cf\u6ca1\u914d\u597d\u6216\u8005 ffmpeg \u6ca1\u5b89\u88c5\u3002\u68c0\u67e5 ffmpeg \u5b89\u88c5\u548c\u73af\u5883\u53d8\u91cf\uff08Windows\uff09\uff1a\u786e\u8ba4 ffmpeg \u89e3\u538b\u540e\u7684\u76ee\u5f55\u4e0b\u6709 bin \u6587\u4ef6\u5939\uff0c\u91cc\u9762\u5e94\u8be5\u6709 ffmpeg.exe\u3002\u628a bin \u6587\u4ef6\u5939\u8def\u5f84\uff08\u5982 C:\\ffmpeg\\bin\uff09\u52a0\u5165\u7cfb\u7edf\u73af\u5883\u53d8\u91cf Path\u3002\u52a0\u5b8c\u540e\u91cd\u542f cmd\uff0c\u518d\u6b21\u6267\u884c ffmpeg -version \u68c0\u67e5\u3002\u5982\u679c\u4ecd\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u7edd\u5bf9\u8def\u5f84\u6267\u884c ffmpeg\uff1a \u4fee\u6539\u4f60\u7684\u4ee3\u7801\uff0c\u628a\u8fd9\u884c\uff1apython\u590d\u5236\u7f16\u8f91command = f"ffmpeg -i {video_file} -i {audio_file} -map 0:v:0 -map 1:a:0 -c:v copy -c:a aac -strict experimental {output_file}" \u6539\u4e3a\uff08\u5047\u8bbe\u4f60\u7684 ffmpeg \u5728 C:\\\\ffmpeg\\\\bin \u4e0b\uff09\uff1apython\u590d\u5236\u7f16\u8f91command = f"C:\\\\ffmpeg\\\\bin\\\\ffmpeg.exe -i {video_file} -i {audio_file} -map 0:v:0 -map 1:a:0 -c:v copy -c:a aac -strict experimental {output_file}" \u8bd5\u8bd5\u770b\u8fd8\u6709\u6ca1\u6709\u95ee\u9898\uff0c\u6216\u8005\u5982\u679c\u62a5\u9519\u4fe1\u606f\u6709\u53d8\u5316\uff0c\u53ef\u4ee5\u544a\u8bc9\u6211\u4e00\u8d77\u770b\u770b\u600e\u4e48\u641e\u5b9a\uff01\ud83d\ude80'})}),"\n",(0,t.jsx)(s.h2,{id:"user-6",children:"User"}),"\n",(0,t.jsx)(s.p,{children:"ok\u4e86\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"assistant-6",children:"Assistant"}),"\n",(0,t.jsx)(s.p,{children:"\u592a\u68d2\u4e86\uff01\u5982\u679c\u4e4b\u540e\u60f3\u8981\u52a0\u4e2a\u8fdb\u5ea6\u6761\u3001\u5408\u5e76\u66f4\u591a\u6587\u4ef6\uff0c\u6216\u8005\u6709\u5176\u4ed6\u9700\u6c42\uff0c\u544a\u8bc9\u6211\u5c31\u884c\uff01\ud83d\ude80\ud83c\udf89"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"image-20250301000935120",src:i(33800).A+"",width:"2829",height:"1419"})})]})}function f(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);