"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[5293],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var o=i(96540);const r={},d=o.createContext(r);function t(e){const n=o.useContext(d);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(d.Provider,{value:n},e.children)}},52522:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>o,toc:()=>s});const o=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1","title":"04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1","description":"1\u3001web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":4,"frontMatter":{"id":"04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1","title":"04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0"},"next":{"title":"05-\u8bfe\u65f6\u7ba1\u7406\u524d\u7aef\u5f00\u53d1","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/05-\u8bfe\u65f6\u7ba1\u7406\u524d\u7aef\u5f00\u53d1"}}');var r=i(74848),d=i(28453);const t={id:"04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1",title:"04-\u8bfe\u65f6\u7ba1\u7406\u540e\u7aef\u5f00\u53d1",tags:["\u5c1a\u7845\u8c37"]},l="\u4e00\u3001\u5b9a\u4e49Form\u8868\u5355\u5bf9\u8c61",a={},s=[{value:"1\u3001web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49",id:"1web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49",level:2},{value:"2\u3001\u4e1a\u52a1\u5c42",id:"2\u4e1a\u52a1\u5c42",level:2},{value:"1\u3001web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49",id:"1web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49-1",level:2},{value:"2\u3001\u4e1a\u52a1\u5c42",id:"2\u4e1a\u52a1\u5c42-1",level:2},{value:"1\u3001web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49",id:"1web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49-2",level:2},{value:"2\u3001\u4e1a\u52a1\u5c42",id:"2\u4e1a\u52a1\u5c42-2",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4e00\u5b9a\u4e49form\u8868\u5355\u5bf9\u8c61",children:"\u4e00\u3001\u5b9a\u4e49Form\u8868\u5355\u5bf9\u8c61"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'VideoInfoForm.java\npackage com.guli.edu.form;\n\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport lombok.Data;\n\n/**\n * @author helen\n * @since 2019/3/5\n */\n@ApiModel(value = "\u8bfe\u65f6\u57fa\u672c\u4fe1\u606f", description = "\u7f16\u8f91\u8bfe\u65f6\u57fa\u672c\u4fe1\u606f\u7684\u8868\u5355\u5bf9\u8c61")\n@Data\npublic class VideoInfoForm {\n\n    @ApiModelProperty(value = "\u89c6\u9891ID")\n    private String id;\n\n    @ApiModelProperty(value = "\u8282\u70b9\u540d\u79f0")\n    private String title;\n\n    @ApiModelProperty(value = "\u8bfe\u7a0bID")\n    private String courseId;\n\n    @ApiModelProperty(value = "\u7ae0\u8282ID")\n    private String chapterId;\n\n    @ApiModelProperty(value = "\u89c6\u9891\u8d44\u6e90")\n    private String videoSourceId;\n\n    @ApiModelProperty(value = "\u663e\u793a\u6392\u5e8f")\n    private Integer sort;\n    \n    @ApiModelProperty(value = "\u662f\u5426\u53ef\u4ee5\u8bd5\u542c\uff1a0\u9ed8\u8ba4 1\u514d\u8d39")\n    private Boolean free;\n}\n'})}),"\n",(0,r.jsx)(n.h1,{id:"\u4e8c\u8bfe\u65f6\u4fdd\u5b58",children:(0,r.jsx)(n.strong,{children:"\u4e8c\u3001\u8bfe\u65f6\u4fdd\u5b58"})}),"\n",(0,r.jsx)(n.h2,{id:"1web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49",children:"1\u3001web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49"}),"\n",(0,r.jsx)(n.p,{children:"VideoAdminController.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'package com.guli.edu.controller.admin;\n\n@Api(description="\u8bfe\u65f6\u7ba1\u7406")\n@CrossOrigin //\u8de8\u57df\n@RestController\n@RequestMapping("/admin/edu/video")\npublic class VideoAdminController {\n\n    @Autowired\n    private VideoService videoService;\n\n    @ApiOperation(value = "\u65b0\u589e\u8bfe\u65f6")\n    @PostMapping("save-video-info")\n    public R save(\n            @ApiParam(name = "videoForm", value = "\u8bfe\u65f6\u5bf9\u8c61", required = true)\n            @RequestBody VideoInfoForm videoInfoForm){\n\n        videoService.saveVideoInfo(videoInfoForm);\n        return R.ok();\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2\u4e1a\u52a1\u5c42",children:"2\u3001\u4e1a\u52a1\u5c42"}),"\n",(0,r.jsx)(n.p,{children:"VideoService.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"void saveVideoInfo(VideoInfoForm videoInfoForm);\n"})}),"\n",(0,r.jsx)(n.p,{children:"VideoServiceImpl.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@Override\npublic void saveVideoInfo(VideoInfoForm videoInfoForm) {\n\n    Video video = new Video();\n    BeanUtils.copyProperties(videoInfoForm, video);\n    boolean result = this.save(video);\n\n    if(!result){\n        throw new GuliException(20001, "\u8bfe\u65f6\u4fe1\u606f\u4fdd\u5b58\u5931\u8d25");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h1,{id:"\u4e09\u8bfe\u65f6\u7684\u4fee\u6539",children:"\u4e09\u3001\u8bfe\u65f6\u7684\u4fee\u6539"}),"\n",(0,r.jsx)(n.h2,{id:"1web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49-1",children:"1\u3001web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49"}),"\n",(0,r.jsx)(n.p,{children:"VideoAdminController.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@ApiOperation(value = "\u6839\u636eID\u67e5\u8be2\u8bfe\u65f6")\n@GetMapping("video-info/{id}")\npublic R getVideInfoById(\n    @ApiParam(name = "id", value = "\u8bfe\u65f6ID", required = true)\n    @PathVariable String id){\n\n    VideoInfoForm videoInfoForm = videoService.getVideoInfoFormById(id);\n    return R.ok().data("item", videoInfoForm);\n}\n\n@ApiOperation(value = "\u66f4\u65b0\u8bfe\u65f6")\n@PutMapping("update-video-info/{id}")\npublic R updateCourseInfoById(\n    @ApiParam(name = "VideoInfoForm", value = "\u8bfe\u65f6\u57fa\u672c\u4fe1\u606f", required = true)\n    @RequestBody VideoInfoForm videoInfoForm,\n\n    @ApiParam(name = "id", value = "\u8bfe\u65f6ID", required = true)\n    @PathVariable String id){\n\n    videoService.updateVideoInfoById(videoInfoForm);\n    return R.ok();\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2\u4e1a\u52a1\u5c42-1",children:"2\u3001\u4e1a\u52a1\u5c42"}),"\n",(0,r.jsx)(n.p,{children:"VideoService.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"VideoInfoForm getVideoInfoFormById(String id);\n\nvoid updateVideoInfoById(VideoInfoForm videoInfoForm);\n"})}),"\n",(0,r.jsx)(n.p,{children:"VideoServiceImpl.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@Override\npublic VideoInfoForm getVideoInfoFormById(String id) {\n    //\u4ecevideo\u8868\u4e2d\u53d6\u6570\u636e\n    Video video = this.getById(id);\n    if(video == null){\n        throw new GuliException(20001, "\u6570\u636e\u4e0d\u5b58\u5728");\n    }\n\n    //\u521b\u5efavideoInfoForm\u5bf9\u8c61\n    VideoInfoForm videoInfoForm = new VideoInfoForm();\n    BeanUtils.copyProperties(video, videoInfoForm);\n\n    return videoInfoForm;\n}\n\n@Override\npublic void updateVideoInfoById(VideoInfoForm videoInfoForm) {\n    //\u4fdd\u5b58\u8bfe\u65f6\u57fa\u672c\u4fe1\u606f\n    Video video = new Video();\n    BeanUtils.copyProperties(videoInfoForm, video);\n    boolean result = this.updateById(video);\n    if(!result){\n        throw new GuliException(20001, "\u8bfe\u65f6\u4fe1\u606f\u4fdd\u5b58\u5931\u8d25");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h1,{id:"\u56db\u8bfe\u65f6\u7684\u5220\u9664",children:"\u56db\u3001\u8bfe\u65f6\u7684\u5220\u9664"}),"\n",(0,r.jsx)(n.h2,{id:"1web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49-2",children:"1\u3001web\u5c42\u63a5\u53e3\u7684\u5b9a\u4e49"}),"\n",(0,r.jsx)(n.p,{children:"VideoAdminController.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@ApiOperation(value = "\u6839\u636eID\u5220\u9664\u8bfe\u65f6")\n@DeleteMapping("{id}")\npublic R removeById(\n    @ApiParam(name = "id", value = "\u8bfe\u65f6ID", required = true)\n    @PathVariable String id){\n\n    boolean result = videoService.removeVideoById(id);\n    if(result){\n        return R.ok();\n    }else{\n        return R.error().message("\u5220\u9664\u5931\u8d25");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2\u4e1a\u52a1\u5c42-2",children:"2\u3001\u4e1a\u52a1\u5c42"}),"\n",(0,r.jsx)(n.p,{children:"VideoService.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"boolean removeVideoById(String id);\n"})}),"\n",(0,r.jsx)(n.p,{children:"VideoServiceImpl.java"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"@Override\npublic boolean removeVideoById(String id) {\n\n    //\u5220\u9664\u89c6\u9891\u8d44\u6e90 TODO\n\n    Integer result = baseMapper.deleteById(id);\n    return null != result && result > 0;\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);