"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[5757],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var o=t(96540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}},64011:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13/06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f","title":"06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f","description":"","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13/06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13/06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13/06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13/06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":6,"frontMatter":{"id":"06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f","title":"06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"05-JWT\u4ee4\u724c","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13/05-JWT\u4ee4\u724c"},"next":{"title":"07-\u968f\u5802\u7b14\u8bb0","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day13/07-\u968f\u5802\u7b14\u8bb0"}}');var i=t(74848),r=t(28453);const s={id:"06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f",title:"06-\u524d\u7aef\u6574\u5408\u548c\u663e\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f",tags:["\u5c1a\u7845\u8c37"]},a="1\u3001\u4fee\u6539default.vue\u9875\u9762\u811a\u672c",d={},c=[];function l(e){const n={code:"code",h1:"h1",header:"header",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"1\u4fee\u6539defaultvue\u9875\u9762\u811a\u672c",children:"1\u3001\u4fee\u6539default.vue\u9875\u9762\u811a\u672c"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"export default {\n  data() {\n    return {\n      token: '',\n      loginInfo: {\n        id: '',\n        age: '',\n        avatar: '',\n        mobile: '',\n        nickname: '',\n        sex: ''\n      }\n    }\n  },\n\n  created() {\n    this.token = this.$route.query.token\n    if (this.token) {\n      this.wxLogin()\n    }\n\n    this.showInfo()\n  },\n\n  methods: {\n    showInfo() {\n      //debugger\n      var jsonStr = cookie.get(\"guli_ucenter\");\n      if (jsonStr) {\n        this.loginInfo = JSON.parse(jsonStr)\n      }\n    },\n\n    logout() {\n      //debugger\n      cookie.set('guli_ucenter', \"\", {domain: 'localhost'})\n      cookie.set('guli_token', \"\", {domain: 'localhost'})\n\n      //\u8df3\u8f6c\u9875\u9762\n      window.location.href = \"/\"\n    },\n\n    wxLogin() {\n      if (this.token == '') return\n      //\u628atoken\u5b58\u5728cookie\u4e2d\u3001\u4e5f\u53ef\u4ee5\u653e\u5728localStorage\u4e2d\n      cookie.set('guli_token', this.token, {domain: 'localhost'})\n      cookie.set('guli_ucenter', '', {domain: 'localhost'})\n      //\u767b\u5f55\u6210\u529f\u6839\u636etoken\u83b7\u53d6\u7528\u6237\u4fe1\u606f\n      userApi.getLoginInfo().then(response => {\n        this.loginInfo = response.data.data.item\n        //\u5c06\u7528\u6237\u4fe1\u606f\u8bb0\u5f55cookie\n        cookie.set('guli_ucenter', this.loginInfo, {domain: 'localhost'})\n      })\n    }\n  }\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);