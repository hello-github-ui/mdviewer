"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[4742],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var i=s(96540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},57779:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef","title":"06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef","description":"1\u3001\u5b9a\u4e49api","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":6,"frontMatter":{"id":"06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef","title":"06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"05-\u8bfe\u65f6\u7ba1\u7406\u524d\u7aef\u5f00\u53d1","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/05-\u8bfe\u65f6\u7ba1\u7406\u524d\u7aef\u5f00\u53d1"},"next":{"title":"07-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u540e\u7aef","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/07-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u540e\u7aef"}}');var t=s(74848),r=s(28453);const o={id:"06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef",title:"06-\u8bfe\u7a0b\u6700\u7ec8\u53d1\u5e03\u524d\u7aef",tags:["\u5c1a\u7845\u8c37"]},d="\u4e00\u3001\u524d\u7aef\u4ee3\u7801",l={},c=[{value:"1\u3001\u5b9a\u4e49api",id:"1\u5b9a\u4e49api",level:2},{value:"2\u3001\u5b9a\u4e49\u6570\u636e\u6a21\u578b",id:"2\u5b9a\u4e49\u6570\u636e\u6a21\u578b",level:2},{value:"3\u3001\u5b8c\u5584\u6b65\u9aa4\u5bfc\u822a",id:"3\u5b8c\u5584\u6b65\u9aa4\u5bfc\u822a",level:2},{value:"4\u3001\u7ec4\u4ef6\u65b9\u6cd5\u5b9a\u4e49",id:"4\u7ec4\u4ef6\u65b9\u6cd5\u5b9a\u4e49",level:2},{value:"5\u3001\u7ec4\u4ef6\u6a21\u677f",id:"5\u7ec4\u4ef6\u6a21\u677f",level:2},{value:"6\u3001css\u6837\u5f0f",id:"6css\u6837\u5f0f",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u4e00\u524d\u7aef\u4ee3\u7801",children:"\u4e00\u3001\u524d\u7aef\u4ee3\u7801"})}),"\n",(0,t.jsx)(n.h2,{id:"1\u5b9a\u4e49api",children:"1\u3001\u5b9a\u4e49api"}),"\n",(0,t.jsx)(n.p,{children:"\u5206\u6790\u8fd9\u4e2a\u9875\u9762\u4e00\u5171\u6709\u4e24\u4e2a\u8fdc\u7a0b\u65b9\u6cd5\uff1a\u4e00\u4e2a\u662f\u6839\u57fa\u8bfe\u7a0bid\u83b7\u53d6\u8bfe\u7a0b\u57fa\u672c\u9884\u89c8\u4fe1\u606f\uff0c\u7b2c\u4e8c\u4e2a\u662f\u53d1\u5e03\u8bfe\u7a0b"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"getCoursePublishInfoById(id) {\n  return request({\n    url: `${api_name}/course-publish-info/${id}`,\n    method: 'get'\n  })\n},\n\npublishCourse(id) {\n  return request({\n    url: `${api_name}/publish-course/${id}`,\n    method: 'put'\n  })\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"2\u5b9a\u4e49\u6570\u636e\u6a21\u578b",children:"2\u3001\u5b9a\u4e49\u6570\u636e\u6a21\u578b"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"data() {\n    return {\n        saveBtnDisabled: false, // \u4fdd\u5b58\u6309\u94ae\u662f\u5426\u7981\u7528\n        courseId: '', // \u6240\u5c5e\u8bfe\u7a0b\n        coursePublish: {}\n    }\n},\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3\u5b8c\u5584\u6b65\u9aa4\u5bfc\u822a",children:"3\u3001\u5b8c\u5584\u6b65\u9aa4\u5bfc\u822a"}),"\n",(0,t.jsx)(n.p,{children:"edu/course/chapter.js"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"previous() {\n  console.log('previous')\n  this.$router.push({ path: '/edu/course/info/' + this.courseId })\n},\n\nnext() {\n  console.log('next')\n  this.$router.push({ path: '/edu/course/publish/' + this.courseId })\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"edu/course/pubish.js"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"<div>\n    <el-button @click=\"previous\">\u8fd4\u56de\u4fee\u6539</el-button>\n    <el-button :disabled=\"saveBtnDisabled\" type=\"primary\" @click=\"publish\">\u53d1\u5e03\u8bfe\u7a0b</el-button>\n</div>\nprevious() {\n  console.log('previous')\n  this.$router.push({ path: '/edu/course/chapter/' + this.courseId  })\n},\n\npublish() {\n  console.log('publish')\n  course.publishCourse(this.courseId).then(response => {\n    this.$router.push({ path: '/edu/course/list' })\n  })\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"4\u7ec4\u4ef6\u65b9\u6cd5\u5b9a\u4e49",children:"4\u3001\u7ec4\u4ef6\u65b9\u6cd5\u5b9a\u4e49"}),"\n",(0,t.jsx)(n.p,{children:"import"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"import course from '@/api/edu/course'\n"})}),"\n",(0,t.jsx)(n.p,{children:"created"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"created() {\n    console.log('chapter created')\n    this.init()\n},\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u83b7\u53d6\u6570\u636e\u7684\u65b9\u6cd5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"init() {\n  if (this.$route.params && this.$route.params.id) {\n    this.courseId = this.$route.params.id\n    // \u6839\u636eid\u83b7\u53d6\u8bfe\u7a0b\u57fa\u672c\u4fe1\u606f\n    this.fetchCoursePublishInfoById()\n  }\n},\n\nfetchCoursePublishInfoById() {\n  course.getCoursePublishInfoById(this.courseId).then(response => {\n    this.coursePublish = response.data.item\n  })\n},\n"})}),"\n",(0,t.jsx)(n.h2,{id:"5\u7ec4\u4ef6\u6a21\u677f",children:"5\u3001\u7ec4\u4ef6\u6a21\u677f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'<template>\n\n  <div class="app-container">\n\n    <h2 style="text-align: center;">\u53d1\u5e03\u65b0\u8bfe\u7a0b</h2>\n\n    <el-steps :active="3" process-status="wait" align-center style="margin-bottom: 40px;">\n      <el-step title="\u586b\u5199\u8bfe\u7a0b\u57fa\u672c\u4fe1\u606f"/>\n      <el-step title="\u521b\u5efa\u8bfe\u7a0b\u5927\u7eb2"/>\n      <el-step title="\u53d1\u5e03\u8bfe\u7a0b"/>\n    </el-steps>\n\n    <div class="ccInfo">\n      <img :src="coursePublish.cover">\n      <div class="main">\n        <h2>{{ coursePublish.title }}</h2>\n        <p class="gray"><span>\u5171{{ coursePublish.lessonNum }}\u8bfe\u65f6</span></p>\n        <p><span>\u6240\u5c5e\u5206\u7c7b\uff1a{{ coursePublish.subjectLevelOne }} \u2014 {{ coursePublish.subjectLevelTwo }}</span></p>\n        <p>\u8bfe\u7a0b\u8bb2\u5e08\uff1a{{ coursePublish.teacherName }}</p>\n        <h3 class="red">\uffe5{{ coursePublish.price }}</h3>\n      </div>\n    </div>\n\n    <div>\n      <el-button @click="previous">\u8fd4\u56de\u4fee\u6539</el-button>\n      <el-button :disabled="saveBtnDisabled" type="primary" @click="publish">\u53d1\u5e03\u8bfe\u7a0b</el-button>\n    </div>\n  </div>\n</template>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"6css\u6837\u5f0f",children:"6\u3001css\u6837\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"<style scoped>\n.ccInfo {\n    background: #f5f5f5;\n    padding: 20px;\n    overflow: hidden;\n    border: 1px dashed #DDD;\n    margin-bottom: 40px;\n    position: relative;\n}\n.ccInfo img {\n    background: #d6d6d6;\n    width: 500px;\n    height: 278px;\n    display: block;\n    float: left;\n    border: none;\n}\n.ccInfo .main {\n    margin-left: 520px;\n}\n\n.ccInfo .main h2 {\n    font-size: 28px;\n    margin-bottom: 30px;\n    line-height: 1;\n    font-weight: normal;\n}\n.ccInfo .main p {\n    margin-bottom: 10px;\n    word-wrap: break-word;\n    line-height: 24px;\n    max-height: 48px;\n    overflow: hidden;\n}\n\n.ccInfo .main p {\n    margin-bottom: 10px;\n    word-wrap: break-word;\n    line-height: 24px;\n    max-height: 48px;\n    overflow: hidden;\n}\n.ccInfo .main h3 {\n    left: 540px;\n    bottom: 20px;\n    line-height: 1;\n    font-size: 28px;\n    color: #d32f24;\n    font-weight: normal;\n    position: absolute;\n}\n</style>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);