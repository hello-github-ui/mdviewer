"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[8317],{28453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>c});var i=n(96540);const t={},d=i.createContext(t);function a(e){const r=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(d.Provider,{value:r},e.children)}},41178:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>p,contentTitle:()=>c,default:()=>o,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1","title":"02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1","description":"web\u5c42","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":2,"frontMatter":{"id":"02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1","title":"02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"01-\u8bfe\u7a0b\u5927\u7eb2\u5217\u8868\u663e\u793a","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/01-\u8bfe\u7a0b\u5927\u7eb2\u5217\u8868\u663e\u793a"},"next":{"title":"03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day08/03-\u7ae0\u8282\u7ba1\u7406\u524d\u7aef\u9875\u9762\u5b9e\u73b0"}}');var t=n(74848),d=n(28453);const a={id:"02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1",title:"02-\u7ae0\u8282\u7ba1\u7406\u540e\u7aef\u63a5\u53e3\u5f00\u53d1",tags:["\u5c1a\u7845\u8c37"]},c="\u4e00\u3001\u65b0\u589e\u7ae0\u8282",p={},l=[{value:"1\u3001web\u5c42",id:"1web\u5c42",level:2},{value:"2\u3001Service",id:"2service",level:2}];function s(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"\u4e00\u65b0\u589e\u7ae0\u8282",children:"\u4e00\u3001\u65b0\u589e\u7ae0\u8282"})}),"\n",(0,t.jsx)(r.p,{children:"web\u5c42"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'@ApiOperation(value = "\u65b0\u589e\u7ae0\u8282")\n@PostMapping\npublic R save(\n    @ApiParam(name = "chapterVo", value = "\u7ae0\u8282\u5bf9\u8c61", required = true)\n    @RequestBody Chapter chapter){\n\n    chapterService.save(chapter);\n    return R.ok();\n}\n'})}),"\n",(0,t.jsx)(r.h1,{id:"\u4e8c\u6839\u636eid\u67e5\u8be2",children:"\u4e8c\u3001\u6839\u636eid\u67e5\u8be2"}),"\n",(0,t.jsx)(r.p,{children:"web\u5c42"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'@ApiOperation(value = "\u6839\u636eID\u67e5\u8be2\u7ae0\u8282")\n@GetMapping("{id}")\npublic R getById(\n    @ApiParam(name = "id", value = "\u7ae0\u8282ID", required = true)\n    @PathVariable String id){\n\n    Chapter chapter = chapterService.getById(id);\n    return R.ok().data("item", chapter);\n}\n'})}),"\n",(0,t.jsx)(r.h1,{id:"\u4e09\u66f4\u65b0",children:"\u4e09\u3001\u66f4\u65b0"}),"\n",(0,t.jsx)(r.p,{children:"web\u5c42"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'@ApiOperation(value = "\u6839\u636eID\u4fee\u6539\u7ae0\u8282")\n@PutMapping("{id}")\npublic R updateById(\n    @ApiParam(name = "id", value = "\u7ae0\u8282ID", required = true)\n    @PathVariable String id,\n\n    @ApiParam(name = "chapter", value = "\u7ae0\u8282\u5bf9\u8c61", required = true)\n    @RequestBody Chapter chapter){\n\n    chapter.setId(id);\n    chapterService.updateById(chapter);\n    return R.ok();\n}\n'})}),"\n",(0,t.jsx)(r.h1,{id:"\u56db\u5220\u9664",children:"\u56db\u3001\u5220\u9664"}),"\n",(0,t.jsx)(r.h2,{id:"1web\u5c42",children:"1\u3001web\u5c42"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'@ApiOperation(value = "\u6839\u636eID\u5220\u9664\u7ae0\u8282")\n@DeleteMapping("{id}")\npublic R removeById(\n    @ApiParam(name = "id", value = "\u7ae0\u8282ID", required = true)\n    @PathVariable String id){\n\n    boolean result = chapterService.removeChapterById(id);\n    if(result){\n        return R.ok();\n    }else{\n        return R.error().message("\u5220\u9664\u5931\u8d25");\n    }\n}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"2service",children:"2\u3001Service"}),"\n",(0,t.jsx)(r.p,{children:"ChapterService\u5c42\uff1a\u63a5\u53e3"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"boolean removeChapterById(String id);\n"})}),"\n",(0,t.jsx)(r.p,{children:"ChapterService\u5c42\uff1a\u5b9e\u73b0"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'@Override\npublic boolean removeChapterById(String id) {\n\n    //\u6839\u636eid\u67e5\u8be2\u662f\u5426\u5b58\u5728\u89c6\u9891\uff0c\u5982\u679c\u6709\u5219\u63d0\u793a\u7528\u6237\u5c1a\u6709\u5b50\u8282\u70b9\n    if(videoService.getCountByChapterId(id)){\n        throw new GuliException(20001,"\u8be5\u5206\u7ae0\u8282\u4e0b\u5b58\u5728\u89c6\u9891\u8bfe\u7a0b\uff0c\u8bf7\u5148\u5220\u9664\u89c6\u9891\u8bfe\u7a0b");\n    }\n\n    Integer result = baseMapper.deleteById(id);\n    return null != result && result > 0;\n}\n'})}),"\n",(0,t.jsx)(r.p,{children:"VideoService\uff1a\u63a5\u53e3"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"boolean getCountByChapterId(String chapterId);\n"})}),"\n",(0,t.jsx)(r.p,{children:"VideoService\uff1a\u5b9e\u73b0"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'@Override\npublic boolean getCountByChapterId(String chapterId) {\n    QueryWrapper<Video> queryWrapper = new QueryWrapper<>();\n    queryWrapper.eq("chapter_id", chapterId);\n    Integer count = baseMapper.selectCount(queryWrapper);\n    return null != count && count > 0;\n}\n'})}),"\n",(0,t.jsx)(r.h1,{id:"\u4e94swagger\u6d4b\u8bd5",children:"\u4e94\u3001Swagger\u6d4b\u8bd5"})]})}function o(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}}}]);