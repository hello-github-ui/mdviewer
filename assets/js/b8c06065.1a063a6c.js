"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[2113],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>s});var t=i(96540);const r={},d=t.createContext(r);function o(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(d.Provider,{value:n},e.children)}},33051:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/08-\u5220\u9664\u4e91\u7aef\u89c6\u9891","title":"08-\u5220\u9664\u4e91\u7aef\u89c6\u9891","description":"\u6587\u6863\uff1a\u670d\u52a1\u7aefSDK->Java SDK->\u5a92\u8d44\u7ba1\u7406","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/08-\u5220\u9664\u4e91\u7aef\u89c6\u9891.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/08-\u5220\u9664\u4e91\u7aef\u89c6\u9891","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/08-\u5220\u9664\u4e91\u7aef\u89c6\u9891","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/08-\u5220\u9664\u4e91\u7aef\u89c6\u9891.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":8,"frontMatter":{"id":"08-\u5220\u9664\u4e91\u7aef\u89c6\u9891","title":"08-\u5220\u9664\u4e91\u7aef\u89c6\u9891","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/07-\u524d\u7aef\u6574\u5408\u89c6\u9891\u4e0a\u4f20"},"next":{"title":"09-\u89c6\u9891\u6587\u4ef6\u56de\u663e","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day09/09-\u89c6\u9891\u6587\u4ef6\u56de\u663e"}}');var r=i(74848),d=i(28453);const o={id:"08-\u5220\u9664\u4e91\u7aef\u89c6\u9891",title:"08-\u5220\u9664\u4e91\u7aef\u89c6\u9891",tags:["\u5c1a\u7845\u8c37"]},s="\u4e00\u3001\u540e\u7aef",l={},c=[{value:"1\u3001service",id:"1service",level:2},{value:"<strong>2\u3001controller</strong>",id:"2controller",level:2},{value:"1\u3001\u5b9a\u4e49api",id:"1\u5b9a\u4e49api",level:2},{value:"2\u3001\u7ec4\u4ef6\u65b9\u6cd5",id:"2\u7ec4\u4ef6\u65b9\u6cd5",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"\u6587\u6863\uff1a\u670d\u52a1\u7aefSDK->Java SDK->\u5a92\u8d44\u7ba1\u7406"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://help.aliyun.com/document_detail/61065.html?spm=a2c4g.11186623.6.831.654b3815cIxvma#h2--div-id-deletevideo-div-7",children:"https://help.aliyun.com/document_detail/61065.html?spm=a2c4g.11186623.6.831.654b3815cIxvma#h2--div-id-deletevideo-div-7"})}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4e00\u540e\u7aef",children:"\u4e00\u3001\u540e\u7aef"})}),"\n",(0,r.jsx)(n.h2,{id:"1service",children:"1\u3001service"}),"\n",(0,r.jsx)(n.p,{children:"\u63a5\u53e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"void removeVideo(String videoId);\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5b9e\u73b0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@Override\npublic void removeVideo(String videoId) {\n    try{\n        DefaultAcsClient client = AliyunVodSDKUtils.initVodClient(\n            ConstantPropertiesUtil.ACCESS_KEY_ID,\n            ConstantPropertiesUtil.ACCESS_KEY_SECRET);\n\n        DeleteVideoRequest request = new DeleteVideoRequest();\n\n        request.setVideoIds(videoId);\n\n        DeleteVideoResponse response = client.getAcsResponse(request);\n\n        System.out.print("RequestId = " + response.getRequestId() + "\\n");\n\n    }catch (ClientException e){\n        throw new GuliException(20001, "\u89c6\u9891\u5220\u9664\u5931\u8d25");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2controller",children:(0,r.jsx)(n.strong,{children:"2\u3001controller"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@DeleteMapping("{videoId}")\npublic R removeVideo(@ApiParam(name = "videoId", value = "\u4e91\u7aef\u89c6\u9891id", required = true)\n                     @PathVariable String videoId){\n\n    videoService.removeVideo(videoId);\n    return R.ok().message("\u89c6\u9891\u5220\u9664\u6210\u529f");\n}\n'})}),"\n",(0,r.jsx)(n.h1,{id:"\u4e8c\u524d\u7aef",children:"\u4e8c\u3001\u524d\u7aef"}),"\n",(0,r.jsx)(n.h2,{id:"1\u5b9a\u4e49api",children:"1\u3001\u5b9a\u4e49api"}),"\n",(0,r.jsx)(n.p,{children:"api/edu/vod.js"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"import request from '@/utils/request'\n\nconst api_name = '/admin/vod/video'\n\nexport default {\n\n  removeById(id) {\n    return request({\n      url: `${api_name}/${id}`,\n      method: 'delete'\n    })\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2\u7ec4\u4ef6\u65b9\u6cd5",children:"2\u3001\u7ec4\u4ef6\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.p,{children:"views/edu/course/chapter.vue"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"import vod from '@/api/edu/vod'\nbeforeVodRemove(file, fileList) {\n  return this.$confirm(`\u786e\u5b9a\u79fb\u9664 ${file.name}\uff1f`)\n},\nhandleVodRemove(file, fileList) {\n  console.log(file)\n  vod.removeById(this.video.videoSourceId).then(response=>{\n    this.$message({\n      type: 'success',\n      message: response.message\n    })\n  })\n},\n"})})]})}function p(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);