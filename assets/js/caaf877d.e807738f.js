"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[536],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>d});var r=i(96540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}},84319:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>l,frontMatter:()=>o,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e","title":"07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e","description":"1\u3001\u4e1a\u52a1\u5c42","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":7,"frontMatter":{"id":"07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e","title":"07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"06-\u8bfe\u7a0b\u5c01\u9762","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/06-\u8bfe\u7a0b\u5c01\u9762"},"next":{"title":"08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f"}}');var s=i(74848),t=i(28453);const o={id:"07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e",title:"07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e",tags:["\u5c1a\u7845\u8c37"]},d="\u4e00\u3001\u540e\u7aef\u5b9e\u73b0",c={},u=[{value:"1\u3001\u4e1a\u52a1\u5c42",id:"1\u4e1a\u52a1\u5c42",level:2},{value:"2\u3001web\u5c42",id:"2web\u5c42",level:2},{value:"3\u3001Swagger\u4e2d\u6d4b\u8bd5",id:"3swagger\u4e2d\u6d4b\u8bd5",level:2},{value:"1\u3001\u5b9a\u4e49api",id:"1\u5b9a\u4e49api",level:2},{value:"2\u3001\u7ec4\u4ef6js",id:"2\u7ec4\u4ef6js",level:2},{value:"1\u3001\u6570\u636e\u5e93\u4e2d\u589e\u52a0\u5197\u4f59\u5217",id:"1\u6570\u636e\u5e93\u4e2d\u589e\u52a0\u5197\u4f59\u5217",level:2},{value:"2\u3001pojo\u4e2d\u589e\u52a0\u5c5e\u6027",id:"2pojo\u4e2d\u589e\u52a0\u5c5e\u6027",level:2},{value:"3\u3001vue\u7ec4\u4ef6\u4e2d\u7ed1\u5b9a\u6570\u636e",id:"3vue\u7ec4\u4ef6\u4e2d\u7ed1\u5b9a\u6570\u636e",level:2},{value:"4\u3001\u4fee\u6539init\u65b9\u6cd5",id:"4\u4fee\u6539init\u65b9\u6cd5",level:2},{value:"5\u3001\u4fee\u6539fetchCourseInfoById\u65b9\u6cd5",id:"5\u4fee\u6539fetchcourseinfobyid\u65b9\u6cd5",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u4e00\u540e\u7aef\u5b9e\u73b0",children:"\u4e00\u3001\u540e\u7aef\u5b9e\u73b0"})}),"\n",(0,s.jsx)(n.h2,{id:"1\u4e1a\u52a1\u5c42",children:"1\u3001\u4e1a\u52a1\u5c42"}),"\n",(0,s.jsx)(n.p,{children:"\u63a5\u53e3\uff1aCourseService.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"CourseInfoForm getCourseInfoFormById(String id);\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5b9e\u73b0\uff1aCourseServiceImpl.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'@Override\npublic CourseInfoForm getCourseInfoFormById(String id) {\n\n    Course course = this.getById(id);\n    if(course == null){\n        throw new GuliException(20001, "\u6570\u636e\u4e0d\u5b58\u5728");\n    }\n    CourseInfoForm courseInfoForm = new CourseInfoForm();\n    BeanUtils.copyProperties(course, courseInfoForm);\n\n    CourseDescription courseDescription = courseDescriptionService.getById(id);\n    if(course != null){\n        courseInfoForm.setDescription(courseDescription.getDescription());\n    }\n\n    return courseInfoForm;\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"2web\u5c42",children:"2\u3001web\u5c42"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'@ApiOperation(value = "\u6839\u636eID\u67e5\u8be2\u8bfe\u7a0b")\n@GetMapping("course-info/{id}")\npublic R getById(\n    @ApiParam(name = "id", value = "\u8bfe\u7a0bID", required = true)\n    @PathVariable String id){\n\n    CourseInfoForm courseInfoForm = courseService.getCourseInfoFormById(id);\n    return R.ok().data("item", courseInfoForm);\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"3swagger\u4e2d\u6d4b\u8bd5",children:"3\u3001Swagger\u4e2d\u6d4b\u8bd5"}),"\n",(0,s.jsx)(n.h1,{id:"\u4e8c\u524d\u7aef\u5b9e\u73b0",children:"\u4e8c\u3001\u524d\u7aef\u5b9e\u73b0"}),"\n",(0,s.jsx)(n.h2,{id:"1\u5b9a\u4e49api",children:"1\u3001\u5b9a\u4e49api"}),"\n",(0,s.jsx)(n.p,{children:"api/edu/course.js"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"getCourseInfoById(id) {\n    return request({\n        url: `${api_name}/course-info/${id}`,\n        method: 'get'\n    })\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2\u7ec4\u4ef6js",children:"2\u3001\u7ec4\u4ef6js"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"init() {\n    if (this.$route.params && this.$route.params.id) {\n        const id = this.$route.params.id\n        //\u6839\u636eid\u83b7\u53d6\u8bfe\u7a0b\u57fa\u672c\u4fe1\u606f\n        this.fetchCourseInfoById(id)\n    } \n    \n    ......\n},\n    \nfetchCourseInfoById(id) {\n  course.getCourseInfoById(id).then(response => {\n    this.courseInfo = response.data.item\n  }).catch((response) => {\n    this.$message({\n      type: 'error',\n      message: response.message\n    })\n  })\n},\n"})}),"\n",(0,s.jsx)(n.h1,{id:"\u4e09\u89e3\u51b3\u7ea7\u8054\u4e0b\u62c9\u83dc\u5355\u56de\u663e\u95ee\u9898",children:"\u4e09\u3001\u89e3\u51b3\u7ea7\u8054\u4e0b\u62c9\u83dc\u5355\u56de\u663e\u95ee\u9898"}),"\n",(0,s.jsx)(n.h2,{id:"1\u6570\u636e\u5e93\u4e2d\u589e\u52a0\u5197\u4f59\u5217",children:"1\u3001\u6570\u636e\u5e93\u4e2d\u589e\u52a0\u5197\u4f59\u5217"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"subject_parent_id \u8bfe\u7a0b\u4e13\u4e1a\u7236\u7ea7ID\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2pojo\u4e2d\u589e\u52a0\u5c5e\u6027",children:"2\u3001pojo\u4e2d\u589e\u52a0\u5c5e\u6027"}),"\n",(0,s.jsx)(n.p,{children:"entity.Course.java"}),"\n",(0,s.jsx)(n.p,{children:"form.CourseInfo.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'@ApiModelProperty(value = "\u8bfe\u7a0b\u4e13\u4e1a\u7236\u7ea7ID")\nprivate String subjectParentId;\n'})}),"\n",(0,s.jsx)(n.h2,{id:"3vue\u7ec4\u4ef6\u4e2d\u7ed1\u5b9a\u6570\u636e",children:"3\u3001vue\u7ec4\u4ef6\u4e2d\u7ed1\u5b9a\u6570\u636e"}),"\n",(0,s.jsx)(n.p,{children:"edu/course/infoinfo.vue"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'<el-select v-model="courseInfo.subjectParentId" ......\n'})}),"\n",(0,s.jsx)(n.h2,{id:"4\u4fee\u6539init\u65b9\u6cd5",children:"4\u3001\u4fee\u6539init\u65b9\u6cd5"}),"\n",(0,s.jsx)(n.p,{children:"\u5c06 this.initSubjectList() \u548c this.initTeacherList()\u79fb\u81f3else"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"init() {\n  if (this.$route.params && this.$route.params.id) {\n    const id = this.$route.params.id\n    // \u6839\u636eid\u83b7\u53d6\u8bfe\u7a0b\u57fa\u672c\u4fe1\u606f\n    this.fetchCourseInfoById(id)\n  } else {\n    this.courseInfo = { ...defaultForm }\n    // \u521d\u59cb\u5316\u5206\u7c7b\u5217\u8868\n    this.initSubjectList()\n    // \u83b7\u53d6\u8bb2\u5e08\u5217\u8868\n    this.initTeacherList()\n  }\n},\n"})}),"\n",(0,s.jsx)(n.h2,{id:"5\u4fee\u6539fetchcourseinfobyid\u65b9\u6cd5",children:"5\u3001\u4fee\u6539fetchCourseInfoById\u65b9\u6cd5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"fetchCourseInfoById(id) {\n  course.getCourseInfoById(id).then(responseCourse => {\n    this.courseInfo = responseCourse.data.item\n    // \u521d\u59cb\u5316\u5206\u7c7b\u5217\u8868\n    subject.getNestedTreeList().then(responseSubject => {\n      this.subjectNestedList = responseSubject.data.items\n      for (let i = 0; i < this.subjectNestedList.length; i++) {\n        if (this.subjectNestedList[i].id === this.courseInfo.subjectParentId) {\n          this.subSubjectList = this.subjectNestedList[i].children\n        }\n      }\n    })\n\n    // \u83b7\u53d6\u8bb2\u5e08\u5217\u8868\n    this.initTeacherList()\n  }).catch((response) => {\n    this.$message({\n      type: 'error',\n      message: response.message\n    })\n  })\n},\n"})})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);