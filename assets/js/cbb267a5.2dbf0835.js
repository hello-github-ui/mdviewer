"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[2691],{28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>c});var t=a(96540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}},32554:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14/02-\u8bb2\u5e08\u5217\u8868\u9875","title":"02-\u8bb2\u5e08\u5217\u8868\u9875","description":"1\u3001TeacherService","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14/02-\u8bb2\u5e08\u5217\u8868\u9875.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14/02-\u8bb2\u5e08\u5217\u8868\u9875","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14/02-\u8bb2\u5e08\u5217\u8868\u9875","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14/02-\u8bb2\u5e08\u5217\u8868\u9875.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":2,"frontMatter":{"id":"02-\u8bb2\u5e08\u5217\u8868\u9875","title":"02-\u8bb2\u5e08\u5217\u8868\u9875","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"01-\u540d\u5e08\u9875\u9762\u9759\u6001\u6548\u679c\u6574\u5408","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14/01-\u540d\u5e08\u9875\u9762\u9759\u6001\u6548\u679c\u6574\u5408"},"next":{"title":"03-\u8bb2\u5e08\u8be6\u60c5\u9875","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day14/03-\u8bb2\u5e08\u8be6\u60c5\u9875"}}');var r=a(74848),i=a(28453);const s={id:"02-\u8bb2\u5e08\u5217\u8868\u9875",title:"02-\u8bb2\u5e08\u5217\u8868\u9875",tags:["\u5c1a\u7845\u8c37"]},c="\u4e00\u3001\u540e\u7aef",l={},d=[{value:"1\u3001TeacherService",id:"1teacherservice",level:2},{value:"2\u3001TeacherController",id:"2teachercontroller",level:2},{value:"3\u3001swagger\u6d4b\u8bd5",id:"3swagger\u6d4b\u8bd5",level:2},{value:"1\u3001\u521b\u5efaapi",id:"1\u521b\u5efaapi",level:2},{value:"2\u3001\u8bb2\u5e08\u5217\u8868\u7ec4\u4ef6\u4e2d\u8c03\u7528api",id:"2\u8bb2\u5e08\u5217\u8868\u7ec4\u4ef6\u4e2d\u8c03\u7528api",level:2},{value:"1\u3001\u9875\u9762\u6a21\u677f",id:"1\u9875\u9762\u6a21\u677f",level:2},{value:"2\u3001\u65e0\u6570\u636e\u63d0\u793a",id:"2\u65e0\u6570\u636e\u63d0\u793a",level:2},{value:"3\u3001\u5217\u8868",id:"3\u5217\u8868",level:2},{value:"4\u3001\u6d4b\u8bd5",id:"4\u6d4b\u8bd5",level:2},{value:"1\u3001\u5206\u9875\u65b9\u6cd5",id:"1\u5206\u9875\u65b9\u6cd5",level:2},{value:"2\u3001\u5206\u9875\u9875\u9762\u6e32\u67d3",id:"2\u5206\u9875\u9875\u9762\u6e32\u67d3",level:2},{value:"3\u3001\u6d4b\u8bd5",id:"3\u6d4b\u8bd5",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4e00\u540e\u7aef",children:"\u4e00\u3001\u540e\u7aef"})}),"\n",(0,r.jsx)(n.h2,{id:"1teacherservice",children:"1\u3001TeacherService"}),"\n",(0,r.jsx)(n.p,{children:"\u63a5\u53e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"public Map<String, Object> pageListWeb(Page<Teacher> pageParam);\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5b9e\u73b0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@Override\npublic Map<String, Object> pageListWeb(Page<Teacher> pageParam) {\n\n    QueryWrapper<Teacher> queryWrapper = new QueryWrapper<>();\n    queryWrapper.orderByAsc("sort");\n\n    baseMapper.selectPage(pageParam, queryWrapper);\n\n    List<Teacher> records = pageParam.getRecords();\n    long current = pageParam.getCurrent();\n    long pages = pageParam.getPages();\n    long size = pageParam.getSize();\n    long total = pageParam.getTotal();\n    boolean hasNext = pageParam.hasNext();\n    boolean hasPrevious = pageParam.hasPrevious();\n\n    Map<String, Object> map = new HashMap<String, Object>();\n    map.put("items", records);\n    map.put("current", current);\n    map.put("pages", pages);\n    map.put("size", size);\n    map.put("total", total);\n    map.put("hasNext", hasNext);\n    map.put("hasPrevious", hasPrevious);\n\n    return map;\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2teachercontroller",children:"2\u3001TeacherController"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'@ApiOperation(value = "\u5206\u9875\u8bb2\u5e08\u5217\u8868")\n@GetMapping(value = "{page}/{limit}")\npublic R pageList(\n    @ApiParam(name = "page", value = "\u5f53\u524d\u9875\u7801", required = true)\n    @PathVariable Long page,\n\n    @ApiParam(name = "limit", value = "\u6bcf\u9875\u8bb0\u5f55\u6570", required = true)\n    @PathVariable Long limit){\n\n    Page<Teacher> pageParam = new Page<Teacher>(page, limit);\n\n    Map<String, Object> map = teacherService.pageListWeb(pageParam);\n\n    return  R.ok().data(map);\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3swagger\u6d4b\u8bd5",children:"3\u3001swagger\u6d4b\u8bd5"}),"\n",(0,r.jsx)(n.h1,{id:"\u4e8c\u524d\u7aef\u5217\u8868js",children:"\u4e8c\u3001\u524d\u7aef\u5217\u8868js"}),"\n",(0,r.jsx)(n.h2,{id:"1\u521b\u5efaapi",children:"1\u3001\u521b\u5efaapi"}),"\n",(0,r.jsx)(n.p,{children:"\u521b\u5efa\u6587\u4ef6\u5939api\uff0capi\u4e0b\u521b\u5efateacher.js\uff0c\u7528\u4e8e\u5c01\u88c5\u8bb2\u5e08\u6a21\u5757\u7684\u8bf7\u6c42"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"import request from '@/utils/request'\nconst api_name = '/edu/teacher'\nexport default {\n  getPageList(page, limit) {   \n    return request({\n      url: `${api_name}/${page}/${limit}`,\n      method: 'get'\n    })\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2\u8bb2\u5e08\u5217\u8868\u7ec4\u4ef6\u4e2d\u8c03\u7528api",children:"2\u3001\u8bb2\u5e08\u5217\u8868\u7ec4\u4ef6\u4e2d\u8c03\u7528api"}),"\n",(0,r.jsx)(n.p,{children:"pages/teacher/index.vue"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'<script>\nimport teacher from "@/api/teacher"\nexport default {\n  asyncData({ params, error }) {\n    return teacher.getPageList(1, 8).then(response => {\n      console.log(response.data.data);\n      return { data: response.data.data }\n    });\n  },\n};\n<\/script>\n'})}),"\n",(0,r.jsx)(n.h1,{id:"\u4e09\u9875\u9762\u6e32\u67d3",children:"\u4e09\u3001\u9875\u9762\u6e32\u67d3"}),"\n",(0,r.jsx)(n.h2,{id:"1\u9875\u9762\u6a21\u677f",children:"1\u3001\u9875\u9762\u6a21\u677f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'<template>\n  <div id="aCoursesList" class="bg-fa of">\n    \x3c!-- \u8bb2\u5e08\u5217\u8868 \u5f00\u59cb --\x3e\n    <section class="container">\n      <section class="c-sort-box unBr">\n        <div>\n          \x3c!-- \u65e0\u6570\u636e\u63d0\u793a \u5f00\u59cb--\x3e\n\n          \x3c!-- /\u65e0\u6570\u636e\u63d0\u793a \u7ed3\u675f--\x3e\n\n          \x3c!-- \u6570\u636e\u5217\u8868 \u5f00\u59cb--\x3e\n\n          \x3c!-- /\u6570\u636e\u5217\u8868 \u7ed3\u675f--\x3e\n        </div>\n        \x3c!-- \u516c\u5171\u5206\u9875 \u5f00\u59cb --\x3e\n\n        \x3c!-- /\u516c\u5171\u5206\u9875 \u7ed3\u675f --\x3e\n      </section>\n    </section>\n    \x3c!-- /\u8bb2\u5e08\u5217\u8868 \u7ed3\u675f --\x3e\n  </div>\n</template>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"2\u65e0\u6570\u636e\u63d0\u793a",children:"2\u3001\u65e0\u6570\u636e\u63d0\u793a"}),"\n",(0,r.jsx)(n.p,{children:'\u6dfb\u52a0\uff1av-if="data.total==0"'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\x3c!-- /\u65e0\u6570\u636e\u63d0\u793a \u5f00\u59cb--\x3e\n<section class="no-data-wrap" v-if="data.total==0">\n    <em class="icon30 no-data-ico">&nbsp;</em>\n    <span class="c-666 fsize14 ml10 vam">\u6ca1\u6709\u76f8\u5173\u6570\u636e\uff0c\u5c0f\u7f16\u6b63\u5728\u52aa\u529b\u6574\u7406\u4e2d...</span>\n</section>\n\x3c!-- /\u65e0\u6570\u636e\u63d0\u793a \u7ed3\u675f--\x3e\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3\u5217\u8868",children:"3\u3001\u5217\u8868"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\x3c!-- /\u6570\u636e\u5217\u8868 \u5f00\u59cb--\x3e\n<article v-if="data.total>0" class="i-teacher-list">\n    <ul class="of">\n        <li v-for="item in data.items" :key="item.id">\n            <section class="i-teach-wrap">\n                <div class="i-teach-pic">\n                    <a :href="\'/teacher/\'+item.id" :title="item.name">\n                        <img :src="item.avatar" :alt="item.name" height="142" hright="142">\n                    </a>\n                </div>\n                <div class="mt10 hLh30 txtOf tac">\n                    <a :href="\'/teacher/\'+item.id" :title="item.name" class="fsize18 c-666">{{ item.name }}</a>\n                </div>\n                <div class="hLh30 txtOf tac">\n                    <span class="fsize14 c-999" >{{ item.career }}</span>\n                </div>\n                <div class="mt15 i-q-txt">\n                    <p class="c-999 f-fA">{{ item.intro }}</p>\n                </div>\n            </section>\n        </li>\n    </ul>\n    <div class="clear"/>\n</article>\n\x3c!-- /\u6570\u636e\u5217\u8868 \u7ed3\u675f--\x3e\n'})}),"\n",(0,r.jsx)(n.h2,{id:"4\u6d4b\u8bd5",children:"4\u3001\u6d4b\u8bd5"}),"\n",(0,r.jsx)(n.h2,{id:""}),"\n",(0,r.jsx)(n.h1,{id:"\u56db\u5206\u9875",children:"\u56db\u3001\u5206\u9875"}),"\n",(0,r.jsx)(n.h2,{id:"1\u5206\u9875\u65b9\u6cd5",children:"1\u3001\u5206\u9875\u65b9\u6cd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"methods: {\n    gotoPage(page){\n        teacher.getPageList(page, 8).then(response => {\n            this.data = response.data.data\n        })\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2\u5206\u9875\u9875\u9762\u6e32\u67d3",children:"2\u3001\u5206\u9875\u9875\u9762\u6e32\u67d3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\x3c!-- \u516c\u5171\u5206\u9875 \u5f00\u59cb --\x3e\n<div>\n  <div class="paging">\n    \x3c!-- undisable\u8fd9\u4e2aclass\u662f\u5426\u5b58\u5728\uff0c\u53d6\u51b3\u4e8e\u6570\u636e\u5c5e\u6027hasPrevious --\x3e\n    <a\n      :class="{undisable: !data.hasPrevious}"\n      href="#"\n      title="\u9996\u9875"\n      @click.prevent="gotoPage(1)">\u9996</a>\n    <a\n      :class="{undisable: !data.hasPrevious}"\n      href="#"\n      title="\u524d\u4e00\u9875"\n      @click.prevent="gotoPage(data.current-1)">&lt;</a>\n    <a\n      v-for="page in data.pages"\n      :key="page"\n      :class="{current: data.current == page, undisable: data.current == page}"\n      :title="\'\u7b2c\'+page+\'\u9875\'"\n      href="#"\n      @click.prevent="gotoPage(page)">{{ page }}</a>\n    <a\n      :class="{undisable: !data.hasNext}"\n      href="#"\n      title="\u540e\u4e00\u9875"\n      @click.prevent="gotoPage(data.current+1)">&gt;</a>\n    <a\n      :class="{undisable: !data.hasNext}"\n      href="#"\n      title="\u672b\u9875"\n      @click.prevent="gotoPage(data.pages)">\u672b</a>\n    <div class="clear"/>\n  </div>\n</div>\n\x3c!-- \u516c\u5171\u5206\u9875 \u7ed3\u675f --\x3e\n'})}),"\n",(0,r.jsx)(n.h2,{id:"3\u6d4b\u8bd5",children:"3\u3001\u6d4b\u8bd5"})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);