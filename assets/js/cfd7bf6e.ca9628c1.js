"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[9632],{15502:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f","title":"08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f","description":"1\u3001\u4e1a\u52a1\u5c42","source":"@site/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f.md","sourceDirName":"\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07","slug":"/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/master/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f.md","tags":[{"inline":true,"label":"\u5c1a\u7845\u8c37","permalink":"/mdviewer/docs/tags/\u5c1a\u7845\u8c37"}],"version":"current","sidebarPosition":8,"frontMatter":{"id":"08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f","title":"08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f","tags":["\u5c1a\u7845\u8c37"]},"sidebar":"tutorialSidebar","previous":{"title":"07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/07-\u8bfe\u7a0b\u4fe1\u606f\u56de\u663e"},"next":{"title":"09-\u968f\u5802\u7b14\u8bb0","permalink":"/mdviewer/docs/\u8c37\u7c92\u5b66\u9662\u5728\u7ebf\u6559\u80b2\u9879\u76ee/day07/09-\u968f\u5802\u7b14\u8bb0"}}');var o=r(74848),t=r(28453);const i={id:"08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f",title:"08-\u66f4\u65b0\u8bfe\u7a0b\u4fe1\u606f",tags:["\u5c1a\u7845\u8c37"]},d="\u4e00\u3001\u540e\u7aef\u5b9e\u73b0",c={},u=[{value:"1\u3001\u4e1a\u52a1\u5c42",id:"1\u4e1a\u52a1\u5c42",level:2},{value:"2\u3001web\u5c42",id:"2web\u5c42",level:2},{value:"1\u3001\u5b9a\u4e49api",id:"1\u5b9a\u4e49api",level:2},{value:"2\u3001\u7ec4\u4ef6js",id:"2\u7ec4\u4ef6js",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u4e00\u540e\u7aef\u5b9e\u73b0",children:"\u4e00\u3001\u540e\u7aef\u5b9e\u73b0"})}),"\n",(0,o.jsx)(n.h2,{id:"1\u4e1a\u52a1\u5c42",children:"1\u3001\u4e1a\u52a1\u5c42"}),"\n",(0,o.jsx)(n.p,{children:"\u63a5\u53e3\uff1aCourseService.java"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"void updateCourseInfoById(CourseInfoForm courseInfoForm);\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u5b9e\u73b0\uff1aCourseServiceImpl.java"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'@Override\npublic void updateCourseInfoById(CourseInfoForm courseInfoForm) {\n    //\u4fdd\u5b58\u8bfe\u7a0b\u57fa\u672c\u4fe1\u606f\n    Course course = new Course();\n    BeanUtils.copyProperties(courseInfoForm, course);\n    boolean resultCourseInfo = this.updateById(course);\n    if(!resultCourseInfo){\n        throw new GuliException(20001, "\u8bfe\u7a0b\u4fe1\u606f\u4fdd\u5b58\u5931\u8d25");\n    }\n\n    //\u4fdd\u5b58\u8bfe\u7a0b\u8be6\u60c5\u4fe1\u606f\n    CourseDescription courseDescription = new CourseDescription();\n    courseDescription.setDescription(courseInfoForm.getDescription());\n    courseDescription.setId(course.getId());\n    boolean resultDescription = courseDescriptionService.updateById(courseDescription);\n    if(!resultDescription){\n        throw new GuliException(20001, "\u8bfe\u7a0b\u8be6\u60c5\u4fe1\u606f\u4fdd\u5b58\u5931\u8d25");\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"2web\u5c42",children:"2\u3001web\u5c42"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'@ApiOperation(value = "\u66f4\u65b0\u8bfe\u7a0b")\n@PutMapping("update-course-info/{id}")\npublic R updateCourseInfoById(\n    @ApiParam(name = "CourseInfoForm", value = "\u8bfe\u7a0b\u57fa\u672c\u4fe1\u606f", required = true)\n    @RequestBody CourseInfoForm courseInfoForm,\n\n    @ApiParam(name = "id", value = "\u8bfe\u7a0bID", required = true)\n    @PathVariable String id){\n\n    courseService.updateCourseInfoById(courseInfoForm);\n    return R.ok();\n}\n'})}),"\n",(0,o.jsx)(n.h1,{id:"\u4e8c\u524d\u7aef\u5b9e\u73b0",children:"\u4e8c\u3001\u524d\u7aef\u5b9e\u73b0"}),"\n",(0,o.jsx)(n.h2,{id:"1\u5b9a\u4e49api",children:"1\u3001\u5b9a\u4e49api"}),"\n",(0,o.jsx)(n.p,{children:"course.js"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"updateCourseInfoById(courseInfo) {\n  return request({\n    url: `${api_name}/update-course-info/${courseInfo.id}`,\n    method: 'put',\n    data: courseInfo\n  })\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"2\u7ec4\u4ef6js",children:"2\u3001\u7ec4\u4ef6js"}),"\n",(0,o.jsx)(n.p,{children:"info.vue"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"updateData() {\n    this.saveBtnDisabled = true\n    course.updateCourseInfoById(this.courseInfo).then(response => {\n        this.$message({\n            type: 'success',\n            message: '\u4fee\u6539\u6210\u529f!'\n        })\n        return response// \u5c06\u54cd\u5e94\u7ed3\u679c\u4f20\u9012\u7ed9then\n    }).then(response => {\n        this.$router.push({ path: '/edu/course/chapter/' + response.data.courseId })\n    }).catch((response) => {\n        // console.log(response)\n        this.$message({\n            type: 'error',\n            message: '\u4fdd\u5b58\u5931\u8d25'\n        })\n    })\n},\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>d});var s=r(96540);const o={},t=s.createContext(o);function i(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);