"use strict";(self.webpackChunkmdviewer=self.webpackChunkmdviewer||[]).push([[6360],{3775:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>c,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"\u4e2a\u4eba\u535a\u5ba2/\u521d\u8bc6\u5927\u6570\u636e(\u4e00)","title":"\u521d\u8bc6\u5927\u6570\u636e(\u4e00)","description":"Hadoop \u4e09\u5927\u53d1\u884c\u7248\u672c\uff1aApache\u3001Cloudera\u3001Hortonworks\u3002\u8fd9\u91cc\u4ee5\u666e\u901a\u7684 Apache Hadoop \u65b9\u5f0f\u642d\u5efa\u5927\u6570\u636e\u73af\u5883\uff08\u540e\u9762\u4f1a\u8003\u8651\u4f7f\u7528\u66f4\u8d34\u5408\u5b9e\u9645\u7684 CDH \u7248\u672c\u7684 Hadoop\u96c6\u7fa4\uff09","source":"@site/docs/\u4e2a\u4eba\u535a\u5ba2/\u521d\u8bc6\u5927\u6570\u636e(\u4e00).md","sourceDirName":"\u4e2a\u4eba\u535a\u5ba2","slug":"/\u4e2a\u4eba\u535a\u5ba2/\u521d\u8bc6\u5927\u6570\u636e(\u4e00)","permalink":"/mdviewer/docs/\u4e2a\u4eba\u535a\u5ba2/\u521d\u8bc6\u5927\u6570\u636e(\u4e00)","draft":false,"unlisted":false,"editUrl":"https://github.com/hello-github-ui/mdviewer/edit/main/docs/\u4e2a\u4eba\u535a\u5ba2/\u521d\u8bc6\u5927\u6570\u636e(\u4e00).md","tags":[{"inline":true,"label":"\u4e2a\u4eba\u535a\u5ba2","permalink":"/mdviewer/docs/tags/\u4e2a\u4eba\u535a\u5ba2"}],"version":"current","frontMatter":{"id":"\u521d\u8bc6\u5927\u6570\u636e(\u4e00)","title":"\u521d\u8bc6\u5927\u6570\u636e(\u4e00)","tags":["\u4e2a\u4eba\u535a\u5ba2"]},"sidebar":"tutorialSidebar","previous":{"title":"\u5168\u5c40\u5f02\u5e38\u5904\u7406","permalink":"/mdviewer/docs/\u4e2a\u4eba\u535a\u5ba2/\u5168\u5c40\u5f02\u5e38\u5904\u7406"},"next":{"title":"\u5408\u5e76\u591a\u4e2a\u6709\u5e8f\u6570\u7ec4","permalink":"/mdviewer/docs/\u4e2a\u4eba\u535a\u5ba2/\u5408\u5e76\u591a\u4e2a\u6709\u5e8f\u6570\u7ec4"}}');var r=o(4848),l=o(8453);const d={id:"\u521d\u8bc6\u5927\u6570\u636e(\u4e00)",title:"\u521d\u8bc6\u5927\u6570\u636e(\u4e00)",tags:["\u4e2a\u4eba\u535a\u5ba2"]},a="\u5927\u6570\u636e\u57fa\u7840",i={},h=[{value:"Hadoop Yarn\u96c6\u7fa4\u7684\u642d\u5efa",id:"hadoop-yarn\u96c6\u7fa4\u7684\u642d\u5efa",level:2},{value:"\u865a\u62df\u673a\u7684\u51c6\u5907",id:"\u865a\u62df\u673a\u7684\u51c6\u5907",level:3},{value:"\u4fee\u6539 IP",id:"\u4fee\u6539-ip",level:4},{value:"\u4fee\u6539\u4e3b\u673a\u540d",id:"\u4fee\u6539\u4e3b\u673a\u540d",level:4},{value:"\u914d\u7f6e Linux \u514b\u9686\u673a\u4e3b\u673a\u540d\u79f0\u6620\u5c04 hosts \u6587\u4ef6\uff0c\u6253\u5f00/etc/hosts",id:"\u914d\u7f6e-linux-\u514b\u9686\u673a\u4e3b\u673a\u540d\u79f0\u6620\u5c04-hosts-\u6587\u4ef6\u6253\u5f00etchosts",level:4},{value:"Windows host\u6587\u4ef6\u914d\u7f6e",id:"windows-host\u6587\u4ef6\u914d\u7f6e",level:4},{value:"\u5378\u8f7d\u81ea\u5e26\u7684 jdk",id:"\u5378\u8f7d\u81ea\u5e26\u7684-jdk",level:4},{value:"\u5173\u95ed\u9632\u706b\u5899\u5e76\u7981\u7528\u5f00\u673a\u81ea\u542f\u52a8\u9632\u706b\u5899",id:"\u5173\u95ed\u9632\u706b\u5899\u5e76\u7981\u7528\u5f00\u673a\u81ea\u542f\u52a8\u9632\u706b\u5899",level:4},{value:"\u521b\u5efa\u666e\u901a\u7528\u6237",id:"\u521b\u5efa\u666e\u901a\u7528\u6237",level:4},{value:"\u914d\u7f6e admin \u7528\u6237\u5177\u6709 root \u6743\u9650\uff0c\u65b9\u4fbf\u540e\u671f\u52a0 sudo \u6267\u884c root \u6743\u9650\u7684\u547d\u4ee4",id:"\u914d\u7f6e-admin-\u7528\u6237\u5177\u6709-root-\u6743\u9650\u65b9\u4fbf\u540e\u671f\u52a0-sudo-\u6267\u884c-root-\u6743\u9650\u7684\u547d\u4ee4",level:4},{value:"\u5728/opt \u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u5e76\u4fee\u6539\u6240\u5c5e\u4e3b\u548c\u6240\u5c5e\u7ec4",id:"\u5728opt-\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939\u5e76\u4fee\u6539\u6240\u5c5e\u4e3b\u548c\u6240\u5c5e\u7ec4",level:4},{value:"Hadoop102\u4e0a\u5b89\u88c5jdk",id:"hadoop102\u4e0a\u5b89\u88c5jdk",level:4},{value:"\u7f16\u5199\u96c6\u7fa4\u5206\u53d1\u811a\u672c xsync",id:"\u7f16\u5199\u96c6\u7fa4\u5206\u53d1\u811a\u672c-xsync",level:4},{value:"SSH \u65e0\u5bc6\u767b\u5f55\u914d\u7f6e",id:"ssh-\u65e0\u5bc6\u767b\u5f55\u914d\u7f6e",level:4},{value:"\u540c\u6b65 jdk \u5230 Hadoop103\uff0cHadoop104",id:"\u540c\u6b65-jdk-\u5230-hadoop103hadoop104",level:4},{value:"Hadoop \u5b89\u88c5",id:"hadoop-\u5b89\u88c5",level:3},{value:"Hadoop Yarn\u96c6\u7fa4\u914d\u7f6e",id:"hadoop-yarn\u96c6\u7fa4\u914d\u7f6e",level:3},{value:"\u914d\u7f6e core-site.xml",id:"\u914d\u7f6e-core-sitexml",level:4},{value:"\u914d\u7f6e hdfs-site.xml",id:"\u914d\u7f6e-hdfs-sitexml",level:4},{value:"\u914d\u7f6e yarn-site.xml",id:"\u914d\u7f6e-yarn-sitexml",level:4},{value:"\u914d\u7f6e mapred-site.xml",id:"\u914d\u7f6e-mapred-sitexml",level:4},{value:"\u914d\u7f6e workers",id:"\u914d\u7f6e-workers",level:4},{value:"\u914d\u7f6e\u5386\u53f2\u670d\u52a1\u5668",id:"\u914d\u7f6e\u5386\u53f2\u670d\u52a1\u5668",level:4},{value:"\u914d\u7f6e mapred-site.xml",id:"\u914d\u7f6e-mapred-sitexml-1",level:5},{value:"\u914d\u7f6e\u65e5\u5fd7\u7684\u805a\u96c6",id:"\u914d\u7f6e\u65e5\u5fd7\u7684\u805a\u96c6",level:4},{value:"\u914d\u7f6e yarn-site.xml",id:"\u914d\u7f6e-yarn-sitexml-1",level:5},{value:"\u96c6\u7fa4\u542f\u52a8/\u505c\u6b62\u65b9\u5f0f",id:"\u96c6\u7fa4\u542f\u52a8\u505c\u6b62\u65b9\u5f0f",level:4},{value:"Hadoop \u96c6\u7fa4\u542f\u505c\u811a\u672c\uff08\u5305\u542b HDFS\uff0cYarn\uff0cHistoryserver\uff09\uff1amyhadoop.sh",id:"hadoop-\u96c6\u7fa4\u542f\u505c\u811a\u672c\u5305\u542b-hdfsyarnhistoryservermyhadoopsh",level:5},{value:"\u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668 Java \u8fdb\u7a0b\u811a\u672c\uff1ajpsall",id:"\u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668-java-\u8fdb\u7a0b\u811a\u672cjpsall",level:4},{value:"\u5206\u53d1\u5185\u5bb9\u5230\u5176\u5b83\u4e3b\u673a",id:"\u5206\u53d1\u5185\u5bb9\u5230\u5176\u5b83\u4e3b\u673a",level:4},{value:"\u542f\u52a8\u96c6\u7fa4\u6d4b\u8bd5",id:"\u542f\u52a8\u96c6\u7fa4\u6d4b\u8bd5",level:4},{value:"Hive \u642d\u5efa",id:"hive-\u642d\u5efa",level:2},{value:"hive \u5305\u51c6\u5907",id:"hive-\u5305\u51c6\u5907",level:4},{value:"MySQL\u5b89\u88c5",id:"mysql\u5b89\u88c5",level:4},{value:"\u914d\u7f6ehive\u6587\u4ef6",id:"\u914d\u7f6ehive\u6587\u4ef6",level:4},{value:"\u914d\u7f6ehive-site.xml\u6587\u4ef6",id:"\u914d\u7f6ehive-sitexml\u6587\u4ef6",level:4},{value:"hive\u8fde\u63a5MySQL\u9a71\u52a8\u8fde\u63a5\u5305",id:"hive\u8fde\u63a5mysql\u9a71\u52a8\u8fde\u63a5\u5305",level:4},{value:"\u914d\u7f6e hive \u65e5\u5fd7",id:"\u914d\u7f6e-hive-\u65e5\u5fd7",level:4},{value:"\u65b0\u5efahive\u4ed3\u5e93\u76ee\u5f55",id:"\u65b0\u5efahive\u4ed3\u5e93\u76ee\u5f55",level:4},{value:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",id:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",level:4},{value:"\u5143\u6570\u636e\u5e93\u521d\u59cb\u5316",id:"\u5143\u6570\u636e\u5e93\u521d\u59cb\u5316",level:4},{value:"\u542f\u52a8hive",id:"\u542f\u52a8hive",level:4},{value:"Spark \u642d\u5efa",id:"spark-\u642d\u5efa",level:2},{value:"Spark\u8fde\u63a5\u5916\u7f6ehive",id:"spark\u8fde\u63a5\u5916\u7f6ehive",level:4}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u5927\u6570\u636e\u57fa\u7840",children:"\u5927\u6570\u636e\u57fa\u7840"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Hadoop \u4e09\u5927\u53d1\u884c\u7248\u672c\uff1aApache\u3001Cloudera\u3001Hortonworks\u3002\u8fd9\u91cc\u4ee5\u666e\u901a\u7684 Apache Hadoop \u65b9\u5f0f\u642d\u5efa\u5927\u6570\u636e\u73af\u5883\uff08\u540e\u9762\u4f1a\u8003\u8651\u4f7f\u7528\u66f4\u8d34\u5408\u5b9e\u9645\u7684 CDH \u7248\u672c\u7684 Hadoop\u96c6\u7fa4\uff09"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"hadoop-yarn\u96c6\u7fa4\u7684\u642d\u5efa",children:"Hadoop Yarn\u96c6\u7fa4\u7684\u642d\u5efa"}),"\n",(0,r.jsx)(n.h3,{id:"\u865a\u62df\u673a\u7684\u51c6\u5907",children:"\u865a\u62df\u673a\u7684\u51c6\u5907"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u5148\u51c6\u5907\u4e09\u53f0centos7\u865a\u62df\u673a\uff0c\u5177\u4f53\u65b9\u5f0f\u4e0d\u505a\u6f14\u793a"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u4fee\u6539-ip",children:"\u4fee\u6539 IP"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u7b2c\u4e00\u53f0\u865a\u62df\u673a\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"#  vim /etc/sysconfig/network-scripts/ifcfgens33\nTYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=static\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nIPV6_ADDR_GEN_MODE=stable-privacy\nNAME=ens33\nUUID=29b35945-26d7-4f4f-9924-ff97b9bf0638\nDEVICE=ens33\nONBOOT=yes\nIPADDR=10.144.144.102\nPREFIX=24\nGATEWAY=10.144.144.2\nDNS1=10.144.144.2\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"\u7b2c\u4e8c\u53f0\u865a\u62df\u673a\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'BOOTPROTO="static"\nDEFROUTE="yes"\nIPV4_FAILURE_FATAL="no"\nIPV6INIT="yes"\nIPV6_AUTOCONF="yes"\nIPV6_DEFROUTE="yes"\nIPV6_FAILURE_FATAL="no"\nIPV6_ADDR_GEN_MODE="stable-privacy"\nNAME="ens33"\nUUID="07ad7c52-3d68-4e89-a699-8be6a0bd92d0"\nDEVICE="ens33"\nONBOOT="yes"\nIPADDR="10.144.144.103"\nPREFIX="24"\nGATEWAY="10.144.144.2"\nDNS1="10.144.144.2"\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"\u7b2c\u4e09\u53f0\u865a\u62df\u673a\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'BOOTPROTO="static"\nDEFROUTE="yes"\nIPV4_FAILURE_FATAL="no"\nIPV6INIT="yes"\nIPV6_AUTOCONF="yes"\nIPV6_DEFROUTE="yes"\nIPV6_FAILURE_FATAL="no"\nIPV6_ADDR_GEN_MODE="stable-privacy"\nNAME="ens33"\nUUID="07ad7c52-3d68-4e89-a699-8be6a0bd92d0"\nDEVICE="ens33"\nONBOOT="yes"\nIPADDR="10.144.144.104"\nPREFIX="24"\nGATEWAY="10.144.144.2"\nDNS1="10.144.144.2"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u4fee\u6539\u4e3b\u673a\u540d",children:"\u4fee\u6539\u4e3b\u673a\u540d"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u7b2c\u4e00\u53f0\u865a\u62df\u673a\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# vim /etc/hostname\nhadoop102\n"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u7b2c\u4e8c\u53f0\u865a\u62df\u673a\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# vim /etc/hostname\nhadoop103\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"\u7b2c\u4e09\u53f0\u865a\u62df\u673a\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# vim /etc/hostname\nhadoop104\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-linux-\u514b\u9686\u673a\u4e3b\u673a\u540d\u79f0\u6620\u5c04-hosts-\u6587\u4ef6\u6253\u5f00etchosts",children:"\u914d\u7f6e Linux \u514b\u9686\u673a\u4e3b\u673a\u540d\u79f0\u6620\u5c04 hosts \u6587\u4ef6\uff0c\u6253\u5f00/etc/hosts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# vim /etc/hosts \u4e09\u53f0\u4e3b\u673a\u90fd\u5982\u6b64\u4fee\u6539\u5373\u53ef\n10.144.144.144 my_centos\n10.144.144.102 hadoop102\n10.144.144.103 hadoop103\n10.144.144.104 hadoop104\n10.144.144.254 my_portable_centos\n"})}),"\n",(0,r.jsx)(n.h4,{id:"windows-host\u6587\u4ef6\u914d\u7f6e",children:"Windows host\u6587\u4ef6\u914d\u7f6e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# windows/system32/drivers/etc/hosts\n10.144.144.144 my_centos\n10.144.144.102 hadoop102\n10.144.144.103 hadoop103\n10.144.144.104 hadoop104\n10.144.144.254 my_portable_centos\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u5378\u8f7d\u81ea\u5e26\u7684-jdk",children:"\u5378\u8f7d\u81ea\u5e26\u7684 jdk"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rpm -qa | grep -i java | xargs -n1 rpm -e --nodeps\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u27a2 rpm -qa\uff1a\u67e5\u8be2\u6240\u5b89\u88c5\u7684\u6240\u6709 rpm \u8f6f\u4ef6\u5305"}),"\n",(0,r.jsx)(n.p,{children:"\u27a2 grep -i\uff1a\u5ffd\u7565\u5927\u5c0f\u5199"}),"\n",(0,r.jsx)(n.p,{children:"\u27a2 xargs -n1\uff1a\u8868\u793a\u6bcf\u6b21\u53ea\u4f20\u9012\u4e00\u4e2a\u53c2\u6570"}),"\n",(0,r.jsx)(n.p,{children:"\u27a2 rpm -e \u2013nodeps\uff1a\u5f3a\u5236\u5378\u8f7d\u8f6f\u4ef6"}),"\n",(0,r.jsx)(n.h4,{id:"\u5173\u95ed\u9632\u706b\u5899\u5e76\u7981\u7528\u5f00\u673a\u81ea\u542f\u52a8\u9632\u706b\u5899",children:"\u5173\u95ed\u9632\u706b\u5899\u5e76\u7981\u7528\u5f00\u673a\u81ea\u542f\u52a8\u9632\u706b\u5899"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# hadoop102 hadoop103 hadoop104 \u90fd\u9700\u8981\u5982\u4e0b\u914d\u7f6e\nsystemctl stop firewalld\nsystemctl disable firewalld.service\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u521b\u5efa\u666e\u901a\u7528\u6237",children:"\u521b\u5efa\u666e\u901a\u7528\u6237"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u4f7f\u7528 root \u8d26\u6237\u64cd\u4f5c\n useradd admin\n passwd admin # \u56de\u8f66\u540e\uff0c\u63d0\u793a\u8f93\u5165\u65b0\u5bc6\u7801\uff0c\u5efa\u8bae123456\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-admin-\u7528\u6237\u5177\u6709-root-\u6743\u9650\u65b9\u4fbf\u540e\u671f\u52a0-sudo-\u6267\u884c-root-\u6743\u9650\u7684\u547d\u4ee4",children:"\u914d\u7f6e admin \u7528\u6237\u5177\u6709 root \u6743\u9650\uff0c\u65b9\u4fbf\u540e\u671f\u52a0 sudo \u6267\u884c root \u6743\u9650\u7684\u547d\u4ee4"}),"\n",(0,r.jsx)(n.p,{children:"\u4fee\u6539/etc/sudoers \u6587\u4ef6\uff0c\u5728%wheel \u8fd9\u884c\u4e0b\u9762\u6dfb\u52a0\u4e00\u884c\uff0c\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# vim /etc/sudoers\n## Allow root to run any commands anywhere\nroot ALL=(ALL) ALL\n## Allows people in group wheel to run all commands\n%wheel ALL=(ALL) ALL\nadmin ALL=(ALL) NOPASSWD:ALL # \u6ce8\u610f\uff0c\u4f4d\u7f6e\u4e00\u5b9a\u8981\u653e\u5230 wheel \u4e0b\u9762\u4e00\u884c\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1aadmin \u8fd9\u4e00\u884c\u4e0d\u8981\u76f4\u63a5\u653e\u5230 root \u884c\u4e0b\u9762\uff0c\u56e0\u4e3a\u6240\u6709\u7528\u6237\u90fd\u5c5e\u4e8e wheel \u7ec4\uff0c\u4f60\u5148 \u914d\u7f6e\u4e86 admin \u5177\u6709\u514d\u5bc6\u529f\u80fd\uff0c\u4f46\u662f\u7a0b\u5e8f\u6267\u884c\u5230%wheel \u884c\u65f6\uff0c\u8be5\u529f\u80fd\u53c8\u88ab\u8986\u76d6\u56de\u9700\u8981 \u5bc6\u7801\u3002\u6240\u4ee5 admin \u8981\u653e\u5230%wheel \u8fd9\u884c\u4e0b\u9762\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u5728opt-\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939\u5e76\u4fee\u6539\u6240\u5c5e\u4e3b\u548c\u6240\u5c5e\u7ec4",children:"\u5728/opt \u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u5e76\u4fee\u6539\u6240\u5c5e\u4e3b\u548c\u6240\u5c5e\u7ec4"}),"\n",(0,r.jsx)(n.p,{children:"\uff081\uff09\u5728/opt \u76ee\u5f55\u4e0b\u521b\u5efa module\u3001software \u6587\u4ef6\u5939 \u3010\u4e09\u53f0\u4e3b\u673a\u90fd\u9700\u8981\u5982\u4e0b\u64cd\u4f5c\uff0c\u5982\u679c\u4f60\u662f\u91c7\u7528\u7684clone\u6a21\u5f0f\u53e6\u5916\u4e24\u53f0\u4e3b\u673a\uff0c\u53ea\u9700\u8981Hadoop102\u64cd\u4f5c\u5373\u53ef\u3011"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[root@hadoop102 ~]# mkdir /opt/module\n[root@hadoop102 ~]# mkdir /opt/software\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uff082\uff09\u4fee\u6539 module\u3001software \u6587\u4ef6\u5939\u7684\u6240\u6709\u8005\u548c\u6240\u5c5e\u7ec4\u5747\u4e3a admin \u7528\u6237"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[root@hadoop102 ~]# chown admin:admin /opt/module\n[root@hadoop102 ~]# chown admin:admin /opt/software\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u4e09\u53f0\u4e3b\u673a\u90fd\u7f16\u8f91\u5b8c\u6210\u540e\uff0creboot \u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"hadoop102\u4e0a\u5b89\u88c5jdk",children:"Hadoop102\u4e0a\u5b89\u88c5jdk"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u7528 XShell \u4f20\u8f93\u5de5\u5177\u5c06 JDK \u5bfc\u5165\u5230 opt \u76ee\u5f55\u4e0b\u9762\u7684 software \u6587\u4ef6\u5939\u4e0b\u9762"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u89e3\u538b JDK \u5230/opt/module \u76ee\u5f55\u4e0b ",(0,r.jsx)(n.code,{children:"tar -zxvf jdkjdk-8u311-linux-x64.tar.gz -C /opt/module/"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u914d\u7f6e JDK \u73af\u5883\u53d8\u91cf"}),"\n",(0,r.jsx)(n.p,{children:"\uff081\uff09\u65b0\u5efa/etc/profile.d/my_env.sh \u6587\u4ef6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 ~]$ sudo vim /etc/profile.d/my_env.sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"#JAVA_HOME\nexport JAVA_HOME=/opt/module/jdk1.8.0_311\nexport PATH=$PATH:$JAVA_HOME/bin\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4fdd\u5b58, source \u4e00\u4e0b/etc/profile \u6587\u4ef6\uff0c\u8ba9\u65b0\u7684\u73af\u5883\u53d8\u91cf PATH \u751f\u6548\u5373\u53ef"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u7f16\u5199\u96c6\u7fa4\u5206\u53d1\u811a\u672c-xsync",children:"\u7f16\u5199\u96c6\u7fa4\u5206\u53d1\u811a\u672c xsync"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uff081\uff09\u9700\u6c42\uff1a\u5faa\u73af\u590d\u5236\u6587\u4ef6\u5230\u6240\u6709\u8282\u70b9\u7684\u76f8\u540c\u76ee\u5f55\u4e0b"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'# \u5728/home/admin/bin \u76ee\u5f55\u4e0b\u521b\u5efa xsync \u6587\u4ef6\n# \u5728\u8be5\u6587\u4ef6\u4e2d\u7f16\u5199\u5982\u4e0b\u4ee3\u7801\n\n#!/bin/bash\n#1. \u5224\u65ad\u53c2\u6570\u4e2a\u6570\nif [ $# -lt 1 ]; then\n\techo Not Enough Arguement!\n\texit\nfi\n#2. \u904d\u5386\u96c6\u7fa4\u6240\u6709\u673a\u5668\nfor host in hadoop102 hadoop103 hadoop104; do\n\techo ==================== $host ====================\n\t#3. \u904d\u5386\u6240\u6709\u76ee\u5f55\uff0c\u6328\u4e2a\u53d1\u9001\n\tfor file in $@; do\n\t\t#4. \u5224\u65ad\u6587\u4ef6\u662f\u5426\u5b58\u5728\n\t\tif [ -e $file ]; then\n\t\t\t#5. \u83b7\u53d6\u7236\u76ee\u5f55\n\t\t\tpdir=$(\n\t\t\t\tcd -P $(dirname $file)\n\t\t\t\tpwd\n\t\t\t)\n\t\t\t#6. \u83b7\u53d6\u5f53\u524d\u6587\u4ef6\u7684\u540d\u79f0\n\t\t\tfname=$(basename $file)\n\t\t\tssh $host "mkdir -p $pdir"\n\t\t\trsync -av $pdir/$fname $host:$pdir\n\t\telse\n\t\t\techo $file does not exists!\n\t\tfi\n\tdone\ndone\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uff082\uff09\u4fee\u6539\u811a\u672c xsync \u5177\u6709\u6267\u884c\u6743\u9650"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 bin]$ chmod +x xsync\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uff083\uff09\u6d4b\u8bd5\u811a\u672c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 ~]$ xsync /home/admin/bin\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uff084\uff09\u5c06\u811a\u672c\u590d\u5236\u5230/bin \u4e2d\uff0c\u4ee5\u4fbf\u5168\u5c40\u8c03\u7528"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 bin]$ sudo cp xsync /bin/\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uff085\uff09\u540c\u6b65\u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff08root \u6240\u6709\u8005\uff09"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 ~]$ sudo ./bin/xsync /etc/profile.d/my_env.sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\u5982\u679c\u7528\u4e86 sudo\uff0c\u90a3\u4e48 xsync \u4e00\u5b9a\u8981\u7ed9\u5b83\u7684\u8def\u5f84\u8865\u5168\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\uff086\uff09\u8ba9\u73af\u5883\u53d8\u91cf\u751f\u6548"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 bin]$ source /etc/profile\n"})}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"ssh-\u65e0\u5bc6\u767b\u5f55\u914d\u7f6e",children:"SSH \u65e0\u5bc6\u767b\u5f55\u914d\u7f6e"}),"\n",(0,r.jsx)(n.p,{children:"\u9700\u6c42\uff1assh \u53e6\u4e00\u53f0\u7535\u8111\u7684ip\u5730\u5740"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u751f\u6210\u516c\u94a5\u548c\u79c1\u94a5"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[root@hadoop102 .ssh]$ pwd\n/root/.ssh\n[root@hadoop102 .ssh]$ ssh-keygen -t rsa\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540e\u6572\uff08\u4e09\u4e2a\u56de\u8f66\uff09\uff0c\u5c31\u4f1a\u751f\u6210\u4e24\u4e2a\u6587\u4ef6 id_rsa\uff08\u79c1\u94a5\uff09\u3001id_rsa.pub\uff08\u516c\u94a5\uff09"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5c06\u516c\u94a5\u62f7\u8d1d\u5230\u8981\u514d\u5bc6\u767b\u5f55\u7684\u76ee\u6807\u673a\u5668\u4e0a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[root@hadoop102 .ssh]$ ssh-copy-id hadoop102\n[root@hadoop102 .ssh]$ ssh-copy-id hadoop103\n[root@hadoop102 .ssh]$ ssh-copy-id hadoop104\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u767b\u5f55 hadoop103\uff0c104 \uff0c\u5728\u5176\u4e0a\u4e5f\u6267\u884c\u4e00\u904d\u5982\u4e0a\u64cd\u4f5c"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u767b\u5f55 hadoop103\n[root@hadoop103 .ssh]$ ssh-copy-id hadoop102\n[root@hadoop103 .ssh]$ ssh-copy-id hadoop103\n[root@hadoop103 .ssh]$ ssh-copy-id hadoop104\n# \u767b\u5f55 hadoop104\n[root@hadoop104 .ssh]$ ssh-copy-id hadoop102\n[root@hadoop104 .ssh]$ ssh-copy-id hadoop103\n[root@hadoop104 .ssh]$ ssh-copy-id hadoop104\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5207\u6362\u6210 admin \u7528\u6237\uff0c\u7136\u540e\u91cd\u590d\u4e00\u904d\u4e0a\u9762\u7684\u64cd\u4f5c\u5373\u53ef\u3010\u6ce8\u610f\uff1a\u4e0d\u9700\u8981\u91cd\u65b0\u751f\u6210 id_rsa \u4e86\u3011"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u540c\u6b65-jdk-\u5230-hadoop103hadoop104",children:"\u540c\u6b65 jdk \u5230 Hadoop103\uff0cHadoop104"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 module]$ xsync jdk1.8.0_311/\n# \u540c\u6b65 my_env.sh\n[admin@hadoop102 module]$ xsync /etc/profile.d/my_env.sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"hadoop-\u5b89\u88c5",children:"Hadoop \u5b89\u88c5"}),"\n",(0,r.jsxs)(n.p,{children:["Hadoop \u4e0b\u8f7d\u5730\u5740\uff1a",(0,r.jsx)(n.a,{href:"https://archive.apache.org/dist/hadoop/common/hadoop-3.1.3/",children:"https://archive.apache.org/dist/hadoop/common/hadoop-3.1.3/"})]}),"\n",(0,r.jsx)(n.p,{children:"1\uff09\u7528 XShell \u6587\u4ef6\u4f20\u8f93\u5de5\u5177\u5c06 hadoop-3.1.3.tar.gz \u5bfc\u5165\u5230 opt \u76ee\u5f55\u4e0b\u9762\u7684 software \u6587\u4ef6\u5939\u4e0b \u9762"}),"\n",(0,r.jsx)(n.p,{children:"2\uff09\u8fdb\u5165\u5230 Hadoop \u5b89\u88c5\u5305\u8def\u5f84\u4e0b [atguigu@hadoop102 ~]$ cd /opt/software/"}),"\n",(0,r.jsx)(n.p,{children:"3\uff09\u89e3\u538b\u5b89\u88c5\u6587\u4ef6\u5230/opt/module \u4e0b\u9762"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 software]$ tar -zxvf hadoop-3.1.3.tar.gz -C /opt/module/\n"})}),"\n",(0,r.jsx)(n.p,{children:"4\uff09\u67e5\u770b\u662f\u5426\u89e3\u538b\u6210\u529f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[admin@hadoop102 software]$ ls /opt/module/ hadoop-3.1.3\n"})}),"\n",(0,r.jsx)(n.p,{children:"5\uff09\u5c06 Hadoop \u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf"}),"\n",(0,r.jsxs)(n.p,{children:["\u200b\t\uff081\uff09\u83b7\u53d6 Hadoop \u5b89\u88c5\u8def\u5f84 ",(0,r.jsx)(n.code,{children:"[admin@hadoop102 hadoop-3.1.3]$ pwd /opt/module/hadoop-3.1.3 "})]}),"\n",(0,r.jsxs)(n.p,{children:["\u200b\t\uff082\uff09\u6253\u5f00/etc/profile.d/my_env.sh \u6587\u4ef6 ",(0,r.jsx)(n.code,{children:"[admin@hadoop102 hadoop-3.1.3]$ sudo vim /etc/profile.d/my_env.sh"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"#HADOOP_HOME\nexport HADOOP_HOME=/opt/module/hadoop-3.1.3\nexport PATH=$PATH:$HADOOP_HOME/bin\nexport PATH=$PATH:$HADOOP_HOME/sbin\n"})}),"\n",(0,r.jsx)(n.h3,{id:"hadoop-yarn\u96c6\u7fa4\u914d\u7f6e",children:"Hadoop Yarn\u96c6\u7fa4\u914d\u7f6e"}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-core-sitexml",children:"\u914d\u7f6e core-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6 vim  $HADOOP_HOME/etc/hadoop/core-site.xml"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n \x3c!-- \u6307\u5b9a NameNode \u7684\u5730\u5740 --\x3e\n <property>\n <name>fs.defaultFS</name>\n <value>hdfs://hadoop102:8020</value>\n </property>\n \x3c!-- \u6307\u5b9a hadoop \u6570\u636e\u7684\u5b58\u50a8\u76ee\u5f55 --\x3e\n <property>\n <name>hadoop.tmp.dir</name>\n <value>/opt/module/hadoop-3.1.3/data</value>\n </property>\n \x3c!-- \u914d\u7f6e HDFS \u7f51\u9875\u767b\u5f55\u4f7f\u7528\u7684\u9759\u6001\u7528\u6237\u4e3a admin\uff0c\u6ce8\u610f\u540e\u671f hive \u7684 beeline \u767b\u5f55\u7528\u6237\u540d\u4e5f\u662f\u8fd9\u4e2a admin --\x3e\n <property>\n <name>hadoop.http.staticuser.user</name>\n <value>admin</value>\n </property>\n</configuration>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-hdfs-sitexml",children:"\u914d\u7f6e hdfs-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"HDFS \u914d\u7f6e\u6587\u4ef6 vim $HADOOP_HOME/etc/hadoop/hdfs-site.xml"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n\x3c!-- nn web \u7aef\u8bbf\u95ee\u5730\u5740--\x3e\n<property>\n <name>dfs.namenode.http-address</name>\n <value>hadoop102:9870</value>\n </property>\n\x3c!-- 2nn web \u7aef\u8bbf\u95ee\u5730\u5740--\x3e\n <property>\n <name>dfs.namenode.secondary.http-address</name>\n <value>hadoop104:9868</value>\n </property>\n</configuration>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-yarn-sitexml",children:"\u914d\u7f6e yarn-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"YARN \u914d\u7f6e\u6587\u4ef6 vim $HADOOP_HOME/etc/hadoop/yarn-site.xml"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n \x3c!-- \u6307\u5b9a MR \u8d70 shuffle --\x3e\n <property>\n \t<name>yarn.nodemanager.aux-services</name>\n \t<value>mapreduce_shuffle</value>\n </property>\n \x3c!-- \u6307\u5b9a ResourceManager \u7684\u5730\u5740--\x3e\n <property>\n \t<name>yarn.resourcemanager.hostname</name>\n \t<value>hadoop103</value>\n </property>\n \x3c!-- \u73af\u5883\u53d8\u91cf\u7684\u7ee7\u627f --\x3e\n <property>\n \t<name>yarn.nodemanager.env-whitelist</name>\n\t<value>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME</value>\n </property>\n</configuration>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-mapred-sitexml",children:"\u914d\u7f6e mapred-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"MapReduce \u914d\u7f6e\u6587\u4ef6 vim $HADOOP_HOME/etc/hadoop/mapred-site.xml"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n\x3c!-- \u6307\u5b9a MapReduce \u7a0b\u5e8f\u8fd0\u884c\u5728 Yarn \u4e0a --\x3e\n <property>\n \t<name>mapreduce.framework.name</name>\n \t<value>yarn</value>\n </property>\n</configuration>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-workers",children:"\u914d\u7f6e workers"}),"\n",(0,r.jsx)(n.p,{children:"vim $HADOOP_HOME/etc/hadoop/workers"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u8be5\u6587\u4ef6\u4e2d\u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"hadoop102\nhadoop103\nhadoop104\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6ce8\u610f\uff1a\u8be5\u6587\u4ef6\u4e2d\u6dfb\u52a0\u7684\u5185\u5bb9\u7ed3\u5c3e\u4e0d\u5141\u8bb8\u6709\u7a7a\u683c\uff0c\u6587\u4ef6\u4e2d\u4e0d\u5141\u8bb8\u6709\u7a7a\u884c\u3002"})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e\u5386\u53f2\u670d\u52a1\u5668",children:"\u914d\u7f6e\u5386\u53f2\u670d\u52a1\u5668"}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u4e86\u67e5\u770b\u7a0b\u5e8f\u7684\u5386\u53f2\u8fd0\u884c\u60c5\u51b5\uff0c\u9700\u8981\u914d\u7f6e\u4e00\u4e0b\u5386\u53f2\u670d\u52a1\u5668\u3002\u5177\u4f53\u914d\u7f6e\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.h5,{id:"\u914d\u7f6e-mapred-sitexml-1",children:"\u914d\u7f6e mapred-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"vim $HADOOP_HOME/etc/hadoop/mapred-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u8be5\u6587\u4ef6\u91cc\u9762\u589e\u52a0\u5982\u4e0b\u914d\u7f6e:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"\x3c!-- \u5386\u53f2\u670d\u52a1\u5668\u7aef\u5730\u5740 --\x3e\n<property>\n <name>mapreduce.jobhistory.address</name>\n <value>hadoop102:10020</value>\n</property>\n\x3c!-- \u5386\u53f2\u670d\u52a1\u5668 web \u7aef\u5730\u5740 --\x3e\n<property>\n <name>mapreduce.jobhistory.webapp.address</name>\n <value>hadoop102:19888</value>\n</property>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u67e5\u770b JobHistory: ",(0,r.jsx)(n.a,{href:"http://hadoop102:19888/jobhistory",children:"http://hadoop102:19888/jobhistory"})]}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e\u65e5\u5fd7\u7684\u805a\u96c6",children:"\u914d\u7f6e\u65e5\u5fd7\u7684\u805a\u96c6"}),"\n",(0,r.jsx)(n.p,{children:"\u65e5\u5fd7\u805a\u96c6\u6982\u5ff5\uff1a\u5e94\u7528\u8fd0\u884c\u5b8c\u6210\u4ee5\u540e\uff0c\u5c06\u7a0b\u5e8f\u8fd0\u884c\u65e5\u5fd7\u4fe1\u606f\u4e0a\u4f20\u5230 HDFS \u7cfb\u7edf\u4e0a\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\u5f00\u542f\u65e5\u5fd7\u805a\u96c6\u529f\u80fd\uff0c\u9700\u8981\u91cd\u65b0\u542f\u52a8 NodeManager \u3001ResourceManager \u548c HistoryServer\u3002\u6b64\u5904\u5efa\u8bae\u76f4\u63a5\u91cd\u542f hdfs ,yarn"}),"\n",(0,r.jsx)(n.h5,{id:"\u914d\u7f6e-yarn-sitexml-1",children:"\u914d\u7f6e yarn-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"vim $HADOOP_HOME/etc/hadoop/yarn-site.xml"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u8be5\u6587\u4ef6\u91cc\u9762\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"\x3c!-- \u5f00\u542f\u65e5\u5fd7\u805a\u96c6\u529f\u80fd --\x3e\n<property>\n <name>yarn.log-aggregation-enable</name>\n <value>true</value>\n</property>\n\x3c!-- \u8bbe\u7f6e\u65e5\u5fd7\u805a\u96c6\u670d\u52a1\u5668\u5730\u5740 --\x3e\n<property>\n <name>yarn.log.server.url</name>\n <value>http://hadoop102:19888/jobhistory/logs</value>\n</property>\n\x3c!-- \u8bbe\u7f6e\u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4\u4e3a 7 \u5929 --\x3e\n<property>\n <name>yarn.log-aggregation.retain-seconds</name>\n <value>604800</value>\n</property>\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u96c6\u7fa4\u542f\u52a8\u505c\u6b62\u65b9\u5f0f",children:"\u96c6\u7fa4\u542f\u52a8/\u505c\u6b62\u65b9\u5f0f"}),"\n",(0,r.jsx)(n.p,{children:"\uff081\uff09\u5404\u4e2a\u6a21\u5757\u5206\u5f00\u542f\u52a8/\u505c\u6b62\uff08\u914d\u7f6e ssh \u662f\u524d\u63d0\uff09\u5e38\u7528"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"start-dfs.sh/stop-dfs.sh"})}),"\n",(0,r.jsx)(n.p,{children:"\uff082\uff09\u6574\u4f53\u542f\u52a8/\u505c\u6b62 YARN"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"start-yarn.sh/stop-yarn.sh"})}),"\n",(0,r.jsx)(n.p,{children:"\uff083\uff09\u5404\u4e2a\u670d\u52a1\u7ec4\u4ef6\u9010\u4e00\u542f\u52a8/\u505c\u6b62"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5206\u522b\u542f\u52a8/\u505c\u6b62 HDFS \u7ec4\u4ef6 ",(0,r.jsx)(n.code,{children:"hdfs --daemon start/stop namenode/datanode/secondarynamenode"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u542f\u52a8/\u505c\u6b62 YARN ",(0,r.jsx)(n.code,{children:"yarn --daemon start/stop resourcemanager/nodemanager"})]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"hadoop-\u96c6\u7fa4\u542f\u505c\u811a\u672c\u5305\u542b-hdfsyarnhistoryservermyhadoopsh",children:"Hadoop \u96c6\u7fa4\u542f\u505c\u811a\u672c\uff08\u5305\u542b HDFS\uff0cYarn\uff0cHistoryserver\uff09\uff1amyhadoop.sh"}),"\n",(0,r.jsx)(n.p,{children:"cd /home/admin/bin"}),"\n",(0,r.jsx)(n.p,{children:"vim myhadoop.sh"}),"\n",(0,r.jsx)(n.p,{children:"\u27a2 \u8f93\u5165\u5982\u4e0b\u5185\u5bb9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'#!/bin/bash\nif [ $# -lt 1 ]; then\n\techo "No Args Input..."\n\texit\nfi\ncase $1 in\n"start")\n\techo " =================== \u542f\u52a8 hadoop \u96c6\u7fa4 ==================="\n\techo " --------------- \u542f\u52a8 hdfs ---------------"\n\tssh hadoop102 "/opt/module/hadoop-3.1.3/sbin/start-dfs.sh"\n\techo " --------------- \u542f\u52a8 yarn ---------------"\n\tssh hadoop103 "/opt/module/hadoop-3.1.3/sbin/start-yarn.sh"\n\techo " --------------- \u542f\u52a8 historyserver ---------------"\n\tssh hadoop102 "/opt/module/hadoop-3.1.3/bin/mapred --daemon start\nhistoryserver"\n\t;;\n"stop")\n\techo " =================== \u5173\u95ed hadoop \u96c6\u7fa4 ==================="\n\techo " --------------- \u5173\u95ed historyserver ---------------"\n\tssh hadoop102 "/opt/module/hadoop-3.1.3/bin/mapred --daemon stop\nhistoryserver"\n\techo " --------------- \u5173\u95ed yarn ---------------"\n\tssh hadoop103 "/opt/module/hadoop-3.1.3/sbin/stop-yarn.sh"\n\techo " --------------- \u5173\u95ed hdfs ---------------"\n\tssh hadoop102 "/opt/module/hadoop-3.1.3/sbin/stop-dfs.sh"\n\t;;\n*)\n\techo "Input Args Error..."\n\t;;\nesac\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610fhadoop\u7248\u672c\uff0c\u8def\u5f84\u786e\u8ba4\u4e00\u81f4"}),"\n",(0,r.jsxs)(n.p,{children:["\u8d4b\u4e88\u811a\u672c\u6267\u884c\u6743\u9650 ",(0,r.jsx)(n.code,{children:"chmod +x myhadoop.sh"})]}),"\n",(0,r.jsx)(n.h4,{id:"\u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668-java-\u8fdb\u7a0b\u811a\u672cjpsall",children:"\u67e5\u770b\u4e09\u53f0\u670d\u52a1\u5668 Java \u8fdb\u7a0b\u811a\u672c\uff1ajpsall"}),"\n",(0,r.jsx)(n.p,{children:"cd /home/admin/bin"}),"\n",(0,r.jsx)(n.p,{children:"vim jpsall"}),"\n",(0,r.jsx)(n.p,{children:"\u27a2 \u8f93\u5165\u5982\u4e0b\u5185\u5bb9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"#!/bin/bash\nfor host in hadoop102 hadoop103 hadoop104\ndo\n echo =============== $host ===============\n ssh $host jps\ndone\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8d4b\u4e88\u811a\u672c\u6267\u884c\u6743\u9650 ",(0,r.jsx)(n.code,{children:"chmod +x jpsall"})]}),"\n",(0,r.jsx)(n.h4,{id:"\u5206\u53d1\u5185\u5bb9\u5230\u5176\u5b83\u4e3b\u673a",children:"\u5206\u53d1\u5185\u5bb9\u5230\u5176\u5b83\u4e3b\u673a"}),"\n",(0,r.jsx)(n.p,{children:"\u524d\u9762\u5df2\u7ecf\u5c06 jdk \u5206\u53d1\u4e86\uff0c\u6b64\u5904\u53ea\u9700\u8981\u5206\u53d1 hadoop my_env.sh \u5373\u53ef"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u5206\u53d1/home/admin/bin \u76ee\u5f55\uff0c\u4fdd\u8bc1\u81ea\u5b9a\u4e49\u811a\u672c\u5728\u4e09\u53f0\u673a\u5668\u4e0a\u90fd\u53ef\u4ee5\u4f7f\u7528\nxsync /home/admin/bin/\n# hadoop\nxsync /opt/module/hadoop-3.1.3/\n# my_env.sh\nxsync /etc/profile.d/my_env.sh\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u542f\u52a8\u96c6\u7fa4\u6d4b\u8bd5",children:"\u542f\u52a8\u96c6\u7fa4\u6d4b\u8bd5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u542f\u52a8\nmyhadoop.sh start\n# jps\njpsall\n"})}),"\n",(0,r.jsx)(n.h2,{id:"hive-\u642d\u5efa",children:"Hive \u642d\u5efa"}),"\n",(0,r.jsx)(n.p,{children:"hive \u7684\u5143\u7d20\u636e\u9009\u62e9\u5b58\u50a8\u5728mysql\u4e2d\uff0c\u56e0\u6b64\u9700\u8981\u5b89\u88c5 mysql"}),"\n",(0,r.jsx)(n.h4,{id:"hive-\u5305\u51c6\u5907",children:"hive \u5305\u51c6\u5907"}),"\n",(0,r.jsx)(n.p,{children:"apache-hive-3.0.0-bin.tar.gz (\u4ece\u786c\u76d8\u4e2d\u83b7\u53d6\u8be5\u6587\u4ef6\uff0c\u4e0a\u4f20\u5230 hadoop102/opt/software/\u76ee\u5f55\u4e0b)"}),"\n",(0,r.jsx)(n.p,{children:"\u89e3\u538b\u5230 /opt/module/ \u76ee\u5f55\u4e0b\uff0c\u91cd\u547d\u540d\u4e3a hive-3.0.0"}),"\n",(0,r.jsx)(n.h4,{id:"mysql\u5b89\u88c5",children:"MySQL\u5b89\u88c5"}),"\n",(0,r.jsxs)(n.p,{children:["\u53c2\u8003\u6587\u7ae0\uff1a",(0,r.jsx)(n.a,{href:"https://hello-github-ui.github.io/posts/8567/",children:"https://hello-github-ui.github.io/posts/8567/"})]}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6ehive\u6587\u4ef6",children:"\u914d\u7f6ehive\u6587\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:"\u4fee\u6539/opt/module/hive-3.0.0/conf/hive-env.sh"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"cp hive-env.sh.template hive-env.sh"})}),"\n",(0,r.jsx)(n.p,{children:"\u589e\u52a0\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"export HADOOP_HOME=/opt/module/hadoop-3.1.3\nexport HIVE_CONF_DIR=/opt/module/hive-3.0.0/conf\nexport HIVE_AUX_JARS_PATH=/opt/module/hive-3.0.0/lib\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6ehive-sitexml\u6587\u4ef6",children:"\u914d\u7f6ehive-site.xml\u6587\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:"\u76f4\u63a5\u65b0\u5efa hive-site.xml \u6587\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:"vim hive-site.xml"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>\n<configuration>\n        \x3c!--\u4e0d\u4f7f\u7528\u672c\u5730\u6570\u636e\u5e93 --\x3e\n        <property>\n                <name>hive.metastore.local</name>\n                <value>false</value>\n        </property>\n\n        \x3c!--Default\u6570\u636e\u4ed3\u5e93\u539f\u59cb\u4f4d\u7f6e\u662f\u5728hdfs\u4e0a\uff1a/user/hive/warehouse\u8def\u5f84\u4e0b--\x3e\n        <property>\n                <name>hive.metastore.warehouse.dir</name>\n                <value>/hive/warehouse</value>\n                \x3c!--\u5148\u5728HDFS\u521b\u5efa\u76ee\u5f55--\x3e\n                <description>location of default database for the warehouse</description>\n        </property>\n\n        \x3c!--Hive\u7528\u6765\u5b58\u50a8\u4e0d\u540c\u9636\u6bb5\u7684MapReduce\u7684\u6267\u884c\u8ba1\u5212\u7684\u76ee\u5f55\uff0c\u540c\u65f6\u4e5f\u5b58\u50a8\u4e2d\u95f4\u8f93\u51fa\u7ed3\u679c--\x3e\n        <property>\n                <name>hive.exec.scratchdir</name>\n                <value>/tmp/hive</value>\n                \x3c!--\u5148\u5728HDFS\u521b\u5efa\u76ee\u5f55--\x3e\n        </property>\n\n        <property>\n                <name>hive.scratch.dir.permission</name>\n                <value>777</value>\n                <description>The permission for the user specific scratch directories that get created.</description>\n        </property>\n\n        \x3c!--\u5f53Hive\u8fd0\u884c\u5728\u672c\u5730\u6a21\u5f0f\u65f6\u914d\u7f6e--\x3e\n        <property>\n                <name>hive.exec.local.scratchdir</name>\n                <value>/opt/module/hive-3.0.0/tmp/hive/root</value>\n                \x3c!--\u5148\u5728\u672c\u5730\u521b\u5efa\u76ee\u5f55--\x3e\n                <description>Local scratch space for Hive jobs</description>\n        </property>\n\n        \x3c!--\u8fdc\u7a0b\u8d44\u6e90\u4e0b\u8f7d\u7684\u4e34\u65f6\u76ee\u5f55--\x3e\n        <property>\n                <name>hive.downloaded.resources.dir</name>\n                <value>/opt/module/hive-3.0.0/tmp/resources</value>\n                \x3c!--\u5148\u5728\u672c\u5730\u521b\u5efa\u76ee\u5f55--\x3e\n                <description>Temporary local directory for added resources in the remote file system.</description>\n        </property>\n\n        \x3c!--\u914d\u7f6eMetastore\u5230MySql--\x3e\n        <property>\n                <name>javax.jdo.option.ConnectionURL</name>\n                <value>jdbc:mysql://localhost:3306/metastore?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</value>\n                \x3c!--XML\u9700\u8981\u8f6c\u4e49\uff0c&\u8f6c\u4e49\u4e3a&amp;--\x3e\n                <description>JDBC connect string for a JDBC metastore</description>\n        </property>\n\n        <property>\n                <name>javax.jdo.option.ConnectionDriverName</name>\n                <value>com.mysql.cj.jdbc.Driver</value>\n                <description>Driver class name for a JDBC metastore</description>\n        </property>\n\n        <property>\n                <name>javax.jdo.option.ConnectionUserName</name>\n                <value>root</value>\n                <description>username to use against metastore database</description>\n        </property>\n\n        <property>\n                <name>javax.jdo.option.ConnectionPassword</name>\n                <value>123456</value>\n                <description>password to use against metastore database</description>\n        </property>\n\n        \x3c!--\u67e5\u8be2\u540e\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\uff0c\u4ee5\u53ca\u67e5\u8be2\u8868\u7684\u5934\u4fe1\u606f\u914d\u7f6e--\x3e\n        <property>\n                <name>hive.cli.print.header</name>\n                <value>true</value>\n        </property>\n\n        <property>\n                <name>hive.cli.print.current.db</name>\n                <value>true</value>\n        </property>\n\n        <property>\n                <name>hive.metastore.schema.verification</name>\n                <value>false</value>\n        </property>\n\n        \x3c!--metastore\u7684\u7aef\u53e3--\x3e\n        <property>\n                <name>hive.metastore.uris</name>\n                <value>thrift://hadoop102:9083</value>\n        </property>\n\n</configuration>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"hive\u8fde\u63a5mysql\u9a71\u52a8\u8fde\u63a5\u5305",children:"hive\u8fde\u63a5MySQL\u9a71\u52a8\u8fde\u63a5\u5305"}),"\n",(0,r.jsx)(n.p,{children:"\u62f7\u8d1d mysql-connector-java-8.0.26.jar \u5305 \uff0c\u5c06\u5176\u653e\u5230 /opt/module/hive-3.0.0/lib \u76ee\u5f55\u4e0b\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u786c\u76d8\u4e0amysql\u76ee\u5f55\u4e0b\u5e94\u8be5\u6709\u8fd9\u4e2a connector \u5305"}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e-hive-\u65e5\u5fd7",children:"\u914d\u7f6e hive \u65e5\u5fd7"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mv hive-log4j2.properties.template hive-log4j2.properties\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5728 /opt/module/hive-3.0.0/ \u65b0\u5efa\u76ee\u5f55 log\uff0c\u7528\u4e8e\u5b58\u653e hive \u65e5\u5fd7"}),"\n",(0,r.jsx)(n.p,{children:"\u4fee\u6539 hive-log4j2.properties \u914d\u7f6e\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u627e\u5230\u6539\u884c\u5185\u5bb9\uff0c\u5c06\u5176\u4fee\u6539\u4e3a\u5982\u4e0b\nproperty.hive.log.dir = /opt/module/hive-3.0.0/log\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u65b0\u5efahive\u4ed3\u5e93\u76ee\u5f55",children:"\u65b0\u5efahive\u4ed3\u5e93\u76ee\u5f55"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"hdfs dfs -mkdir -p /hive/warehouse\nhdfs dfs -mkdir -p /tmp/hive\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf",children:"\u914d\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# vim /etc/profile.d/my_env.sh\n#JAVA_HOME\nexport JAVA_HOME=/opt/module/jdk1.8.0_311\nexport PATH=$PATH:$JAVA_HOME/bin\n\n#HADOOP_HOME\nexport HADOOP_HOME=/opt/module/hadoop-3.1.3\nexport PATH=$PATH:$HADOOP_HOME/bin\nexport PATH=$PATH:$HADOOP_HOME/sbin\n\n#HIVE_HOME\nexport HIVE_HOME=/opt/module/hive-3.0.0\nexport PATH=$PATH:$HIVE_HOME/bin\n\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\nexport HADOOP_OPTS=-Djava.library.path=$HADOOP_HOME/lib\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u5143\u6570\u636e\u5e93\u521d\u59cb\u5316",children:"\u5143\u6570\u636e\u5e93\u521d\u59cb\u5316"}),"\n",(0,r.jsx)(n.p,{children:"\u8fdb\u5165\u76ee\u5f55 /opt/module/hive-3.0.0/bin"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"schematool -dbType mysql -initSchema\n"})}),"\n",(0,r.jsx)(n.h4,{id:"\u542f\u52a8hive",children:"\u542f\u52a8hive"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\u542f\u52a8hive\u524d\uff0c\u4e00\u5b9a\u8981\u5148\u542f\u52a8 metastore \u6216\u8005 hiveserver2\nSpark Thrift Server \u662f Spark \u793e\u533a\u57fa\u4e8e HiveServer2 \u5b9e\u73b0\u7684\u4e00\u4e2a Thrift \u670d\u52a1\u3002\u65e8\u5728\u65e0\u7f1d\u517c\u5bb9HiveServer2\u3002\u56e0\u4e3a Spark Thrift Server \u7684\u63a5\u53e3\u548c\u534f\u8bae\u90fd\u548c HiveServer2 \u5b8c\u5168\u4e00\u81f4\uff0c\u56e0\u6b64\u6211\u4eec\u90e8\n\u7f72\u597d Spark Thrift Server \u540e\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 hive \u7684 beeline \u8bbf\u95ee Spark Thrift Server \u6267\u884c\u76f8\u5173\u8bed\u53e5\u3002Spark Thrift Server \u7684\u76ee\u7684\u4e5f\u53ea\u662f\u53d6\u4ee3 HiveServer2\uff0c\u56e0\u6b64\u5b83\u4f9d\u65e7\u53ef\u4ee5\u548c Hive Metastore\n\u8fdb\u884c\u4ea4\u4e92\uff0c\u83b7\u53d6\u5230 hive \u7684\u5143\u6570\u636e\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u5904\u901a\u8fc7 Thrift \u670d\u52a1\u6765\u542f\u52a8 \u5ba2\u6237\u7aef\u914d\u7f6e\uff1a",(0,r.jsx)(n.code,{children:"sh /opt/module/spark-yarn/sbin/start-thriftserver.sh"}),"\n\u4f7f\u7528 beeline \u8fde\u63a5 Thrift Server: ",(0,r.jsx)(n.code,{children:"bin/beeline -u jdbc:hive2://hadoop102:10000 -n admin"})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u542f\u52a8 metasotre\uff0c\u8fdb\u5165hive\u7684bin\u76ee\u5f55 : ",(0,r.jsx)(n.code,{children:"./hive --service metastore &"}),"\uff0c\u7136\u540e\u518d\u542f\u52a8hive: ",(0,r.jsx)(n.code,{children:"hive"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"spark-\u642d\u5efa",children:"Spark \u642d\u5efa"}),"\n",(0,r.jsx)(n.p,{children:"spark-3.0.0-bin-hadoop3.2.tgz \u51c6\u5907\uff0c\u4ece\u786c\u76d8\u4e0a\u83b7\u53d6"}),"\n",(0,r.jsx)(n.p,{children:"\u4e0a\u4f20\u5230 hadoop102  /opt/software/ \u4e0a\uff0c\u89e3\u538b\u7f29\u5230 /opt/module/ \u4e0b"}),"\n",(0,r.jsx)(n.p,{children:"\u91cd\u547d\u540d\u4e3a mv spark-3.0.0-bin-hadoop3.2 spark-yarn"}),"\n",(0,r.jsx)(n.p,{children:"\u7f16\u8f91\u6587\u4ef6 vim /opt/module/spark-yarn/conf/spark-env.sh \u6587\u672b\u589e\u52a0\u5982\u4e0b\u5185\u5bb9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'export JAVA_HOME=/opt/module/jdk1.8.0_311\nYARN_CONF_DIR=/opt/module/hadoop-3.1.3/etc/hadoop\n\nexport SPARK_HISTORY_OPTS="\n -Dspark.history.ui.port=18080\n -Dspark.history.fs.logDirectory=hdfs://hadoop102:8020/directory\n -Dspark.history.retainedApplications=30\n'})}),"\n",(0,r.jsx)(n.h4,{id:"spark\u8fde\u63a5\u5916\u7f6ehive",children:"Spark\u8fde\u63a5\u5916\u7f6ehive"}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u5e38\u6765\u8bf4\u5982\u679c\u4f60\u4e0b\u8f7d\u7684\u662f\u4e8c\u8fdb\u5236\u7248\u672c\u7684Spark\uff0c\u5b83\u5e94\u8be5\u5df2\u7ecf\u5728\u7f16\u8bd1\u65f6\u6dfb\u52a0\u4e86hive\u652f\u6301"}),"\n",(0,r.jsx)(n.p,{children:"\u82e5\u8981\u628a Spark SQL\u8fde\u63a5\u5230\u4e00\u4e2a\u90e8\u7f72\u597d\u7684hive\u4e0a\uff0c\u4f60\u5fc5\u987b\u628a hive-site.xml \u590d\u5236\u5230 Spark\u7684\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e2d\uff0c\u5373\u4f7f\u6ca1\u6709\u90e8\u7f72\u597d hive\uff0cSpark SQL \u4e5f\u53ef\u4ee5\u8fd0\u884c\u3002\u56e0\u4e3a\u5b9e\u9645\u4e2d\u8fd9\u79cd\u65b9\u5f0f\u6bd4\u8f83\u5c11\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u4e3b\u8981\u6765\u8bb2 \u8fde\u63a5 \u5916\u7f6ehive"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c\u60f3\u8fde\u63a5\u5916\u90e8\u5df2\u7ecf\u90e8\u7f72\u597d\u7684 Hive\uff0c\u9700\u8981\u901a\u8fc7\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a"}),"\n",(0,r.jsxs)(n.p,{children:["\u27a2 Spark \u8981\u63a5\u7ba1 Hive \u9700\u8981\u628a ",(0,r.jsx)(n.code,{children:"/opt/module/hive-3.0.0/conf/hive-site.xml"})," \u62f7\u8d1d\u5230 ",(0,r.jsx)(n.code,{children:"/opt/module/spark-yarn/conf/"})," \u76ee\u5f55\u4e0b"]}),"\n",(0,r.jsxs)(n.p,{children:["\u27a2 \u628a Mysql \u7684\u9a71\u52a8 copy \u5230 ",(0,r.jsx)(n.code,{children:"/opt/module/spark-yarn/jars/"}),"\u76ee\u5f55\u4e0b"]}),"\n",(0,r.jsxs)(n.p,{children:["\u27a2 \u5982\u679c\u8bbf\u95ee\u4e0d\u5230 hdfs\uff0c\u5219\u9700\u8981\u628a ",(0,r.jsx)(n.code,{children:"/opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml"})," \u548c ",(0,r.jsx)(n.code,{children:"/opt/module/hadoop-3.1.3/etc/hadoop/hdfs-site.xml"})," \u62f7\u8d1d\u5230 conf/\u76ee\u5f55\u4e0b"]}),"\n",(0,r.jsx)(n.p,{children:"\u27a2 \u91cd\u542f spark-shell"})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>d,x:()=>a});var s=o(6540);const r={},l=s.createContext(r);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);