---
id: 04-浅复制(拷贝)
title: 04-浅复制(拷贝)
tags: [Python]
---

```python
# 浅拷贝：数据半共享，复制数据会独立存放，但是只拷贝成功到原数据的第一层，
# 也就是拷贝后的第二层数据会随原数据的改变而改变
```


```python
import copy
a = [1, 3, 4, 56, 0, [-1, -2, -3]]
b = copy.copy(a)
print(a, id(a))
print(b, id(b))

# 改变第一层数据
print('改变第一层数据')
a[0] = 0 # 改变第一层数据后，复制后的数据不会发生同步变化
print(a, id(a))
print(b, id(b))

# 改变第二层数据
print('改变第二层数据')
a[5][0] = 0 # 改变第二层中的数据，可以看到复制后的数据也发生了同步变化
print(a, id(a))
print(b, id(b))
```

```
    [1, 3, 4, 56, 0, [-1, -2, -3]] 2392133368960
    [1, 3, 4, 56, 0, [-1, -2, -3]] 2392133464960
    改变第一层数据
    [0, 3, 4, 56, 0, [-1, -2, -3]] 2392133368960
    [1, 3, 4, 56, 0, [-1, -2, -3]] 2392133464960
    改变第二层数据
    [0, 3, 4, 56, 0, [0, -2, -3]] 2392133368960
    [1, 3, 4, 56, 0, [0, -2, -3]] 2392133464960
    
```


```python
# 如果是下面这样改变，你其实修改的还是第一层，复制后的数据也不会发生改变
import copy
a = [1, 3, 4, 56, 0, [-1, -2, -3]]
b = copy.copy(a)
print(a, id(a))
print(b, id(b))
a[5] = ['a', 'b'] # 这里其实修改的还是第一层
print(a, id(a))
print(b, id(b))
```
```

    [1, 3, 4, 56, 0, [-1, -2, -3]] 2392133464960
    [1, 3, 4, 56, 0, [-1, -2, -3]] 2392133464896
    [1, 3, 4, 56, 0, ['a', 'b']] 2392133464960
    [1, 3, 4, 56, 0, [-1, -2, -3]] 2392133464896
    
```


```python
# 总结：
# 深拷贝：完全复制，原数据发生任何变化，深复制后的数据都不会有影响。--日常备份
# 浅拷贝：半复制，当原数据中的第二层数据（嵌套数据）发生变化后，浅复制后的数据也随之变化
# 浅拷贝的应用场景：比如在文档中插入一个链接
```
