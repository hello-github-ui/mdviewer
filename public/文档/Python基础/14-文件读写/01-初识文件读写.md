在 Python 中，文件读写是基础但非常重要的操作。让我们系统地梳理一下核心概念和方法，并配上示例。

## 📝 核心概念

1. 文件模式

打开文件时需要指定模式：
   * `"r"`：只读模式（默认）。
   * `"w"`：写入模式（会清空原文件）。
   * `"a"`：追加模式（在文件末尾追加内容）。
   * `"b"`：二进制模式（如 `"rb"`、`"wb"` ）。
   * `"x"`：独占创建模式（文件存在会报错）。
   * `"+"`：读写模式（如 `"r+"` 、 `"w+"` ）。

2. 文件指针（File Pointer）文件操作是基于文件指针进行的，文件指针表示当前读/写的位置。
3. 编码（Encoding）对文本文件要指定编码（如 `utf-8`），防止乱码。

## 🛠️ 核心方法

1. `open()` 和 `close()`

   * `open(filename, mode, encoding)`：打开文件。

   * `close()`：关闭文件，释放资源。
2. `with` 语句（推荐使用）
- 自动管理文件的打开和关闭，防止忘记关闭。
3. `read()`、`readline()`、`reeadlines()`
   * `read(size)`：读取指定大小的数据，省略或 `-1` 表示读取整个文件。
   * `readline()`： 按行读取，返回单行字符串。
   * `readlines()`：读取所有行，返回行组成的列表。
4. `write()`、`writelines()`
   * `write(string)`：将字符串写入文件。
   * `writelines(lines)`：将字符串列表写入文件。
5. `tell()`返回文件指针当前位置（字节）。
6. `seek(offset, whence)` 移动文件指针：
   * `offset`：偏移量（正向前，负向后）。
   * `whence`：
     * `0`：文件开头（默认）。
     * `1`：当前位置。
     * `2`：文件末尾。

## 🧑‍💻 示例代码

```python
# 写入文件示例
with open("example.txt", "w", encoding="utf-8") as f:
    f.write("hello python\n")
    f.write("这是一行中文\n")

# 读取文件示例
with open("example.txt", "r", encoding="utf-8") as f:
    content = f.read()  # 一次性读取整个文件内容
    print(content)

# tell 和 seek 示例
with open("example.txt", "r", encoding="utf-8") as f:
    print(f.readline())  # 读取第一行
    print(f.tell())  # 获取一下当前文件对象的文件指针位置
    f.seek(0)  # 再强制让文件指针移动到文件开头的位置
    print(f.readline())  # 再次读取第一行

# 按行读取并追加写入
with open("example.txt", "a+", encoding="utf-8") as f:
    f.write("追加一行内容\n")
    f.seek(0)  # 将指针移动到开头，以此来读取所有内容
    lines = f.readlines()  # 一次性读取所有行内容（直到结束符EOF），返回一个list列表
    print(lines)
```

输出示例：

```makefile
hello python
这是一行中文

hello python

14
hello python

['hello python\n', '这是一行中文\n', '追加一行内容\n']
```

**🌟 小技巧 & 注意事项**

* 用 `with` 语句管理文件更安全：即使出现异常也会自动关闭文件。
* **文本文件和二进制文件操作不同**：文本用 `r`、`w`；二进制用 `rb`、`wb`。
* `seek(0, 2)` 快速跳到文件末尾；`seek(0)` 回到开头。
* **写中文要加** `encoding="utf-8"`，防止跨平台乱码。

