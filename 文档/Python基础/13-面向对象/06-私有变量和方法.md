åœ¨ Python ä¸­ï¼Œ**ç±»çš„å±æ€§å’Œæ–¹æ³•é»˜è®¤æ˜¯å…¬æœ‰çš„ï¼ˆpublicï¼‰**ï¼Œä½†å¯ä»¥é€šè¿‡ **ç§æœ‰ï¼ˆprivateï¼‰** æœºåˆ¶ **é™åˆ¶å¤–éƒ¨è®¿é—®**ã€‚

è™½ç„¶ Python **æ²¡æœ‰çœŸæ­£çš„ç§æœ‰å˜é‡**ï¼Œä½†å¯ä»¥ä½¿ç”¨ `åŒä¸‹åˆ’çº¿__` å‰ç¼€æ¥ **æ¨¡æ‹Ÿç§æœ‰**ï¼Œè®©å˜é‡æˆ–æ–¹æ³• **ä¸èƒ½ç›´æ¥è¢«å¤–éƒ¨è®¿é—®**ã€‚

## 1.ç§æœ‰å˜é‡ï¼ˆPrivate Variablesï¼‰

- å®šä¹‰ç§æœ‰å˜é‡

åœ¨ Python ç±»ä¸­ï¼š

- `self.å˜é‡å` æ˜¯ **å…¬æœ‰ï¼ˆpublicï¼‰çš„**ï¼Œå¤–éƒ¨å¯ä»¥è®¿é—®ã€‚
- `self._å˜é‡å` ä»…æ˜¯ **çº¦å®šä¿—æˆçš„ä¿æŠ¤å˜é‡ï¼ˆprotectedï¼‰**ï¼Œä»ç„¶å¯ä»¥è®¿é—®ï¼Œä½†ä¸å»ºè®®å¤–éƒ¨ç›´æ¥è®¿é—®ã€‚
- `self.__å˜é‡å` æ˜¯ **ç§æœ‰å˜é‡ï¼ˆprivateï¼‰**ï¼Œ**ä¸èƒ½** ç›´æ¥è¢«å¤–éƒ¨è®¿é—®ã€‚

ğŸ”¸ ç¤ºä¾‹

```python
class Person:
    def __init__(self, name, age):
        self.name = name          # å…¬æœ‰å˜é‡
        self._nickname = "æ— å"    # å—ä¿æŠ¤å˜é‡ï¼ˆå»ºè®®å†…éƒ¨ä½¿ç”¨ï¼‰
        self.__age = age          # ç§æœ‰å˜é‡

    def show_info(self):
        return f"å§“å: {self.name}, å¹´é¾„: {self.__age}"

p = Person("Alice", 25)

print(p.name)      # âœ… å¯ä»¥è®¿é—®å…¬æœ‰å˜é‡
print(p.show_info())  # âœ… è®¿é—®ç§æœ‰å˜é‡çš„æ–¹æ³•

print(p.__age)     # âŒ AttributeError: 'Person' object has no attribute '__age'
```

è¾“å‡ºï¼š

```bash
Alice
å§“åï¼šAliceï¼Œå¹´é¾„ï¼š25
Traceback (most recent call last):
  File "C:\Users\EDY\code\python-tutorial\åŒ…\__init__.py", line 16, in <module>
    print(p.__age)
          ^^^^^^^
AttributeError: 'Person' object has no attribute '__age'
```

## 2.ç§æœ‰æ–¹æ³•ï¼ˆPrivate Methodsï¼‰

ğŸ”¹ å®šä¹‰ç§æœ‰æ–¹æ³•

- `def æ–¹æ³•å(self):` å®šä¹‰**å…¬æœ‰æ–¹æ³•**ï¼Œå¯ä»¥è¢«å¤–éƒ¨è°ƒç”¨ã€‚
- `def _æ–¹æ³•å(self):` å®šä¹‰ **å—ä¿æŠ¤æ–¹æ³•**ï¼Œçº¦å®š **åªèƒ½åœ¨ç±»æˆ–å­ç±»ä¸­ä½¿ç”¨**ã€‚
- `def __æ–¹æ³•å(self):` å®šä¹‰ **ç§æœ‰æ–¹æ³•**ï¼Œ**ä¸èƒ½è¢«å¤–éƒ¨ç›´æ¥è°ƒç”¨**ã€‚

ğŸ”¸ ç¤ºä¾‹

```python
class Car:
    def __init__(self, brand):
        self.brand = brand

    def start(self):
        self.__engine_check()  # åœ¨å†…éƒ¨è°ƒç”¨ç§æœ‰æ–¹æ³•
        print(f"{self.brand} å¯åŠ¨")

    def __engine_check(self):  # ç§æœ‰æ–¹æ³•
        print("å‘åŠ¨æœºæ£€æµ‹å®Œæˆ")


car = Car("Tesla")
car.start()  # âœ… é€šè¿‡å…¬æœ‰æ–¹æ³• start() é—´æ¥è°ƒç”¨ç§æœ‰æ–¹æ³•

car.__engine_check()  # âŒ AttributeError: 'Car' object has no attribute '__engine_check'
```

**ğŸ”¹ è¯´æ˜ï¼š**

- `start()` æ˜¯**å…¬æœ‰æ–¹æ³•**ï¼Œå¯ä»¥å¤–éƒ¨è°ƒç”¨ã€‚
- `__engine_check()` æ˜¯**ç§æœ‰æ–¹æ³•**ï¼Œä¸èƒ½å¤–éƒ¨è°ƒç”¨ï¼Œä½†å¯ä»¥åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ã€‚

## 3.ç§æœ‰å˜é‡å’Œæ–¹æ³•çš„è®¿é—®æ–¹å¼

è™½ç„¶ Python **ä¸å…è®¸ç›´æ¥è®¿é—®ç§æœ‰å±æ€§å’Œæ–¹æ³•**ï¼Œä½†ä»ç„¶å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼è®¿é—®ï¼š

**ï¼ˆ1ï¼‰æä¾›å…¬æœ‰æ–¹æ³•ï¼ˆæ¨èåšæ³•ï¼‰**

**ï¼ˆ2ï¼‰ä½¿ç”¨ Python çš„åç§°é‡æ•´ï¼ˆName Manglingï¼‰æœºåˆ¶**

ğŸ”¹ **æ–¹å¼ 1ï¼šé€šè¿‡å…¬æœ‰æ–¹æ³•è®¿é—®ç§æœ‰å˜é‡**

```python
class BankAccount:
    def __init__(self, balance):
        self.__balance = balance  # ç§æœ‰å˜é‡

    def get_balance(self):  # é€šè¿‡å…¬æœ‰æ–¹æ³•è®¿é—®
        return self.__balance

account = BankAccount(1000)
print(account.get_balance())  # âœ… 1000
```

**âœ… æ¨èæ–¹å¼ï¼š**

- **æä¾›å…¬æœ‰æ–¹æ³•** `get_balance()` æ¥è®¿é—® `__balance`ï¼Œä¿è¯æ•°æ®å°è£…æ€§ã€‚

ğŸ”¹ **æ–¹å¼ 2ï¼šä½¿ç”¨ Name Mangling è®¿é—®ç§æœ‰å˜é‡**

Python **ä¸ä¼šçœŸæ­£éšè—ç§æœ‰å˜é‡**ï¼Œè€Œæ˜¯**ä¿®æ”¹å˜é‡åç§°**ï¼Œå³ï¼š

`__å˜é‡å` â†’ `_ç±»å__å˜é‡å`

```python
class Person:
    def __init__(self, name, age):
        self.__age = age  # ç§æœ‰å˜é‡

p = Person("Alice", 25)
print(p._Person__age)  # âœ… è®¿é—®ç§æœ‰å˜é‡ï¼ˆä¸æ¨èï¼‰
```

**âŒ ä¸æ¨èï¼š**

- è®¿é—® `p._Person__age` ç ´åäº†å°è£…æ€§ï¼Œå®¹æ˜“å‡ºé”™ï¼Œä¸å»ºè®®è¿™æ ·åšã€‚

## 4.ç§æœ‰å˜é‡å’Œç»§æ‰¿

ç§æœ‰å˜é‡ `__å˜é‡å` **ä¸èƒ½è¢«å­ç±»ç›´æ¥è®¿é—®**ï¼Œä½† **å—ä¿æŠ¤å˜é‡** `_å˜é‡å` å¯ä»¥è¢«å­ç±»è®¿é—®ã€‚

```python
class Parent:
    def __init__(self):
        self._protected = "å—ä¿æŠ¤å˜é‡"
        self.__private = "ç§æœ‰å˜é‡"

class Child(Parent):
    def show(self):
        print(self._protected)  # âœ… å¯ä»¥è®¿é—®å—ä¿æŠ¤å˜é‡
        print(self.__private)   # âŒ AttributeError

c = Child()
c.show()
```

**ğŸ”¹ è¯´æ˜ï¼š**

- `_protected` **å¯ä»¥**åœ¨å­ç±»ä¸­è®¿é—®ã€‚
- `__private` **ä¸èƒ½**åœ¨å­ç±»ä¸­è®¿é—®ã€‚

## 5.ä½¿ç”¨ `property` ä¿æŠ¤ç§æœ‰å˜é‡ï¼ˆå°è£…ï¼‰

Python æä¾› `@property` **è£…é¥°å™¨**ï¼Œå¯ä»¥ç”¨äº `ä¿æŠ¤ç§æœ‰å˜é‡`ï¼Œä½† **å…è®¸å¤–éƒ¨è¯»å–å’Œä¿®æ”¹**ï¼Œç±»ä¼¼äº Java çš„ `getter` å’Œ `setter` æ–¹æ³•ã€‚

```python
class Student:
    def __init__(self, name, score):
        self.name = name
        self.__score = score  # ç§æœ‰å˜é‡

    @property
    def score(self):  # è¯»å–ç§æœ‰å˜é‡
        return self.__score

    @score.setter
    def score(self, value):  # ä¿®æ”¹ç§æœ‰å˜é‡
        if 0 <= value <= 100:
            self.__score = value
        else:
            raise ValueError("åˆ†æ•°å¿…é¡»åœ¨ 0-100 ä¹‹é—´")

s = Student("å°æ˜", 85)
print(s.score)  # âœ… 85
s.score = 95    # âœ… ä¿®æ”¹åˆ†æ•°
print(s.score)  # âœ… 95
s.score = 200   # âŒ æŠ›å‡ºå¼‚å¸¸
```

**ğŸ”¹ è¯´æ˜ï¼š**

- `@property` ä½¿ `score` æ–¹æ³•**å˜æˆå±æ€§**ï¼Œå…è®¸ `s.score` ç›´æ¥è®¿é—® `__score`ã€‚
- `@score.setter` **é™åˆ¶ä¿®æ”¹èŒƒå›´**ï¼Œç¡®ä¿ `score` åªèƒ½åœ¨ `0~100` ä¹‹é—´ã€‚

## 6.ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç§æœ‰å˜é‡å’Œæ–¹æ³•ï¼Ÿ

âœ… **åº”è¯¥ä½¿ç”¨ç§æœ‰å˜é‡å’Œæ–¹æ³•çš„æƒ…å†µ**

1. ä¸å¸Œæœ›å¤–éƒ¨ç›´æ¥ä¿®æ”¹æŸäº›å˜é‡ï¼Œä¾‹å¦‚ **é“¶è¡Œè´¦æˆ·ä½™é¢**
2. é˜²æ­¢å­ç±»è¯¯ä¿®æ”¹çˆ¶ç±»çš„é‡è¦å˜é‡ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚
3. éšè—å®ç°ç»†èŠ‚ï¼Œåªæä¾›å¿…è¦çš„æ¥å£ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚

âŒ **ä¸æ¨èæ»¥ç”¨ç§æœ‰å˜é‡**

- Python æ²¡æœ‰çœŸæ­£çš„ç§æœ‰å˜é‡ï¼Œä½¿ç”¨ `__` åªæ˜¯ **å¼±å°è£…**ï¼Œå¹¶ä¸å½±å“è®¿é—®ã€‚
- è¿‡åº¦å°è£…ä¼šé™ä½ä»£ç å¯ç»´æŠ¤æ€§ï¼Œé€šå¸¸ `_protected` å˜é‡å·²ç»è¶³å¤Ÿã€‚

## æ€»ç»“

| ç±»å‹           | å‘½åæ–¹å¼              | è®¿é—®æƒé™                                  | å»ºè®®ä½¿ç”¨åœºæ™¯         |
| -------------- | --------------------- | ----------------------------------------- | -------------------- |
| **å…¬æœ‰å˜é‡**   | `self.name`           | ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è®¿é—®                        | é€‚ç”¨äºæ™®é€šå±æ€§       |
| **å—ä¿æŠ¤å˜é‡** | `self._name`          | ä»…é™å†…éƒ¨æˆ–å­ç±»è®¿é—®ï¼ˆä½†ä»å¯å¤–éƒ¨è®¿é—®ï¼‰      | çº¦å®šä¸ºå†…éƒ¨ä½¿ç”¨       |
| ç§æœ‰å˜é‡       | `self.__name`         | ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œä½†å¯é€šè¿‡ `_ç±»å__å˜é‡` è®¿é—® | ç¡®ä¿å…³é”®æ•°æ®ä¸è¢«ä¿®æ”¹ |
| **å…¬æœ‰æ–¹æ³•**   | `def method(self):`   | ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è®¿é—®                        | ä¾›å¤–éƒ¨è°ƒç”¨           |
| **ç§æœ‰æ–¹æ³•**   | `def __method(self):` | ä»…é™ç±»å†…éƒ¨è°ƒç”¨                            | å†…éƒ¨é€»è¾‘å°è£…         |

Python çš„ç§æœ‰æœºåˆ¶æ˜¯ **çº¦å®šä¿—æˆ**ï¼Œå¹¶éçœŸæ­£å¼ºåˆ¶ã€‚åˆç†ä½¿ç”¨ `__` **å¯ä»¥å¢å¼ºå°è£…æ€§ï¼Œæä¾›ä»£ç å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼** ğŸš€

